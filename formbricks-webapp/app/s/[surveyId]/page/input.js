(() => {
var exports = {};
exports.id = 3724;
exports.ids = [3724];
exports.modules = {

/***/ 191043:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ 741000:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/s3-presigned-post");

/***/ }),

/***/ 531701:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/s3-request-presigner");

/***/ }),

/***/ 896330:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ 560483:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client/scripts/default-index.js");

/***/ }),

/***/ 832325:
/***/ ((module) => {

"use strict";
module.exports = require("jsdom");

/***/ }),

/***/ 710846:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.prod.js");

/***/ }),

/***/ 419121:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ 903295:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ 529294:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ 663033:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ 912412:
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ 584297:
/***/ ((module) => {

"use strict";
module.exports = require("async_hooks");

/***/ }),

/***/ 979428:
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ 579646:
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ 455511:
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ 714985:
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ 594735:
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ 629021:
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ 79748:
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ 781630:
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ 55591:
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ 491645:
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ 321820:
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ 333873:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 111723:
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ 927910:
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ 134631:
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ 583997:
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ 379551:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 328354:
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ 173566:
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ 74075:
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ 504573:
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ 977598:
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ 973024:
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ 937067:
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ 344708:
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ 777030:
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ 176760:
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ 1708:
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ 157075:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ 337830:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ 173136:
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ 257975:
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ 638522:
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ 476717:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   routeModule: () => (/* binding */ routeModule),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(290735);
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(291232);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(272914);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(240085);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if(["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
const module0 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 86397));
const module1 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 836653));
const module2 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 956791));
const module3 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module4 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module5 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 204369));
const module6 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 389903));
const module7 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 500571));
const page8 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 642277));


// We inject the tree and pages here so that we can use them in the route
// module.
const tree = {
        children: [
        '',
        {
        children: [
        's',
        {
        children: [
        '[surveyId]',
        {
        children: ['__PAGE__', {}, {
          page: [page8, "/Users/kdy1/projects/formbricks/apps/web/app/s/[surveyId]/page.tsx"],
          
        }]
      },
        {
        'layout': [module5, "/Users/kdy1/projects/formbricks/apps/web/app/s/[surveyId]/layout.tsx"],
'loading': [module6, "/Users/kdy1/projects/formbricks/apps/web/app/s/[surveyId]/loading.tsx"],
'not-found': [module7, "/Users/kdy1/projects/formbricks/apps/web/app/s/[surveyId]/not-found.tsx"],
        
      }
      ]
      },
        {
        
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      },
        {
        'layout': [module0, "/Users/kdy1/projects/formbricks/apps/web/app/layout.tsx"],
'error': [module1, "/Users/kdy1/projects/formbricks/apps/web/app/error.tsx"],
'not-found': [module2, "/Users/kdy1/projects/formbricks/apps/web/app/not-found.tsx"],
'forbidden': [module3, "next/dist/client/components/forbidden-error"],
'unauthorized': [module4, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      }.children;
const pages = ["/Users/kdy1/projects/formbricks/apps/web/app/s/[surveyId]/page.tsx"];


const __next_app_require__ = __webpack_require__
const __next_app_load_chunk__ = () => Promise.resolve()
const __next_app__ = {
    require: __next_app_require__,
    loadChunk: __next_app_load_chunk__
};

// Create and export the route module that will be consumed.
const routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({
    definition: {
        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,
        page: "/s/[surveyId]/page",
        pathname: "/s/[surveyId]",
        // The following aren't used in production.
        bundlePath: '',
        filename: '',
        appPaths: []
    },
    userland: {
        loaderTree: tree
    }
});

//# sourceMappingURL=app-page.js.map

/***/ }),

/***/ 285102:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "7f11f2efac37ac84796e6cb223722dbe2e808e177f": () => (/* reexport */ services/* getResponse */.mi),
  "7f12957c3365cc2950bdc48f0118f82439eb6c23ec": () => (/* reexport */ services/* getSurvey */.Dp),
  "7f20db167926d501ff62b9525526548773c8a436d4": () => (/* reexport */ services/* isTeamPartOfOrganization */.l5),
  "7f36cf02b548a01d85112f587591e8c1e8390fa538": () => (/* reexport */ services/* isProjectPartOfOrganization */.Xj),
  "7f4f2c9c8b657cf906e9a25e65dafac6ec65967916": () => (/* reexport */ services/* getWebhook */.O0),
  "7f540889be00b7aa8c6ff1edc5cd79ece876954fd3": () => (/* reexport */ services/* getInvite */.I_),
  "7f60061b4b6be335eaa2facd1c5d8129b87f6923f4": () => (/* reexport */ services/* getActionClass */.Bx),
  "7f670a0537f96de8b5156e1b206124b2a990484370": () => (/* reexport */ services/* getApiKey */.CG),
  "7f74bd40a1f82de833915085152910f3ebd525b356": () => (/* reexport */ services/* getTeam */.Uo),
  "7f8872a2b5906d664d92100e91605adc60f1a60fc4": () => (/* reexport */ getIfResponseWithSurveyIdAndEmailExistAction),
  "7f8c9f6d946399a10cb209bd2bf7269836f1547ad7": () => (/* reexport */ validateSurveyPinAction),
  "7fb899cb38edd00aaa8183362b83b0a7cd66c5d516": () => (/* reexport */ verifyTokenAction),
  "7fb9a3e6cbebea226c9a3678f31bfebf532ca7321e": () => (/* reexport */ services/* getResponseNote */.Wy),
  "7fbd19b55fd53e0c248922ea8bc58765465e84e3af": () => (/* reexport */ sendLinkSurveyEmailAction),
  "7fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1": () => (/* reexport */ services/* getTag */.bH),
  "7fc6abb0838b6422ef7e81141fd6603883cd1990cf": () => (/* reexport */ services/* getDocument */.YE),
  "7fc856fe5dd5f698d2f54dacf4280d447336780427": () => (/* reexport */ services/* getLanguage */.Z0),
  "7fcda0e6bf50febdf861015e25ebdf74068a488dde": () => (/* reexport */ services/* getContact */.bl),
  "7fcfea9518c327899180b23cb3055005ba65cdef33": () => (/* reexport */ services/* getIntegration */.rg),
  "7fdb06c584a2145e0f48be9ead409fc7f774731fde": () => (/* reexport */ services/* getEnvironment */.uc),
  "7fdcbaf3445e783557d350b55d91be1398fafca7d3": () => (/* reexport */ services/* getInsight */.zv),
  "7fe763f2c0d5f307cc75c26f23c693a54ac24a3112": () => (/* reexport */ services/* getProject */.U1),
  "7ffb22c619704253744e9b5fea4eccca8b0808fb64": () => (/* reexport */ services/* getSegment */.kn)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js
var server_reference = __webpack_require__(286055);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/app-render/encryption.js
var encryption = __webpack_require__(770767);
// EXTERNAL MODULE: ./lib/utils/action-client.ts
var action_client = __webpack_require__(308046);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(440388);
// EXTERNAL MODULE: ./modules/ee/whitelabel/email-customization/lib/organization.ts
var organization = __webpack_require__(582899);
// EXTERNAL MODULE: ./modules/email/index.tsx + 21 modules
var email = __webpack_require__(778015);
// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(283131);
// EXTERNAL MODULE: ../../packages/lib/jwt.ts
var jwt = __webpack_require__(394564);
// EXTERNAL MODULE: ../../packages/lib/response/service.ts + 1 modules
var service = __webpack_require__(535874);
// EXTERNAL MODULE: ../../packages/lib/survey/service.ts + 2 modules
var survey_service = __webpack_require__(939483);
// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(552224);
;// ../../packages/types/email.ts

const ZLinkSurveyEmailData = lib.z.object({
    surveyId: lib.z.string(),
    email: lib.z.string(),
    suId: lib.z.string().optional(),
    surveyName: lib.z.string(),
    locale: lib.z.string(),
    logoUrl: lib.z.string().optional()
});

// EXTERNAL MODULE: ../../packages/types/errors.ts
var errors = __webpack_require__(207798);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js
var action_validate = __webpack_require__(429931);
;// ./app/s/[surveyId]/actions.ts
/* __next_internal_action_entry_do_not_use__ {"7f8872a2b5906d664d92100e91605adc60f1a60fc4":"getIfResponseWithSurveyIdAndEmailExistAction","7f8c9f6d946399a10cb209bd2bf7269836f1547ad7":"validateSurveyPinAction","7fb899cb38edd00aaa8183362b83b0a7cd66c5d516":"verifyTokenAction","7fbd19b55fd53e0c248922ea8bc58765465e84e3af":"sendLinkSurveyEmailAction"} */ 












const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ sendLinkSurveyEmailAction = action_client/* actionClient */._.schema(ZLinkSurveyEmailData).action(async ({ parsedInput })=>{
    const organizationId = await (0,helper/* getOrganizationIdFromSurveyId */.a1)(parsedInput.surveyId);
    const organizationLogoUrl = await (0,organization/* getOrganizationLogoUrl */.ew)(organizationId);
    await (0,email/* sendLinkSurveyToVerifiedEmail */.Ah)({
        ...parsedInput,
        logoUrl: organizationLogoUrl || ""
    });
    return {
        success: true
    };
});
const ZVerifyTokenAction = lib.z.object({
    surveyId: common/* ZId */.i4,
    token: lib.z.string()
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ verifyTokenAction = action_client/* actionClient */._.schema(ZVerifyTokenAction).action(async ({ parsedInput })=>{
    return await (0,jwt/* verifyTokenForLinkSurvey */.CN)(parsedInput.token, parsedInput.surveyId);
});
const ZValidateSurveyPinAction = lib.z.object({
    surveyId: common/* ZId */.i4,
    pin: lib.z.string()
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ validateSurveyPinAction = action_client/* actionClient */._.schema(ZValidateSurveyPinAction).action(async ({ parsedInput })=>{
    const survey = await (0,survey_service/* getSurvey */.Dp)(parsedInput.surveyId);
    if (!survey) throw new errors/* ResourceNotFoundError */.CE("Survey", parsedInput.surveyId);
    const originalPin = survey.pin?.toString();
    if (!originalPin) return {
        survey
    };
    if (originalPin !== parsedInput.pin) {
        throw new errors/* InvalidInputError */.oC("INVALID_PIN");
    }
    return {
        survey
    };
});
const ZGetIfResponseWithSurveyIdAndEmailExistAction = lib.z.object({
    surveyId: common/* ZId */.i4,
    email: lib.z.string()
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getIfResponseWithSurveyIdAndEmailExistAction = action_client/* actionClient */._.schema(ZGetIfResponseWithSurveyIdAndEmailExistAction).action(async ({ parsedInput })=>{
    return await (0,service/* getIfResponseWithSurveyIdAndEmailExist */.gA)(parsedInput.surveyId, parsedInput.email);
});

(0,action_validate/* ensureServerEntryExports */.D)([
    sendLinkSurveyEmailAction,
    verifyTokenAction,
    validateSurveyPinAction,
    getIfResponseWithSurveyIdAndEmailExistAction
]);
(0,server_reference/* registerServerReference */.A)(sendLinkSurveyEmailAction, "7fbd19b55fd53e0c248922ea8bc58765465e84e3af", null);
(0,server_reference/* registerServerReference */.A)(verifyTokenAction, "7fb899cb38edd00aaa8183362b83b0a7cd66c5d516", null);
(0,server_reference/* registerServerReference */.A)(validateSurveyPinAction, "7f8c9f6d946399a10cb209bd2bf7269836f1547ad7", null);
(0,server_reference/* registerServerReference */.A)(getIfResponseWithSurveyIdAndEmailExistAction, "7f8872a2b5906d664d92100e91605adc60f1a60fc4", null);

// EXTERNAL MODULE: ./lib/utils/services.ts
var services = __webpack_require__(883212);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fapp%2Fs%2F%5BsurveyId%5D%2Factions.ts%22%2C%5B%5B%227f8872a2b5906d664d92100e91605adc60f1a60fc4%22%2C%22getIfResponseWithSurveyIdAndEmailExistAction%22%5D%2C%5B%227f8c9f6d946399a10cb209bd2bf7269836f1547ad7%22%2C%22validateSurveyPinAction%22%5D%2C%5B%227fb899cb38edd00aaa8183362b83b0a7cd66c5d516%22%2C%22verifyTokenAction%22%5D%2C%5B%227fbd19b55fd53e0c248922ea8bc58765465e84e3af%22%2C%22sendLinkSurveyEmailAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Flib%2Futils%2Fservices.ts%22%2C%5B%5B%227f11f2efac37ac84796e6cb223722dbe2e808e177f%22%2C%22getResponse%22%5D%2C%5B%227f12957c3365cc2950bdc48f0118f82439eb6c23ec%22%2C%22getSurvey%22%5D%2C%5B%227f20db167926d501ff62b9525526548773c8a436d4%22%2C%22isTeamPartOfOrganization%22%5D%2C%5B%227f36cf02b548a01d85112f587591e8c1e8390fa538%22%2C%22isProjectPartOfOrganization%22%5D%2C%5B%227f4f2c9c8b657cf906e9a25e65dafac6ec65967916%22%2C%22getWebhook%22%5D%2C%5B%227f540889be00b7aa8c6ff1edc5cd79ece876954fd3%22%2C%22getInvite%22%5D%2C%5B%227f60061b4b6be335eaa2facd1c5d8129b87f6923f4%22%2C%22getActionClass%22%5D%2C%5B%227f670a0537f96de8b5156e1b206124b2a990484370%22%2C%22getApiKey%22%5D%2C%5B%227f74bd40a1f82de833915085152910f3ebd525b356%22%2C%22getTeam%22%5D%2C%5B%227fb9a3e6cbebea226c9a3678f31bfebf532ca7321e%22%2C%22getResponseNote%22%5D%2C%5B%227fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1%22%2C%22getTag%22%5D%2C%5B%227fc6abb0838b6422ef7e81141fd6603883cd1990cf%22%2C%22getDocument%22%5D%2C%5B%227fc856fe5dd5f698d2f54dacf4280d447336780427%22%2C%22getLanguage%22%5D%2C%5B%227fcda0e6bf50febdf861015e25ebdf74068a488dde%22%2C%22getContact%22%5D%2C%5B%227fcfea9518c327899180b23cb3055005ba65cdef33%22%2C%22getIntegration%22%5D%2C%5B%227fdb06c584a2145e0f48be9ead409fc7f774731fde%22%2C%22getEnvironment%22%5D%2C%5B%227fdcbaf3445e783557d350b55d91be1398fafca7d3%22%2C%22getInsight%22%5D%2C%5B%227fe763f2c0d5f307cc75c26f23c693a54ac24a3112%22%2C%22getProject%22%5D%2C%5B%227ffb22c619704253744e9b5fea4eccca8b0808fb64%22%2C%22getSegment%22%5D%5D%5D%5D&__client_imported__=true!


























/***/ }),

/***/ 461555:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 887545));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 377654));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 187152));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 853648, 23));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 421435, 23));


/***/ }),

/***/ 755979:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 148621));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 118292));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 222000));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 36888, 23));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 501659, 23));


/***/ }),

/***/ 156277:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 187152));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 853648, 23));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 421435, 23));


/***/ }),

/***/ 698133:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 222000));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 36888, 23));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 501659, 23));


/***/ }),

/***/ 587032:
/***/ (() => {



/***/ }),

/***/ 580408:
/***/ (() => {



/***/ }),

/***/ 148621:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  LinkSurvey: () => (/* binding */ LinkSurvey)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/next/dist/client/app-dir/link.js
var app_dir_link = __webpack_require__(36888);
var link_default = /*#__PURE__*/__webpack_require__.n(app_dir_link);
;// ./app/s/[surveyId]/components/legal-footer.tsx
/* __next_internal_client_entry_do_not_use__ LegalFooter auto */ 


const LegalFooter = ({ IMPRINT_URL, PRIVACY_URL, IS_FORMBRICKS_CLOUD, surveyUrl })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    if (!IMPRINT_URL && !PRIVACY_URL && !IS_FORMBRICKS_CLOUD) return null;
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
        className: "absolute bottom-0 z-[1500] h-10 w-full",
        role: "contentinfo",
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
            className: "mx-auto flex h-full max-w-lg items-center justify-center p-2 text-center text-xs text-slate-500",
            children: [
                IMPRINT_URL && /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                    href: IMPRINT_URL,
                    target: "_blank",
                    className: "hover:underline",
                    tabIndex: -1,
                    children: t("common.imprint")
                }),
                IMPRINT_URL && PRIVACY_URL && /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                    className: "px-2",
                    children: "|"
                }),
                PRIVACY_URL && /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                    href: PRIVACY_URL,
                    target: "_blank",
                    className: "hover:underline",
                    tabIndex: -1,
                    children: t("common.privacy")
                }),
                PRIVACY_URL && IS_FORMBRICKS_CLOUD && /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                    className: "px-2",
                    children: "|"
                }),
                IS_FORMBRICKS_CLOUD && /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                    href: `https://app.formbricks.com/s/clxbivtla014iye2vfrn436xd?surveyUrl=${surveyUrl}`,
                    target: "_blank",
                    className: "hover:underline",
                    tabIndex: -1,
                    children: t("common.report_survey")
                })
            ]
        })
    });
};

;// ./images/powered-by-formbricks.svg
/* harmony default export */ const powered_by_formbricks = ({"src":"/_next/static/media/powered-by-formbricks.8d044b79.svg","height":200,"width":641,"blurWidth":0,"blurHeight":0});
// EXTERNAL MODULE: ./modules/ui/components/loading-spinner/index.tsx
var loading_spinner = __webpack_require__(829884);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/image.js
var api_image = __webpack_require__(134088);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ../../packages/lib/cn.ts
var cn = __webpack_require__(983773);
;// ./app/s/[surveyId]/components/survey-loading-animation.tsx






const SurveyLoadingAnimation = ({ survey, isBackgroundLoaded = true, isBrandingEnabled })=>{
    const [isHidden, setIsHidden] = (0,react.useState)(false);
    const [minTimePassed, setMinTimePassed] = (0,react.useState)(false);
    const [isMediaLoaded, setIsMediaLoaded] = (0,react.useState)(false); // Tracks if all media are fully loaded
    const [isSurveyPackageLoaded, setIsSurveyPackageLoaded] = (0,react.useState)(false); // Tracks if the survey package has been loaded into the DOM
    const isReadyToTransition = isMediaLoaded && minTimePassed && isBackgroundLoaded;
    const cardId = survey.welcomeCard.enabled ? `questionCard--1` : `questionCard-0`;
    // Function to check if all media elements (images and iframes) within the survey card are loaded
    const checkMediaLoaded = (0,react.useCallback)(()=>{
        const cardElement = document.getElementById(cardId);
        const images = cardElement ? Array.from(cardElement.getElementsByTagName("img")) : [];
        const allImagesLoaded = images.every((img)=>img.complete && img.naturalHeight !== 0);
        if (allImagesLoaded) {
            setIsMediaLoaded(true);
        }
    }, [
        cardId
    ]);
    (0,react.useEffect)(()=>{
        if (!isSurveyPackageLoaded) return;
        checkMediaLoaded();
        const mediaElements = document.querySelectorAll(`#${cardId} img, #${cardId} iframe`);
        const handleLoad = ()=>{
            checkMediaLoaded();
        };
        const handleError = ()=>{
            setIsMediaLoaded(true);
        };
        mediaElements.forEach((element)=>{
            element.addEventListener("load", handleLoad);
            element.addEventListener("error", handleError);
        });
        // Set a 3-second timeout to prevent infinite loading
        const timeoutId = setTimeout(()=>{
            setIsMediaLoaded(true);
        }, 3000);
        return ()=>{
            mediaElements.forEach((element)=>{
                element.removeEventListener("load", handleLoad);
                element.removeEventListener("error", handleError);
            });
            clearTimeout(timeoutId);
        };
    }, [
        isSurveyPackageLoaded,
        checkMediaLoaded,
        cardId
    ]);
    // Effect to handle the hiding of the animation once both media are loaded and the minimum time has passed
    (0,react.useEffect)(()=>{
        if (isMediaLoaded && minTimePassed) {
            const hideTimer = setTimeout(()=>{
                setIsHidden(true);
            }, 500);
            return ()=>{
                clearTimeout(hideTimer);
            };
        } else {
            setIsHidden(false);
        }
    }, [
        isMediaLoaded,
        minTimePassed
    ]);
    (0,react.useEffect)(()=>{
        // Ensure the animation is shown for at least 1.5 seconds
        const minTimeTimer = setTimeout(()=>{
            setMinTimePassed(true);
        }, 500);
        // Observe the DOM for when the survey package (child elements) is added to the target node
        const observer = new MutationObserver((mutations)=>{
            mutations.some((mutation)=>{
                if (mutation.addedNodes.length) {
                    setIsSurveyPackageLoaded(true);
                    observer.disconnect();
                    return true;
                }
                return false;
            });
        });
        const targetNode = document.getElementById("formbricks-survey-container");
        if (targetNode) {
            observer.observe(targetNode, {
                childList: true
            });
        }
        return ()=>{
            observer.disconnect();
            clearTimeout(minTimeTimer);
        };
    }, []);
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
        className: (0,cn.cn)("absolute inset-0 z-[5000] flex items-center justify-center transition-colors duration-1000", isReadyToTransition ? "bg-transparent" : "bg-white", isHidden && "hidden"),
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
            className: (0,cn.cn)("flex flex-col items-center space-y-4", isReadyToTransition ? "animate-surveyExit" : "animate-surveyLoading"),
            children: [
                isBrandingEnabled && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(api_image["default"], {
                    src: powered_by_formbricks,
                    alt: "Logo",
                    className: (0,cn.cn)("w-32 transition-all duration-1000 md:w-40")
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(loading_spinner.LoadingSpinner, {})
            ]
        })
    });
};

// EXTERNAL MODULE: ./modules/ui/components/client-logo/index.tsx
var client_logo = __webpack_require__(653239);
// EXTERNAL MODULE: ./modules/ui/components/media-background/index.tsx
var media_background = __webpack_require__(956721);
// EXTERNAL MODULE: ./modules/ui/components/reset-progress-button/index.tsx
var reset_progress_button = __webpack_require__(443636);
;// ./app/s/[surveyId]/components/link-survey-wrapper.tsx








const LinkSurveyWrapper = ({ children, project, survey, isPreview, isEmbed, determineStyling, handleResetSurvey, IMPRINT_URL, PRIVACY_URL, IS_FORMBRICKS_CLOUD, webAppUrl, isBrandingEnabled })=>{
    //for embedded survey strip away all surrounding css
    const [isBackgroundLoaded, setIsBackgroundLoaded] = (0,react.useState)(false);
    const handleBackgroundLoaded = (isLoaded)=>{
        if (isLoaded) {
            setIsBackgroundLoaded(true);
        }
    };
    const styling = determineStyling();
    if (isEmbed) return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        className: (0,cn.cn)("h-full w-full overflow-clip", styling.cardArrangement?.linkSurveys === "straight" && "pt-6", styling.cardArrangement?.linkSurveys === "casual" && "px-6 py-10"),
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(SurveyLoadingAnimation, {
                survey: survey,
                isBrandingEnabled: isBrandingEnabled
            }),
            children
        ]
    });
    else return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(SurveyLoadingAnimation, {
                survey: survey,
                isBackgroundLoaded: isBackgroundLoaded,
                isBrandingEnabled: isBrandingEnabled
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(media_background/* MediaBackground */.p, {
                survey: survey,
                project: project,
                onBackgroundLoaded: handleBackgroundLoaded,
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    className: "flex max-h-dvh min-h-dvh items-center justify-center overflow-clip",
                    children: [
                        !styling.isLogoHidden && project.logo?.url && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(client_logo/* ClientLogo */.L, {
                            project: project
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                            className: "h-full w-full max-w-lg space-y-6 px-1.5",
                            children: [
                                isPreview && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                    className: "fixed left-0 top-0 flex w-full items-center justify-between bg-slate-600 p-2 px-4 text-center text-sm text-white shadow-sm",
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {}),
                                        "Survey Preview \uD83D\uDC40",
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(reset_progress_button/* ResetProgressButton */.$, {
                                            onClick: handleResetSurvey
                                        })
                                    ]
                                }),
                                children
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(LegalFooter, {
                IMPRINT_URL: IMPRINT_URL,
                PRIVACY_URL: PRIVACY_URL,
                IS_FORMBRICKS_CLOUD: IS_FORMBRICKS_CLOUD,
                surveyUrl: webAppUrl + "/s/" + survey.id
            })
        ]
    });
};

// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/circle-check.js
var circle_check = __webpack_require__(794669);
// EXTERNAL MODULE: ./app/s/[surveyId]/lib/footerlogo.svg
var footerlogo = __webpack_require__(222000);
;// ./app/s/[surveyId]/components/survey-link-used.tsx
/* __next_internal_client_entry_do_not_use__ SurveyLinkUsed auto */ 





const SurveyLinkUsed = ({ singleUseMessage })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const defaultHeading = t("s.survey_already_answered_heading");
    const defaultSubheading = t("s.survey_already_answered_subheading");
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        className: "flex min-h-screen flex-col items-center justify-between bg-gradient-to-tr from-slate-200 to-slate-50 py-8 text-center",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {}),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "flex flex-col items-center space-y-3 text-slate-300",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(circle_check/* default */.A, {
                        className: "h-20 w-20"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("h1", {
                        className: "text-4xl font-bold text-slate-800",
                        children: singleUseMessage?.heading ?? defaultHeading
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                        className: "text-lg leading-10 text-slate-500",
                        children: singleUseMessage?.subheading ?? defaultSubheading
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                    href: "https://formbricks.com",
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(api_image["default"], {
                        src: footerlogo["default"],
                        alt: "Brand logo",
                        className: "mx-auto w-40"
                    })
                })
            })
        ]
    });
};

// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f8872a2b5906d664d92100e91605adc60f1a60fc4&name=getIfResponseWithSurveyIdAndEmailExistAction!

const getIfResponseWithSurveyIdAndEmailExistAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f8872a2b5906d664d92100e91605adc60f1a60fc4", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "getIfResponseWithSurveyIdAndEmailExistAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7fbd19b55fd53e0c248922ea8bc58765465e84e3af&name=sendLinkSurveyEmailAction!

const sendLinkSurveyEmailAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7fbd19b55fd53e0c248922ea8bc58765465e84e3af", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "sendLinkSurveyEmailAction")
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx
var components_button = __webpack_require__(248852);
// EXTERNAL MODULE: ./modules/ui/components/form/index.tsx
var components_form = __webpack_require__(184142);
// EXTERNAL MODULE: ./modules/ui/components/input/index.tsx
var input = __webpack_require__(438624);
;// ./modules/ui/components/stacked-cards-container/index.tsx
/* __next_internal_client_entry_do_not_use__ StackedCardsContainer auto */ 
const StackedCardsContainer = ({ children, cardArrangement })=>{
    switch(cardArrangement){
        case "casual":
            return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "group relative",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "absolute h-full w-full -rotate-6 rounded-xl border border-slate-200 bg-white opacity-40 backdrop-blur-lg transition-all duration-300 ease-in-out group-hover:-mt-1.5 group-hover:-rotate-[7deg]"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "absolute h-full w-full -rotate-3 rounded-xl border border-slate-200 bg-white opacity-70 backdrop-blur-md transition-all duration-200 ease-in-out group-hover:-mt-1 group-hover:-rotate-[4deg]"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "flex scale-[0.995] flex-col items-center justify-center rounded-xl border border-slate-200 bg-white bg-opacity-70 p-16 backdrop-blur-lg transition-all duration-200 ease-in-out group-hover:scale-[1]",
                        children: children
                    })
                ]
            });
        case "straight":
            return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "group relative",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "absolute left-[4%] h-full w-[92%] -translate-y-8 rounded-xl border border-slate-200 bg-white opacity-40 backdrop-blur-lg transition-all duration-300 ease-in-out group-hover:-mt-1.5 group-hover:-translate-y-9"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "absolute left-[2%] h-full w-[96%] -translate-y-4 rounded-xl border border-slate-200 bg-white opacity-70 backdrop-blur-md transition-all duration-200 ease-in-out group-hover:-mt-1 group-hover:-translate-y-5"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "flex scale-[0.995] flex-col items-center justify-center rounded-xl border border-slate-200 bg-white bg-opacity-70 p-16 backdrop-blur-lg transition-all duration-200 ease-in-out group-hover:scale-[1]",
                        children: children
                    })
                ]
            });
        default:
            return /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                className: "flex flex-col items-center justify-center rounded-xl border border-slate-200 bg-white p-16 backdrop-blur-lg transition-all duration-200 ease-in-out",
                children: children
            });
    }
};

// EXTERNAL MODULE: ../../node_modules/@hookform/resolvers/zod/dist/zod.mjs + 1 modules
var zod = __webpack_require__(311159);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/mail.js
var mail = __webpack_require__(247503);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/arrow-left.js
var arrow_left = __webpack_require__(681129);
// EXTERNAL MODULE: ../../node_modules/react-hook-form/dist/index.esm.mjs
var index_esm = __webpack_require__(200667);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(99922);
// EXTERNAL MODULE: ../../packages/lib/i18n/utils.ts
var utils = __webpack_require__(864698);
// EXTERNAL MODULE: ../../packages/lib/utils/recall.ts
var recall = __webpack_require__(654931);
;// ./app/s/[surveyId]/components/verify-email.tsx
/* __next_internal_client_entry_do_not_use__ VerifyEmail auto */ 















const ZVerifyEmailInput = lib.z.object({
    email: lib.z.string().email()
});
const VerifyEmail = ({ survey, isErrorComponent, singleUseId, languageCode, styling, locale })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const form = (0,index_esm/* useForm */.mN)({
        defaultValues: {
            email: ""
        },
        resolver: (0,zod/* zodResolver */.u)(ZVerifyEmailInput)
    });
    const localSurvey = (0,react.useMemo)(()=>{
        return (0,recall/* replaceHeadlineRecall */.uD)(survey, "default");
    }, [
        survey
    ]);
    const { isSubmitting } = form.formState;
    const [showPreviewQuestions, setShowPreviewQuestions] = (0,react.useState)(false);
    const [emailSent, setEmailSent] = (0,react.useState)(false);
    const submitEmail = async (emailInput)=>{
        const email = emailInput.email.toLowerCase();
        if (localSurvey.isSingleResponsePerEmailEnabled) {
            const actionResult = await getIfResponseWithSurveyIdAndEmailExistAction({
                surveyId: localSurvey.id,
                email
            });
            if (actionResult?.data) {
                form.setError("email", {
                    type: "custom",
                    message: t("s.response_already_received")
                });
                return;
            }
        }
        const data = {
            surveyId: localSurvey.id,
            email: email,
            surveyName: localSurvey.name,
            suId: singleUseId ?? "",
            locale
        };
        const actionResult = await sendLinkSurveyEmailAction(data);
        if (actionResult?.data) {
            setEmailSent(true);
        } else {
            const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(actionResult);
            dist/* toast */.oR.error(errorMessage);
        }
    };
    const handlePreviewClick = ()=>{
        setShowPreviewQuestions(!showPreviewQuestions);
    };
    const handleGoBackClick = ()=>{
        setShowPreviewQuestions(false);
        setEmailSent(false);
    };
    if (isErrorComponent) {
        return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
            className: "flex h-[100vh] w-[100vw] flex-col items-center justify-center bg-slate-50",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                    className: "h-24 w-24 rounded-full bg-slate-300 p-6 text-5xl",
                    children: "\uD83E\uDD14"
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                    className: "mt-8 text-4xl font-bold",
                    children: t("s.this_looks_fishy")
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                    variant: "ghost",
                    className: "mt-4",
                    onClick: handleGoBackClick,
                    children: t("s.please_try_again_with_the_original_link")
                })
            ]
        });
    }
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        className: "flex h-full w-full flex-col items-center justify-center p-2 text-center",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(dist.Toaster, {}),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(StackedCardsContainer, {
                cardArrangement: localSurvey.styling?.cardArrangement?.linkSurveys ?? styling.cardArrangement?.linkSurveys ?? "straight",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(index_esm/* FormProvider */.Op, {
                        ...form,
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("form", {
                            onSubmit: async (e)=>{
                                e.preventDefault();
                                await form.handleSubmit(submitEmail)(e);
                            },
                            children: !emailSent && !showPreviewQuestions && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                className: "flex flex-col",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                        className: "mx-auto rounded-full border bg-slate-200 p-6",
                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(mail/* default */.A, {
                                            strokeWidth: 1.5,
                                            className: "mx-auto h-12 w-12 text-white"
                                        })
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                        className: "mt-8 text-2xl font-bold lg:text-4xl",
                                        children: t("s.verify_email_before_submission")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                        className: "mt-4 text-sm text-slate-500 lg:text-base",
                                        children: t("s.verify_email_before_submission_description")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                        control: form.control,
                                        name: "email",
                                        render: ({ field, fieldState: { error } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormItem */.eI, {
                                                className: "my-4 w-full space-y-4",
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormControl */.MJ, {
                                                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                                                className: "flex space-x-2",
                                                                children: [
                                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                                                                        value: field.value,
                                                                        onChange: (email)=>{
                                                                            field.onChange(email);
                                                                        },
                                                                        type: "email",
                                                                        placeholder: "engineering@acme.com",
                                                                        className: "h-10 bg-white"
                                                                    }),
                                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                                                        type: "submit",
                                                                        size: "sm",
                                                                        loading: isSubmitting,
                                                                        children: t("s.verify_email_before_submission_button")
                                                                    })
                                                                ]
                                                            }),
                                                            error?.message && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormError */.jQ, {
                                                                className: "mt-2",
                                                                children: error.message
                                                            })
                                                        ]
                                                    })
                                                })
                                            })
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                                        variant: "ghost",
                                        className: "mt-6",
                                        onClick: handlePreviewClick,
                                        children: [
                                            t("s.just_curious"),
                                            " ",
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                                                children: t("s.preview_survey_questions")
                                            })
                                        ]
                                    })
                                ]
                            })
                        })
                    }),
                    !emailSent && showPreviewQuestions && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                className: "text-2xl font-bold",
                                children: t("s.question_preview")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                className: "mt-4 flex w-full flex-col justify-center rounded-lg border border-slate-200 bg-slate-50 bg-opacity-20 p-8 text-slate-700",
                                children: localSurvey.questions.map((question, index)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                        className: "my-1 text-sm",
                                        children: `${(index + 1).toString()}. ${(0,utils/* getLocalizedValue */.bT)(question.headline, languageCode)}`
                                    }, index))
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                                variant: "ghost",
                                className: "mt-6",
                                onClick: handlePreviewClick,
                                children: [
                                    t("s.want_to_respond"),
                                    " ",
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                                        children: t("s.verify_email")
                                    })
                                ]
                            })
                        ]
                    }),
                    emailSent && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("h1", {
                                className: "mt-8 text-2xl font-bold lg:text-4xl",
                                children: t("s.survey_sent_to", {
                                    email: form.getValues().email
                                })
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                className: "mt-4 text-center text-sm text-slate-500 lg:text-base",
                                children: t("s.check_inbox_or_spam")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                                variant: "secondary",
                                className: "mt-6",
                                size: "sm",
                                onClick: handleGoBackClick,
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(arrow_left/* default */.A, {}),
                                    t("common.back")
                                ]
                            })
                        ]
                    })
                ]
            })
        ]
    });
};

// EXTERNAL MODULE: ../../packages/types/surveys/types.ts + 3 modules
var types = __webpack_require__(102379);
// EXTERNAL MODULE: ../../packages/types/surveys/validation.ts
var validation = __webpack_require__(683637);
;// ./app/s/[surveyId]/lib/prefilling.ts


const getPrefillValue = (survey, searchParams, languageId)=>{
    const prefillAnswer = {};
    let questionIdxMap = {};
    survey.questions.forEach((q, idx)=>{
        questionIdxMap[q.id] = idx;
    });
    searchParams.forEach((value, key)=>{
        if (validation/* FORBIDDEN_IDS */.dn.includes(key)) return;
        const questionId = key;
        const questionIdx = questionIdxMap[questionId];
        const question = survey.questions[questionIdx];
        const answer = value;
        if (question) {
            if (checkValidity(question, answer, languageId)) {
                prefillAnswer[questionId] = transformAnswer(question, answer, languageId);
            }
        }
    });
    return Object.keys(prefillAnswer).length > 0 ? prefillAnswer : undefined;
};
const checkValidity = (question, answer, language)=>{
    if (question.required && (!answer || answer === "")) return false;
    try {
        switch(question.type){
            case types/* TSurveyQuestionTypeEnum */.wn.OpenText:
                {
                    return true;
                }
            case types/* TSurveyQuestionTypeEnum */.wn.MultipleChoiceSingle:
                {
                    const hasOther = question.choices[question.choices.length - 1].id === "other";
                    if (!hasOther) {
                        if (!question.choices.find((choice)=>choice.label[language] === answer)) return false;
                        return true;
                    }
                    if (question.choices[question.choices.length - 1].label[language] === answer) {
                        return false;
                    }
                    return true;
                }
            case types/* TSurveyQuestionTypeEnum */.wn.MultipleChoiceMulti:
                {
                    const answerChoices = answer.split(",");
                    const hasOther = question.choices[question.choices.length - 1].id === "other";
                    if (!hasOther) {
                        if (!answerChoices.every((ans)=>question.choices.find((choice)=>choice.label[language] === ans))) return false;
                        return true;
                    }
                    return true;
                }
            case types/* TSurveyQuestionTypeEnum */.wn.NPS:
                {
                    const cleanedAnswer = answer.replace(/&/g, ";");
                    const answerNumber = Number(JSON.parse(cleanedAnswer));
                    if (isNaN(answerNumber)) return false;
                    if (answerNumber < 0 || answerNumber > 10) return false;
                    return true;
                }
            case types/* TSurveyQuestionTypeEnum */.wn.CTA:
                {
                    if (question.required && answer === "dismissed") return false;
                    if (answer !== "clicked" && answer !== "dismissed") return false;
                    return true;
                }
            case types/* TSurveyQuestionTypeEnum */.wn.Consent:
                {
                    if (question.required && answer === "dismissed") return false;
                    if (answer !== "accepted" && answer !== "dismissed") return false;
                    return true;
                }
            case types/* TSurveyQuestionTypeEnum */.wn.Rating:
                {
                    const cleanedAnswer = answer.replace(/&/g, ";");
                    const answerNumber = Number(JSON.parse(cleanedAnswer));
                    if (answerNumber < 1 || answerNumber > question.range) return false;
                    return true;
                }
            case types/* TSurveyQuestionTypeEnum */.wn.PictureSelection:
                {
                    const answerChoices = answer.split(",");
                    return answerChoices.every((ans)=>!isNaN(Number(ans)));
                }
            default:
                return false;
        }
    } catch (e) {
        return false;
    }
};
const transformAnswer = (question, answer, language)=>{
    switch(question.type){
        case types/* TSurveyQuestionTypeEnum */.wn.OpenText:
        case types/* TSurveyQuestionTypeEnum */.wn.MultipleChoiceSingle:
            {
                return answer;
            }
        case types/* TSurveyQuestionTypeEnum */.wn.Consent:
        case types/* TSurveyQuestionTypeEnum */.wn.CTA:
            {
                if (answer === "dismissed") return "";
                return answer;
            }
        case types/* TSurveyQuestionTypeEnum */.wn.Rating:
        case types/* TSurveyQuestionTypeEnum */.wn.NPS:
            {
                const cleanedAnswer = answer.replace(/&/g, ";");
                return Number(JSON.parse(cleanedAnswer));
            }
        case types/* TSurveyQuestionTypeEnum */.wn.PictureSelection:
            {
                const answerChoicesIdx = answer.split(",");
                const answerArr = [];
                answerChoicesIdx.forEach((ansIdx)=>{
                    const choice = question.choices[Number(ansIdx) - 1];
                    if (choice) answerArr.push(choice.id);
                });
                if (question.allowMulti) return answerArr;
                return answerArr.slice(0, 1);
            }
        case types/* TSurveyQuestionTypeEnum */.wn.MultipleChoiceMulti:
            {
                let ansArr = answer.split(",");
                const hasOthers = question.choices[question.choices.length - 1].id === "other";
                if (!hasOthers) return ansArr;
                // answer can be "a,b,c,d" and options can be a,c,others so we are filtering out the options that are not in the options list and sending these non-existing values as a single string(representing others) like "a", "c", "b,d"
                const options = question.choices.map((o)=>o.label[language]);
                const others = ansArr.filter((a)=>!options.includes(a));
                if (others.length > 0) ansArr = ansArr.filter((a)=>options.includes(a));
                if (others.length > 0) ansArr.push(others.join(","));
                return ansArr;
            }
        default:
            return "";
    }
};

// EXTERNAL MODULE: ./modules/ui/components/survey/index.tsx
var components_survey = __webpack_require__(965694);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.js
var navigation = __webpack_require__(470207);
;// ../../packages/lib/utils/promises.ts
const delay = (ms)=>{
    return new Promise((resolve)=>setTimeout(resolve, ms));
};
const isFulfilled = (val)=>{
    return val.status === "fulfilled";
};
const isRejected = (val)=>{
    return val.status === "rejected";
};

;// ../../packages/lib/responseQueue.ts
Object(function webpackMissingModule() { var e = new Error("Cannot find module '@formbricks/api'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());


class ResponseQueue {
    constructor(config, surveyState){
        this.queue = [];
        this.isRequestInProgress = false;
        this.config = config;
        this.surveyState = surveyState;
        this.api = new Object(function webpackMissingModule() { var e = new Error("Cannot find module '@formbricks/api'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({
            apiHost: config.apiHost,
            environmentId: config.environmentId
        });
    }
    add(responseUpdate) {
        // update survey state
        this.surveyState.accumulateResponse(responseUpdate);
        if (this.config.setSurveyState) {
            this.config.setSurveyState(this.surveyState);
        }
        // add response to queue
        this.queue.push(responseUpdate);
        this.processQueue();
    }
    async processQueue() {
        if (this.isRequestInProgress) return;
        if (this.queue.length === 0) return;
        this.isRequestInProgress = true;
        const responseUpdate = this.queue[0];
        let attempts = 0;
        while(attempts < this.config.retryAttempts){
            const success = await this.sendResponse(responseUpdate);
            if (success) {
                this.queue.shift(); // remove the successfully sent response from the queue
                break; // exit the retry loop
            }
            console.error(`Formbricks: Failed to send response. Retrying... ${attempts}`);
            await delay(1000); // wait for 1 second before retrying
            attempts++;
        }
        if (attempts >= this.config.retryAttempts) {
            // Inform the user after 2 failed attempts
            console.error("Failed to send response after 2 attempts.");
            // If the response fails finally, inform the user
            if (this.config.onResponseSendingFailed) {
                this.config.onResponseSendingFailed(responseUpdate);
            }
            this.isRequestInProgress = false;
        } else {
            if (responseUpdate.finished && this.config.onResponseSendingFinished) {
                this.config.onResponseSendingFinished();
            }
            this.isRequestInProgress = false;
            this.processQueue(); // process the next item in the queue if any
        }
    }
    async sendResponse(responseUpdate) {
        try {
            if (this.surveyState.responseId !== null) {
                await this.api.client.response.update({
                    ...responseUpdate,
                    responseId: this.surveyState.responseId
                });
            } else {
                const response = await this.api.client.response.create({
                    ...responseUpdate,
                    surveyId: this.surveyState.surveyId,
                    userId: this.surveyState.userId || null,
                    singleUseId: this.surveyState.singleUseId || null,
                    data: {
                        ...responseUpdate.data,
                        ...responseUpdate.hiddenFields
                    },
                    displayId: this.surveyState.displayId
                });
                if (!response.ok) {
                    throw new Error("Could not create response");
                }
                this.surveyState.updateResponseId(response.data.id);
                if (this.config.setSurveyState) {
                    this.config.setSurveyState(this.surveyState);
                }
            }
            return true;
        } catch (error) {
            console.error(error);
            return false;
        }
    }
    // update surveyState
    updateSurveyState(surveyState) {
        this.surveyState = surveyState;
    }
}

;// ../../packages/lib/surveyState.ts
class SurveyState {
    constructor(surveyId, singleUseId, responseId, userId){
        this.responseId = null;
        this.displayId = null;
        this.userId = null;
        this.responseAcc = {
            finished: false,
            data: {},
            ttc: {},
            variables: {}
        };
        this.surveyId = surveyId;
        this.userId = userId ?? null;
        this.singleUseId = singleUseId ?? null;
        this.responseId = responseId ?? null;
    }
    /**
   * Set the current survey ID
   * @param id - The survey ID
   */ setSurveyId(id) {
        this.surveyId = id;
        this.clear(); // Reset the state when setting a new surveyId
    }
    /**
   * Get a copy of the current state
   */ copy() {
        const copyInstance = new SurveyState(this.surveyId, this.singleUseId ?? undefined, this.responseId ?? undefined, this.userId ?? undefined);
        copyInstance.responseId = this.responseId;
        copyInstance.responseAcc = this.responseAcc;
        return copyInstance;
    }
    /**
   * Update the response ID after a successful response creation
   * @param id - The response ID
   */ updateResponseId(id) {
        this.responseId = id;
    }
    /**
   * Update the display ID after a successful display creation
   * @param id - The display ID
   */ updateDisplayId(id) {
        this.displayId = id;
    }
    /**
   * Update the user ID
   * @param id - The user ID
   */ updateUserId(id) {
        this.userId = id;
    }
    /**
   * Accumulate the responses
   * @param responseUpdate - The new response data to add
   */ accumulateResponse(responseUpdate) {
        this.responseAcc = {
            finished: responseUpdate.finished,
            ttc: responseUpdate.ttc,
            data: {
                ...this.responseAcc.data,
                ...responseUpdate.data
            },
            variables: responseUpdate.variables,
            displayId: responseUpdate.displayId
        };
    }
    /**
   * Check if the current accumulated response is finished
   */ isResponseFinished() {
        return this.responseAcc.finished;
    }
    /**
   * Clear the current state
   */ clear() {
        this.responseId = null;
        this.responseAcc = {
            finished: false,
            data: {},
            ttc: {},
            variables: {}
        };
    }
}

;// ./app/s/[surveyId]/components/link-survey.tsx
Object(function webpackMissingModule() { var e = new Error("Cannot find module '@formbricks/api'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* __next_internal_client_entry_do_not_use__ LinkSurvey auto */ 











let setIsError = (_)=>{};
let setIsResponseSendingFinished = (_)=>{};
let setQuestionId = (_)=>{};
let setResponseData = (_)=>{};
const LinkSurvey = ({ survey, project, emailVerificationStatus, singleUseId, singleUseResponse, webAppUrl, responseCount, verifiedEmail, languageCode, isEmbed, IMPRINT_URL, PRIVACY_URL, IS_FORMBRICKS_CLOUD, locale, isPreview })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const responseId = singleUseResponse?.id;
    const searchParams = (0,navigation.useSearchParams)();
    const skipPrefilled = searchParams.get("skipPrefilled") === "true";
    const sourceParam = searchParams.get("source");
    const suId = searchParams.get("suId");
    const defaultLanguageCode = survey.languages.find((surveyLanguage)=>{
        return surveyLanguage.default;
    })?.language.code;
    const startAt = searchParams.get("startAt");
    const isStartAtValid = (0,react.useMemo)(()=>{
        if (!startAt) return false;
        if (survey.welcomeCard.enabled && startAt === "start") return true;
        const isValid = survey.questions.some((question)=>question.id === startAt);
        // To remove startAt query param from URL if it is not valid:
        if (!isValid && "undefined" !== "undefined") {}
        return isValid;
    }, [
        survey,
        startAt
    ]);
    // pass in the responseId if the survey is a single use survey, ensures survey state is updated with the responseId
    let surveyState = (0,react.useMemo)(()=>{
        return new SurveyState(survey.id, singleUseId, responseId);
    }, [
        survey.id,
        singleUseId,
        responseId
    ]);
    const prefillValue = getPrefillValue(survey, searchParams, languageCode);
    const responseQueue = (0,react.useMemo)(()=>new ResponseQueue({
            apiHost: webAppUrl,
            environmentId: survey.environmentId,
            retryAttempts: 2,
            onResponseSendingFailed: ()=>{
                setIsError(true);
            },
            onResponseSendingFinished: ()=>{
                // when response of current question is processed successfully
                setIsResponseSendingFinished(true);
            }
        }, surveyState), [
        webAppUrl,
        survey.environmentId,
        surveyState
    ]);
    const [autoFocus, setAutofocus] = (0,react.useState)(false);
    const hasFinishedSingleUseResponse = (0,react.useMemo)(()=>{
        if (singleUseResponse?.finished) {
            return true;
        }
        return false;
    // eslint-disable-next-line react-hooks/exhaustive-deps -- only run once
    }, []);
    // Not in an iframe, enable autofocus on input fields.
    (0,react.useEffect)(()=>{
        if (window.self === window.top) {
            setAutofocus(true);
        }
    // eslint-disable-next-line react-hooks/exhaustive-deps -- only run once
    }, []);
    const hiddenFieldsRecord = (0,react.useMemo)(()=>{
        const fieldsRecord = {};
        survey.hiddenFields.fieldIds?.forEach((field)=>{
            const answer = searchParams.get(field);
            if (answer) {
                fieldsRecord[field] = answer;
            }
        });
        return fieldsRecord;
    }, [
        searchParams,
        survey.hiddenFields.fieldIds
    ]);
    const getVerifiedEmail = (0,react.useMemo)(()=>{
        if (survey.isVerifyEmailEnabled && verifiedEmail) {
            return {
                verifiedEmail: verifiedEmail
            };
        } else {
            return null;
        }
    }, [
        survey.isVerifyEmailEnabled,
        verifiedEmail
    ]);
    (0,react.useEffect)(()=>{
        responseQueue.updateSurveyState(surveyState);
    }, [
        responseQueue,
        surveyState
    ]);
    if (!surveyState.isResponseFinished() && hasFinishedSingleUseResponse) {
        return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(SurveyLinkUsed, {
            singleUseMessage: survey.singleUse
        });
    }
    if (survey.isVerifyEmailEnabled && emailVerificationStatus !== "verified") {
        if (emailVerificationStatus === "fishy") {
            return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(VerifyEmail, {
                survey: survey,
                isErrorComponent: true,
                languageCode: languageCode,
                styling: project.styling,
                locale: locale
            });
        }
        //emailVerificationStatus === "not-verified"
        return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(VerifyEmail, {
            singleUseId: suId ?? "",
            survey: survey,
            languageCode: languageCode,
            styling: project.styling,
            locale: locale
        });
    }
    const determineStyling = ()=>{
        // Check if style overwrite is disabled at the project level
        if (!project.styling.allowStyleOverwrite) {
            return project.styling;
        }
        // Return survey styling if survey overwrites are enabled, otherwise return project styling
        return survey.styling?.overwriteThemeStyling ? survey.styling : project.styling;
    };
    const handleResetSurvey = ()=>{
        setQuestionId(survey.welcomeCard.enabled ? "start" : survey.questions[0].id);
        setResponseData({});
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(LinkSurveyWrapper, {
        project: project,
        survey: survey,
        isPreview: isPreview,
        handleResetSurvey: handleResetSurvey,
        determineStyling: determineStyling,
        isEmbed: isEmbed,
        webAppUrl: webAppUrl,
        IS_FORMBRICKS_CLOUD: IS_FORMBRICKS_CLOUD,
        IMPRINT_URL: IMPRINT_URL,
        PRIVACY_URL: PRIVACY_URL,
        isBrandingEnabled: project.linkSurveyBranding,
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_survey/* SurveyInline */.K, {
            survey: survey,
            styling: determineStyling(),
            languageCode: languageCode,
            isBrandingEnabled: project.linkSurveyBranding,
            shouldResetQuestionId: false,
            getSetIsError: (f)=>{
                setIsError = f;
            },
            getSetIsResponseSendingFinished: !isPreview ? (f)=>{
                setIsResponseSendingFinished = f;
            } : undefined,
            onRetry: ()=>{
                setIsError(false);
                void responseQueue.processQueue();
            },
            onDisplay: ()=>{
                if (!isPreview) {
                    void (async ()=>{
                        const api = new Object(function webpackMissingModule() { var e = new Error("Cannot find module '@formbricks/api'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({
                            apiHost: webAppUrl,
                            environmentId: survey.environmentId
                        });
                        const res = await api.client.display.create({
                            surveyId: survey.id
                        });
                        if (!res.ok) {
                            throw new Error(t("s.could_not_create_display"));
                        }
                        const { id } = res.data;
                        surveyState.updateDisplayId(id);
                        responseQueue.updateSurveyState(surveyState);
                    })();
                }
            },
            onResponse: (responseUpdate)=>{
                !isPreview && responseQueue.add({
                    data: {
                        ...responseUpdate.data,
                        ...hiddenFieldsRecord,
                        ...getVerifiedEmail
                    },
                    ttc: responseUpdate.ttc,
                    finished: responseUpdate.finished,
                    endingId: responseUpdate.endingId,
                    language: responseUpdate.language === "default" && defaultLanguageCode ? defaultLanguageCode : responseUpdate.language,
                    meta: {
                        url: window.location.href,
                        source: typeof sourceParam === "string" ? sourceParam : ""
                    },
                    variables: responseUpdate.variables,
                    displayId: surveyState.displayId,
                    ...Object.keys(hiddenFieldsRecord).length > 0 && {
                        hiddenFields: hiddenFieldsRecord
                    }
                });
            },
            onFileUpload: async (file, params)=>{
                const api = new Object(function webpackMissingModule() { var e = new Error("Cannot find module '@formbricks/api'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({
                    apiHost: webAppUrl,
                    environmentId: survey.environmentId
                });
                const uploadedUrl = await api.client.storage.uploadFile(file, params);
                return uploadedUrl;
            },
            // eslint-disable-next-line jsx-a11y/no-autofocus -- need it as focus behaviour is different in normal surveys and survey preview
            autoFocus: autoFocus,
            prefillResponseData: prefillValue,
            skipPrefilled: skipPrefilled,
            responseCount: responseCount,
            getSetQuestionId: (f)=>{
                setQuestionId = f;
            },
            getSetResponseData: (f)=>{
                setResponseData = f;
            },
            startAtQuestionId: startAt && isStartAtValid ? startAt : undefined,
            fullSizeCards: isEmbed,
            hiddenFieldsRecord: hiddenFieldsRecord
        })
    });
};


/***/ }),

/***/ 118292:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  PinScreen: () => (/* binding */ PinScreen)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f8c9f6d946399a10cb209bd2bf7269836f1547ad7&name=validateSurveyPinAction!

const validateSurveyPinAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f8c9f6d946399a10cb209bd2bf7269836f1547ad7", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "validateSurveyPinAction")
// EXTERNAL MODULE: ./app/s/[surveyId]/components/link-survey.tsx + 13 modules
var link_survey = __webpack_require__(148621);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
// EXTERNAL MODULE: ./modules/ui/components/otp-input/index.tsx
var otp_input = __webpack_require__(986992);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ../../packages/lib/cn.ts
var cn = __webpack_require__(983773);
;// ./app/s/[surveyId]/components/pin-screen.tsx
/* __next_internal_client_entry_do_not_use__ PinScreen auto */ 







const PinScreen = (props)=>{
    const { surveyId, project, webAppUrl, emailVerificationStatus, singleUseId, singleUseResponse, IMPRINT_URL, PRIVACY_URL, IS_FORMBRICKS_CLOUD, verifiedEmail, languageCode, isEmbed, locale, isPreview } = props;
    const [localPinEntry, setLocalPinEntry] = (0,react.useState)("");
    const [loading, setLoading] = (0,react.useState)(false);
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [error, setError] = (0,react.useState)("");
    const [survey, setSurvey] = (0,react.useState)();
    const resetState = (0,react.useCallback)(()=>{
        setError("");
        setLoading(false);
        setLocalPinEntry("");
    }, []);
    (0,react.useEffect)(()=>{
        if (error) {
            const timeout = setTimeout(()=>{
                resetState();
            }, 2 * 1000);
            return ()=>{
                clearTimeout(timeout);
            };
        }
    }, [
        error,
        resetState
    ]);
    (0,react.useEffect)(()=>{
        const validateSurveyPin = async ()=>{
            const validPinRegex = /^\d{4}$/;
            const isValidPin = validPinRegex.test(localPinEntry);
            if (isValidPin) {
                setLoading(true);
                const response = await validateSurveyPinAction({
                    surveyId,
                    pin: localPinEntry
                });
                if (response?.data) {
                    setSurvey(response.data.survey);
                } else {
                    const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(response);
                    setError(errorMessage);
                }
                setLoading(false);
            }
        };
        void validateSurveyPin();
    }, [
        localPinEntry,
        surveyId
    ]);
    if (!survey) {
        return /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
            className: "flex h-full w-full items-center justify-center",
            children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "flex flex-col items-center justify-center",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "my-4 font-semibold",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("h4", {
                            children: t("s.enter_pin")
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(otp_input/* OTPInput */.w, {
                        disabled: Boolean(error) || loading,
                        value: localPinEntry,
                        onChange: (value)=>{
                            setLocalPinEntry(value);
                        },
                        valueLength: 4,
                        inputBoxClassName: (0,cn.cn)({
                            "border-red-400": Boolean(error)
                        })
                    })
                ]
            })
        });
    }
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(link_survey.LinkSurvey, {
        survey: survey,
        project: project,
        emailVerificationStatus: emailVerificationStatus,
        singleUseId: singleUseId,
        singleUseResponse: singleUseResponse,
        webAppUrl: webAppUrl,
        verifiedEmail: verifiedEmail,
        languageCode: languageCode,
        isEmbed: isEmbed,
        IMPRINT_URL: IMPRINT_URL,
        PRIVACY_URL: PRIVACY_URL,
        IS_FORMBRICKS_CLOUD: IS_FORMBRICKS_CLOUD,
        locale: locale,
        isPreview: isPreview
    });
};


/***/ }),

/***/ 653239:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ ClientLogo)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* harmony import */ var _barrel_optimize_names_ArrowUpRight_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(620394);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(134088);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36888);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ ClientLogo auto */ 





const ClientLogo = ({ environmentId, project, previewSurvey = false })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)(previewSurvey ? "" : "left-3 top-3 md:left-7 md:top-7", "group absolute z-0 rounded-lg"),
        style: {
            backgroundColor: project.logo?.bgColor
        },
        children: [
            previewSurvey && environmentId && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                href: `/environments/${environmentId}/project/look`,
                className: "group/link absolute h-full w-full hover:cursor-pointer",
                target: "_blank",
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowUpRight_lucide_react__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A, {
                    size: 24,
                    className: "absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform rounded-md bg-white/80 p-0.5 text-slate-700 opacity-0 transition-all duration-200 ease-in-out group-hover/link:opacity-100"
                })
            }),
            project.logo?.url ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__["default"], {
                src: project.logo?.url,
                className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)(previewSurvey ? "max-h-12" : "max-h-16 md:max-h-20", "w-auto max-w-40 rounded-lg object-contain p-1 md:max-w-56"),
                width: 256,
                height: 64,
                alt: "Company Logo"
            }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                href: `/environments/${environmentId}/project/look`,
                onClick: (e)=>{
                    if (!environmentId) {
                        e.preventDefault();
                    }
                },
                className: "whitespace-nowrap rounded-md border border-dashed border-slate-400 bg-slate-200 px-6 py-3 text-xs text-slate-900 opacity-50 backdrop-blur-sm hover:cursor-pointer hover:border-slate-600",
                target: "_blank",
                children: t("common.add_logo")
            })
        ]
    });
};


/***/ }),

/***/ 184142:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MJ: () => (/* binding */ FormControl),
/* harmony export */   Op: () => (/* reexport safe */ react_hook_form__WEBPACK_IMPORTED_MODULE_3__.Op),
/* harmony export */   Rr: () => (/* binding */ FormDescription),
/* harmony export */   eI: () => (/* binding */ FormItem),
/* harmony export */   jQ: () => (/* binding */ FormError),
/* harmony export */   lR: () => (/* binding */ FormLabel),
/* harmony export */   zB: () => (/* binding */ FormField)
/* harmony export */ });
/* unused harmony export useFormField */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(189300);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(200667);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(983773);
/* harmony import */ var _label__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(61330);
/* __next_internal_client_entry_do_not_use__ useFormField,FormProvider,FormItem,FormLabel,FormControl,FormDescription,FormError,FormField auto */ 





const FormFieldContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
const FormField = ({ ...props })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormFieldContext.Provider, {
        value: {
            name: props.name
        },
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_hook_form__WEBPACK_IMPORTED_MODULE_3__/* .Controller */ .xI, {
            ...props
        })
    });
};
const useFormField = ()=>{
    const fieldContext = react__WEBPACK_IMPORTED_MODULE_1__.useContext(FormFieldContext);
    const itemContext = react__WEBPACK_IMPORTED_MODULE_1__.useContext(FormItemContext);
    const { getFieldState, formState } = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_3__/* .useFormContext */ .xW)();
    const fieldState = getFieldState(fieldContext.name, formState);
    if (!fieldContext) {
        throw new Error("useFormField should be used within <FormField>");
    }
    const { id } = itemContext;
    return {
        id,
        name: fieldContext.name,
        formItemId: `${id}-form-item`,
        formDescriptionId: `${id}-form-item-description`,
        formMessageId: `${id}-form-item-message`,
        ...fieldState
    };
};
const FormItemContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
const FormItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>{
    const id = react__WEBPACK_IMPORTED_MODULE_1__.useId();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormItemContext.Provider, {
        value: {
            id
        },
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            ref: ref,
            className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)("space-y-2", className),
            ...props
        })
    });
});
FormItem.displayName = "FormItem";
const FormLabel = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>{
    const { error, formItemId } = useFormField();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_label__WEBPACK_IMPORTED_MODULE_2__/* .Label */ .J, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)(error ? "text-red-500" : "text-slate-800", className),
        htmlFor: formItemId,
        ...props
    });
});
FormLabel.displayName = "FormLabel";
const FormControl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ ...props }, ref)=>{
    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__/* .Slot */ .DX, {
        ref: ref,
        id: formItemId,
        "aria-describedby": !error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`,
        "aria-invalid": !!error,
        ...props
    });
});
FormControl.displayName = "FormControl";
const FormDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>{
    const { formItemId } = useFormField();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
        ref: ref,
        id: formItemId,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)("text-xs text-slate-500", className),
        ...props
    });
});
FormDescription.displayName = "FormDescription";
const FormError = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>{
    const { error, formMessageId } = useFormField();
    const errorMessage = error?.message || error?.root?.message;
    const body = error ? String(errorMessage) : children;
    if (!body) {
        return null;
    }
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
        ref: ref,
        id: formMessageId,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)("text-error text-sm", className),
        ...props,
        children: body
    });
});
FormError.displayName = "FormError";



/***/ }),

/***/ 438624:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ Input)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(983773);



const Input = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, isInvalid, ...props }, ref)=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("focus:border-brand-dark flex h-10 w-full rounded-md border border-slate-300 bg-transparent px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-500 dark:text-slate-300", className, isInvalid && "border border-red-500 focus:border-red-500"),
        ref: ref,
        ...props
    });
});
Input.displayName = "Input";



/***/ }),

/***/ 61330:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ Label)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(446470);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ Label auto */ 



const Label = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__/* .Root */ .b, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("text-sm font-medium leading-none text-slate-800 disabled:opacity-70 peer-disabled:cursor-not-allowed peer-disabled:opacity-70 dark:text-slate-400 dark:peer-disabled:opacity-70", className),
        ...props
    }));
Label.displayName = _radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__/* .Root */ .b.displayName;



/***/ }),

/***/ 829884:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoadingSpinner: () => (/* binding */ LoadingSpinner)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ LoadingSpinner auto */ 

const LoadingSpinner = ({ className = "h-6 w-6" })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: "flex h-full w-full items-center justify-center",
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", {
            className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("m-2 animate-spin text-slate-700", className),
            xmlns: "http://www.w3.org/2000/svg",
            fill: "none",
            viewBox: "0 0 24 24",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle", {
                    className: "opacity-25",
                    cx: "12",
                    cy: "12",
                    r: "10",
                    stroke: "currentColor",
                    strokeWidth: "4"
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", {
                    className: "opacity-75",
                    fill: "currentColor",
                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                })
            ]
        })
    });
};


/***/ }),

/***/ 956721:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ MediaBackground)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(397674);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(134088);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36888);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* __next_internal_client_entry_do_not_use__ MediaBackground auto */ 




const MediaBackground = ({ children, project, survey, isEditorView = false, isMobilePreview = false, ContentRef, onBackgroundLoaded })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_4__/* .useTranslate */ .WD)();
    const animatedBackgroundRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);
    const [backgroundLoaded, setBackgroundLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);
    const [authorDetailsForUnsplash, setAuthorDetailsForUnsplash] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({
        authorName: "",
        authorURL: ""
    });
    // get the background from either the survey or the project styling
    const background = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{
        // allow style overwrite is disabled from the project
        if (!project.styling.allowStyleOverwrite) {
            return project.styling.background;
        }
        // allow style overwrite is enabled from the project
        if (project.styling.allowStyleOverwrite) {
            // survey style overwrite is disabled
            if (!survey.styling?.overwriteThemeStyling) {
                return project.styling.background;
            }
            // survey style overwrite is enabled
            return survey.styling.background;
        }
        return project.styling.background;
    }, [
        project.styling.allowStyleOverwrite,
        project.styling.background,
        survey.styling
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{
        if (background?.bgType === "animation" && animatedBackgroundRef.current) {
            const video = animatedBackgroundRef.current;
            const onCanPlayThrough = ()=>setBackgroundLoaded(true);
            video.addEventListener("canplaythrough", onCanPlayThrough);
            video.src = background?.bg || "";
            // Cleanup
            return ()=>video.removeEventListener("canplaythrough", onCanPlayThrough);
        } else if ((background?.bgType === "image" || background?.bgType === "upload") && background?.bg) {
            if (background?.bgType === "image") {
                // To not set for Default Images as they have relative URL & are not from Unsplash
                if (!background?.bg.startsWith("/")) {
                    setAuthorDetailsForUnsplash({
                        authorName: new URL(background?.bg).searchParams.get("authorName") || "",
                        authorURL: new URL(background?.bg).searchParams.get("authorLink") || ""
                    });
                } else {
                    setAuthorDetailsForUnsplash({
                        authorName: "",
                        authorURL: ""
                    });
                }
            }
        } else {
            // For colors or any other types, set to loaded immediately
            setBackgroundLoaded(true);
        }
    }, [
        background?.bg,
        background?.bgType
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{
        if (backgroundLoaded && onBackgroundLoaded) {
            onBackgroundLoaded(true);
        }
    }, [
        backgroundLoaded,
        onBackgroundLoaded
    ]);
    const baseClasses = "absolute inset-0 h-full w-full transition-opacity duration-500";
    const loadedClass = backgroundLoaded ? "opacity-100" : "opacity-0";
    const getFilterStyle = ()=>{
        return `brightness(${background?.brightness ?? 100}%)`;
    };
    const renderBackground = ()=>{
        const filterStyle = getFilterStyle();
        switch(background?.bgType){
            case "color":
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: `${baseClasses} ${loadedClass}`,
                    style: {
                        backgroundColor: background?.bg || "#ffffff",
                        filter: `${filterStyle}`
                    }
                });
            case "animation":
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("video", {
                    ref: animatedBackgroundRef,
                    muted: true,
                    loop: true,
                    autoPlay: true,
                    playsInline: true,
                    className: `${baseClasses} ${loadedClass} object-cover`,
                    style: {
                        filter: `${filterStyle}`
                    },
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("source", {
                        src: background?.bg || "",
                        type: "video/mp4"
                    })
                });
            case "image":
                if (!background?.bg) {
                    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        children: t("common.no_background_image_found")
                    });
                }
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: `${baseClasses} ${loadedClass} bg-cover bg-center`,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__["default"], {
                                src: background?.bg,
                                alt: "Background image",
                                layout: "fill",
                                objectFit: "cover",
                                style: {
                                    filter: `${filterStyle}`
                                },
                                onLoadingComplete: ()=>setBackgroundLoaded(true)
                            }),
                            authorDetailsForUnsplash.authorName && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: "absolute bottom-4 right-6 z-10 ml-auto hidden w-max text-xs text-slate-400 md:block",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                        children: t("common.photo_by")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                        href: authorDetailsForUnsplash.authorURL + "?utm_source=formbricks&utm_medium=referral",
                                        target: "_blank",
                                        className: "hover:underline",
                                        children: authorDetailsForUnsplash.authorName
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                                        children: [
                                            " ",
                                            t("common.on"),
                                            " "
                                        ]
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                        href: "https://unsplash.com/?utm_source=formbricks&utm_medium=referral",
                                        target: "_blank",
                                        className: "hover:underline",
                                        children: "Unsplash"
                                    })
                                ]
                            })
                        ]
                    })
                });
            case "upload":
                if (!background?.bg) {
                    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        children: t("common.no_background_image_found")
                    });
                }
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: `${baseClasses} ${loadedClass} bg-cover bg-center`,
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__["default"], {
                        src: background?.bg,
                        alt: "Background image",
                        layout: "fill",
                        objectFit: "cover",
                        style: {
                            filter: `${filterStyle}`
                        },
                        onLoadingComplete: ()=>setBackgroundLoaded(true)
                    })
                });
            default:
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: `${baseClasses} ${loadedClass}`
                });
        }
    };
    const renderContent = ()=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            className: "no-scrollbar absolute flex h-full w-full items-center justify-center overflow-hidden",
            children: children
        });
    if (isMobilePreview) {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            ref: ContentRef,
            className: `relative h-[90%] max-h-[40rem] w-[22rem] overflow-hidden rounded-[3rem] border-[6px] border-slate-400 ${getFilterStyle()}`,
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "absolute left-1/2 right-1/2 top-2 z-20 h-4 w-1/3 -translate-x-1/2 transform rounded-full bg-slate-400"
                }),
                survey.type === "link" && renderBackground(),
                renderContent()
            ]
        });
    } else if (isEditorView) {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            ref: ContentRef,
            className: "overflow-hiddem flex flex-grow flex-col rounded-b-lg",
            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "relative flex w-full flex-grow flex-col items-center justify-center p-4 py-6",
                children: [
                    renderBackground(),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "flex h-full w-full items-center justify-center",
                        children: children
                    })
                ]
            })
        });
    } else {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "flex min-h-dvh flex-col items-center justify-center",
            children: [
                renderBackground(),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "relative w-full",
                    children: children
                })
            ]
        });
    }
};


/***/ }),

/***/ 986992:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   w: () => (/* binding */ OTPInput)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(438624);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(983773);




const RE_DIGIT = /^\d+$/;
const OTPInput = ({ value, valueLength, onChange, containerClassName, inputBoxClassName, disabled })=>{
    const valueItems = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{
        const valueArray = value.split("");
        const items = [];
        for(let i = 0; i < valueLength; i++){
            const char = valueArray[i];
            if (RE_DIGIT.test(char)) {
                items.push(char);
            } else {
                items.push("");
            }
        }
        return items;
    }, [
        value,
        valueLength
    ]);
    const focusToNextInput = (target)=>{
        const nextElementSibling = target.nextElementSibling;
        if (nextElementSibling) {
            nextElementSibling.focus();
        }
    };
    const focusToPrevInput = (target)=>{
        const previousElementSibling = target.previousElementSibling;
        if (previousElementSibling) {
            previousElementSibling.focus();
        }
    };
    const inputOnChange = (e, idx)=>{
        const target = e.target;
        let targetValue = target.value.trim();
        const isTargetValueDigit = RE_DIGIT.test(targetValue);
        if (!isTargetValueDigit && targetValue !== "") {
            return;
        }
        const nextInputEl = target.nextElementSibling;
        // only delete digit if next input element has no value
        if (!isTargetValueDigit && nextInputEl && nextInputEl.value !== "") {
            return;
        }
        targetValue = isTargetValueDigit ? targetValue : " ";
        const targetValueLength = targetValue.length;
        if (targetValueLength === 1) {
            const newValue = value.substring(0, idx) + targetValue + value.substring(idx + 1);
            onChange(newValue);
            if (!isTargetValueDigit) {
                return;
            }
            focusToNextInput(target);
        } else if (targetValueLength === valueLength) {
            onChange(targetValue);
            target.blur();
        }
    };
    const inputOnKeyDown = (e)=>{
        const { key } = e;
        const target = e.target;
        if (key === "ArrowRight" || key === "ArrowDown") {
            e.preventDefault();
            return focusToNextInput(target);
        }
        if (key === "ArrowLeft" || key === "ArrowUp") {
            e.preventDefault();
            return focusToPrevInput(target);
        }
        const targetValue = target.value;
        // keep the selection range position
        // if the same digit was typed
        target.setSelectionRange(0, targetValue.length);
        if (e.key !== "Backspace" || targetValue !== "") {
            return;
        }
        focusToPrevInput(target);
    };
    const inputOnFocus = (e)=>{
        const { target } = e;
        // keep focusing back until previous input
        // element has value
        const prevInputEl = target.previousElementSibling;
        if (prevInputEl && prevInputEl.value === "") {
            return prevInputEl.focus();
        }
        target.setSelectionRange(0, target.value.length);
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("flex justify-center space-x-2", containerClassName),
        children: valueItems.map((digit, idx)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_input__WEBPACK_IMPORTED_MODULE_1__/* .Input */ .p, {
                type: "text",
                inputMode: "numeric",
                autoComplete: "one-time-code",
                pattern: "\\d{1}",
                maxLength: valueLength,
                className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("h-10 w-10 rounded-md border-slate-300 text-center shadow-sm sm:text-sm", inputBoxClassName),
                value: digit,
                onChange: (e)=>inputOnChange(e, idx),
                onKeyDown: inputOnKeyDown,
                onFocus: inputOnFocus,
                disabled: disabled
            }, idx))
    });
};


/***/ }),

/***/ 443636:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ ResetProgressButton)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(248852);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(397674);
/* harmony import */ var _barrel_optimize_names_Repeat2_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(218904);
/* __next_internal_client_entry_do_not_use__ ResetProgressButton auto */ 



const ResetProgressButton = ({ onClick })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_2__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
        type: "button",
        variant: "ghost",
        className: "mr-2 h-fit bg-white px-2 py-0 font-sans text-sm text-slate-500",
        onClick: onClick,
        children: [
            t("common.restart"),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Repeat2_lucide_react__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A, {
                className: "ml-2 h-4 w-4"
            })
        ]
    });
};


/***/ }),

/***/ 965694:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ SurveyInline)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


const createContainerId = ()=>`formbricks-survey-container`;
const SurveyInline = (props)=>{
    const containerId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>createContainerId(), []);
    const renderInline = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>window.formbricksSurveys.renderSurveyInline({
            ...props,
            containerId
        }), [
        containerId,
        props
    ]);
    const [isScriptLoaded, setIsScriptLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const loadSurveyScript = async ()=>{
        try {
            const response = await fetch("/js/surveys.umd.cjs");
            if (!response.ok) {
                throw new Error("Failed to load the surveys package");
            }
            const scriptContent = await response.text();
            const scriptElement = document.createElement("script");
            scriptElement.textContent = scriptContent;
            document.head.appendChild(scriptElement);
            setIsScriptLoaded(true);
        } catch (error) {
            throw error;
        }
    };
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        const loadScript = async ()=>{
            if (!window.formbricksSurveys) {
                try {
                    await loadSurveyScript();
                } catch (error) {
                    console.error("Failed to load the surveys package: ", error);
                }
            } else {
                renderInline();
            }
        };
        loadScript();
    }, [
        containerId,
        props,
        renderInline
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (isScriptLoaded) {
            renderInline();
        }
    }, [
        isScriptLoaded,
        renderInline
    ]);
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        id: containerId,
        className: "h-full w-full"
    });
};


/***/ }),

/***/ 681129:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ ArrowLeft)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const ArrowLeft = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("ArrowLeft", [
    [
        "path",
        {
            d: "m12 19-7-7 7-7",
            key: "1l729n"
        }
    ],
    [
        "path",
        {
            d: "M19 12H5",
            key: "x3x0zl"
        }
    ]
]);
 //# sourceMappingURL=arrow-left.js.map


/***/ }),

/***/ 620394:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ ArrowUpRight)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const ArrowUpRight = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("ArrowUpRight", [
    [
        "path",
        {
            d: "M7 7h10v10",
            key: "1tivn9"
        }
    ],
    [
        "path",
        {
            d: "M7 17 17 7",
            key: "1vkiza"
        }
    ]
]);
 //# sourceMappingURL=arrow-up-right.js.map


/***/ }),

/***/ 247503:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Mail)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Mail = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Mail", [
    [
        "rect",
        {
            width: "20",
            height: "16",
            x: "2",
            y: "4",
            rx: "2",
            key: "18n3k1"
        }
    ],
    [
        "path",
        {
            d: "m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",
            key: "1ocrg3"
        }
    ]
]);
 //# sourceMappingURL=mail.js.map


/***/ }),

/***/ 218904:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Repeat2)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Repeat2 = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Repeat2", [
    [
        "path",
        {
            d: "m2 9 3-3 3 3",
            key: "1ltn5i"
        }
    ],
    [
        "path",
        {
            d: "M13 18H7a2 2 0 0 1-2-2V6",
            key: "1r6tfw"
        }
    ],
    [
        "path",
        {
            d: "m22 15-3 3-3-3",
            key: "4rnwn2"
        }
    ],
    [
        "path",
        {
            d: "M11 6h6a2 2 0 0 1 2 2v10",
            key: "2f72bc"
        }
    ]
]);
 //# sourceMappingURL=repeat-2.js.map


/***/ }),

/***/ 134088:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport default from dynamic */ _shared_lib_image_external__WEBPACK_IMPORTED_MODULE_0___default.a)
/* harmony export */ });
/* harmony import */ var _shared_lib_image_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(243051);
/* harmony import */ var _shared_lib_image_external__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_shared_lib_image_external__WEBPACK_IMPORTED_MODULE_0__);



//# sourceMappingURL=image.js.map

/***/ }),

/***/ 243051:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
0 && (0);
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    getImageProps: function() {
        return getImageProps;
    }
});
const _interop_require_default = __webpack_require__(748375);
const _getimgprops = __webpack_require__(267331);
const _imagecomponent = __webpack_require__(501659);
const _imageloader = /*#__PURE__*/ _interop_require_default._(__webpack_require__(487763));
function getImageProps(imgProps) {
    const { props } = (0, _getimgprops.getImgProps)(imgProps, {
        defaultLoader: _imageloader.default,
        // This is replaced by webpack define plugin
        imgConf: {"deviceSizes":[640,750,828,1080,1200,1920,2048,3840],"imageSizes":[16,32,48,64,96,128,256,384],"path":"/_next/image","loader":"default","dangerouslyAllowSVG":false,"unoptimized":false}
    });
    // Normally we don't care about undefined props because we pass to JSX,
    // but this exported function could be used by the end user for anything
    // so we delete undefined props to clean it up a little.
    for (const [key, value] of Object.entries(props)){
        if (value === undefined) {
            delete props[key];
        }
    }
    return {
        props
    };
}
const _default = _imagecomponent.Image; //# sourceMappingURL=image-external.js.map


/***/ }),

/***/ 983773:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cn: () => (/* binding */ cn)
/* harmony export */ });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(553626);
/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(550186);


const cn = (...inputs)=>{
    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__/* .twMerge */ .QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__/* .clsx */ .$)(inputs));
};


/***/ }),

/***/ 887545:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LinkSurvey: () => (/* binding */ LinkSurvey)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const LinkSurvey = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call LinkSurvey() from the server but LinkSurvey is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/s/[surveyId]/components/link-survey.tsx",
"LinkSurvey",
);

/***/ }),

/***/ 377654:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PinScreen: () => (/* binding */ PinScreen)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const PinScreen = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call PinScreen() from the server but PinScreen is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/s/[surveyId]/components/pin-screen.tsx",
"PinScreen",
);

/***/ }),

/***/ 204369:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   viewport: () => (/* binding */ viewport)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);

const viewport = {
    width: "device-width",
    initialScale: 1.0,
    maximumScale: 1.0,
    userScalable: false,
    viewportFit: "contain"
};
const SurveyLayout = ({ children })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: "h-dvh",
        children: children
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SurveyLayout);


/***/ }),

/***/ 389903:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);

const Loading = ()=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: "flex h-full w-full items-center justify-center",
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "flex h-1/2 w-3/4 flex-col sm:w-1/2 lg:w-1/4",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "ph-no-capture h-16 w-1/3 animate-pulse rounded-lg bg-slate-200 font-medium text-slate-900"
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "ph-no-capture mt-4 h-full animate-pulse rounded-lg bg-slate-200 text-slate-900"
                })
            ]
        })
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loading);


/***/ }),

/***/ 378144:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   z: () => (/* binding */ getMetadataForLinkSurvey)
/* harmony export */ });
/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145796);
/* harmony import */ var _formbricks_lib_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(836919);
/* harmony import */ var _formbricks_lib_project_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(529987);
/* harmony import */ var _formbricks_lib_styling_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(460326);
/* harmony import */ var _formbricks_lib_survey_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(222118);





const getMetadataForLinkSurvey = async (surveyId)=>{
    const survey = await (0,_formbricks_lib_survey_service__WEBPACK_IMPORTED_MODULE_1__/* .getSurvey */ .Dp)(surveyId);
    if (!survey || survey.type !== "link" || survey.status === "draft") {
        (0,next_navigation__WEBPACK_IMPORTED_MODULE_0__.notFound)();
    }
    const project = await (0,_formbricks_lib_project_service__WEBPACK_IMPORTED_MODULE_2__/* .getProjectByEnvironmentId */ .bq)(survey.environmentId);
    if (!project) {
        throw new Error("Project not found");
    }
    const brandColor = getBrandColorForURL(survey.styling?.brandColor?.light ?? _formbricks_lib_styling_constants__WEBPACK_IMPORTED_MODULE_3__/* .COLOR_DEFAULTS */ .X.brandColor);
    const surveyName = getNameForURL(survey.name);
    const ogImgURL = `/api/v1/og?brandColor=${brandColor}&name=${surveyName}`;
    return {
        title: survey.name,
        metadataBase: new URL(_formbricks_lib_constants__WEBPACK_IMPORTED_MODULE_4__/* .WEBAPP_URL */ .YW),
        openGraph: {
            title: survey.name,
            description: "Thanks a lot for your time ",
            url: `/s/${survey.id}`,
            siteName: "",
            images: [
                ogImgURL
            ],
            locale: "en_US",
            type: "website"
        },
        twitter: {
            card: "summary_large_image",
            title: survey.name,
            description: "Thanks a lot for your time ",
            images: [
                ogImgURL
            ]
        }
    };
};
const getNameForURL = (url)=>url.replace(/ /g, "%20");
const getBrandColorForURL = (url)=>url.replace(/#/g, "%23");


/***/ }),

/***/ 500571:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(474292);
/* harmony import */ var _barrel_optimize_names_HelpCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(20498);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(649808);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(853648);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lib_footerlogo_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(187152);






const NotFound = ()=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: "flex h-full flex-col items-center justify-between bg-gradient-to-br from-slate-200 to-slate-50 py-8 text-center",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {}),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "flex flex-col items-center space-y-3 text-slate-300",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_HelpCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A, {
                        className: "h-20 w-20"
                    }),
                    ",",
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", {
                        className: "text-4xl font-bold text-slate-800",
                        children: "Survey not found."
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                        className: "text-lg leading-10 text-slate-500",
                        children: "There is no survey with this ID."
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        className: "mt-2",
                        asChild: true,
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {
                            href: "https://formbricks.com",
                            children: "Create your own"
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {
                    href: "https://formbricks.com",
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_2__["default"], {
                        src: _lib_footerlogo_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
                        alt: "Brand logo",
                        className: "mx-auto w-40"
                    })
                })
            })
        ]
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NotFound);


/***/ }),

/***/ 642277:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ page),
  generateMetadata: () => (/* binding */ generateMetadata)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(891069);
// EXTERNAL MODULE: ../../node_modules/@paralleldrive/cuid2/index.js
var _paralleldrive_cuid2 = __webpack_require__(311287);
// EXTERNAL MODULE: ../../packages/lib/constants.ts
var constants = __webpack_require__(836919);
// EXTERNAL MODULE: ../../packages/lib/crypto.ts
var lib_crypto = __webpack_require__(549673);
;// ./app/lib/singleUseSurveys.ts



// generate encrypted single use id for the survey
const generateSurveySingleUseId = (isEncrypted)=>{
    const cuid = cuid2.createId();
    if (!isEncrypted) {
        return cuid;
    }
    const encryptedCuid = symmetricEncrypt(cuid, ENCRYPTION_KEY);
    return encryptedCuid;
};
// validate the survey single use id
const validateSurveySingleUseId = (surveySingleUseId)=>{
    try {
        let decryptedCuid = null;
        if (surveySingleUseId.length === 64) {
            if (!constants/* FORMBRICKS_ENCRYPTION_KEY */.RR) {
                throw new Error("FORMBRICKS_ENCRYPTION_KEY is not defined");
            }
            decryptedCuid = (0,lib_crypto/* decryptAES128 */.gg)(constants/* FORMBRICKS_ENCRYPTION_KEY */.RR, surveySingleUseId);
        } else {
            decryptedCuid = (0,lib_crypto/* symmetricDecrypt */.zp)(surveySingleUseId, constants/* ENCRYPTION_KEY */.o7);
        }
        if (_paralleldrive_cuid2.isCuid(decryptedCuid)) {
            return decryptedCuid;
        } else {
            return undefined;
        }
    } catch (error) {
        return undefined;
    }
};

// EXTERNAL MODULE: ./app/s/[surveyId]/components/link-survey.tsx
var link_survey = __webpack_require__(887545);
// EXTERNAL MODULE: ./app/s/[surveyId]/components/pin-screen.tsx
var pin_screen = __webpack_require__(377654);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx + 1 modules
var components_button = __webpack_require__(474292);
// EXTERNAL MODULE: ./tolgee/server.tsx + 2 modules
var server = __webpack_require__(186184);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/createLucideIcon.js + 3 modules
var createLucideIcon = __webpack_require__(652793);
;// ../../node_modules/lucide-react/dist/esm/icons/circle-pause.js
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const CirclePause = (0,createLucideIcon/* default */.A)("CirclePause", [
    [
        "circle",
        {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }
    ],
    [
        "line",
        {
            x1: "10",
            x2: "10",
            y1: "15",
            y2: "9",
            key: "c1nkhi"
        }
    ],
    [
        "line",
        {
            x1: "14",
            x2: "14",
            y1: "15",
            y2: "9",
            key: "h65svq"
        }
    ]
]);
 //# sourceMappingURL=circle-pause.js.map

// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/circle-check.js
var circle_check = __webpack_require__(348037);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/circle-help.js
var circle_help = __webpack_require__(20498);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/image.js
var api_image = __webpack_require__(649808);
// EXTERNAL MODULE: ../../node_modules/next/dist/client/app-dir/link.js
var app_dir_link = __webpack_require__(853648);
var link_default = /*#__PURE__*/__webpack_require__.n(app_dir_link);
// EXTERNAL MODULE: ./app/s/[surveyId]/lib/footerlogo.svg
var footerlogo = __webpack_require__(187152);
;// ./app/s/[surveyId]/components/survey-inactive.tsx







const SurveyInactive = async ({ status, surveyClosedMessage })=>{
    const t = await (0,server/* getTranslate */.r)();
    const icons = {
        paused: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(CirclePause, {
            className: "h-20 w-20"
        }),
        completed: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(circle_check/* default */.A, {
            className: "h-20 w-20"
        }),
        "link invalid": /*#__PURE__*/ (0,react_jsx_runtime.jsx)(circle_help/* default */.A, {
            className: "h-20 w-20"
        })
    };
    const descriptions = {
        paused: t("s.paused"),
        completed: t("s.completed"),
        "link invalid": t("s.link_invalid")
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        className: "flex h-full flex-col items-center justify-between bg-gradient-to-br from-slate-200 to-slate-50 px-4 py-8 text-center",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {}),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "flex flex-col items-center space-y-3 text-slate-300",
                children: [
                    icons[status],
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("h1", {
                        className: "text-4xl font-bold text-slate-800",
                        children: status === "completed" && surveyClosedMessage ? surveyClosedMessage.heading : `${t("common.survey")} ${status}.`
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                        className: "text-lg leading-10 text-slate-500",
                        children: status === "completed" && surveyClosedMessage ? surveyClosedMessage.subheading : descriptions[status]
                    }),
                    !(status === "completed" && surveyClosedMessage) && status !== "link invalid" && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                        className: "mt-2",
                        asChild: true,
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                            href: "https://formbricks.com",
                            children: t("s.create_your_own")
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                    href: "https://formbricks.com",
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(api_image["default"], {
                        src: footerlogo["default"],
                        alt: "Brand logo",
                        className: "mx-auto w-40"
                    })
                })
            })
        ]
    });
};

// EXTERNAL MODULE: ./app/s/[surveyId]/metadata.ts
var metadata = __webpack_require__(378144);
// EXTERNAL MODULE: ./modules/ee/license-check/lib/utils.ts + 1 modules
var utils = __webpack_require__(532077);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.react-server.js
var navigation_react_server = __webpack_require__(145796);
// EXTERNAL MODULE: ../../packages/lib/organization/service.ts
var service = __webpack_require__(353687);
// EXTERNAL MODULE: ../../packages/lib/project/service.ts
var project_service = __webpack_require__(529987);
// EXTERNAL MODULE: ../../packages/lib/response/service.ts + 2 modules
var response_service = __webpack_require__(408478);
// EXTERNAL MODULE: ../../packages/lib/survey/service.ts
var survey_service = __webpack_require__(222118);
// EXTERNAL MODULE: ../../packages/lib/utils/locale.ts
var utils_locale = __webpack_require__(615572);
// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(733735);
// EXTERNAL MODULE: ../../packages/lib/jwt.ts
var jwt = __webpack_require__(360379);
;// ./app/s/[surveyId]/lib/helpers.ts

const getEmailVerificationDetails = async (surveyId, token)=>{
    if (!token) {
        return {
            status: "not-verified"
        };
    } else {
        try {
            const verifiedEmail = (0,jwt/* verifyTokenForLinkSurvey */.CN)(token, surveyId);
            if (verifiedEmail) {
                return {
                    status: "verified",
                    email: verifiedEmail
                };
            } else {
                return {
                    status: "fishy"
                };
            }
        } catch (error) {
            return {
                status: "not-verified"
            };
        }
    }
};

;// ./app/s/[surveyId]/page.tsx
















const generateMetadata = async (props)=>{
    const params = await props.params;
    const validId = common/* ZId */.i4.safeParse(params.surveyId);
    if (!validId.success) {
        (0,navigation_react_server.notFound)();
    }
    return (0,metadata/* getMetadataForLinkSurvey */.z)(params.surveyId);
};
const Page = async (props)=>{
    const searchParams = await props.searchParams;
    const params = await props.params;
    const validId = common/* ZId */.i4.safeParse(params.surveyId);
    if (!validId.success) {
        (0,navigation_react_server.notFound)();
    }
    const isPreview = searchParams.preview === "true";
    const survey = await (0,survey_service/* getSurvey */.Dp)(params.surveyId);
    const locale = await (0,utils_locale/* findMatchingLocale */.$)();
    const suId = searchParams.suId;
    const langParam = searchParams.lang; //can either be language code or alias
    const isSingleUseSurvey = survey?.singleUse?.enabled;
    const isSingleUseSurveyEncrypted = survey?.singleUse?.isEncrypted;
    const isEmbed = searchParams.embed === "true";
    if (!survey || survey.type !== "link" || survey.status === "draft") {
        (0,navigation_react_server.notFound)();
    }
    const organization = await (0,service/* getOrganizationByEnvironmentId */.TK)(survey.environmentId);
    if (!organization) {
        throw new Error("Organization not found");
    }
    const isMultiLanguageAllowed = await (0,utils/* getMultiLanguagePermission */.x)(organization);
    if (survey.status !== "inProgress" && !isPreview) {
        return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(SurveyInactive, {
            status: survey.status,
            surveyClosedMessage: survey.surveyClosedMessage ? survey.surveyClosedMessage : undefined
        });
    }
    let singleUseId = undefined;
    if (isSingleUseSurvey) {
        // check if the single use id is present for single use surveys
        if (!suId) {
            return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(SurveyInactive, {
                status: "link invalid"
            });
        }
        // if encryption is enabled, validate the single use id
        let validatedSingleUseId = undefined;
        if (isSingleUseSurveyEncrypted) {
            validatedSingleUseId = validateSurveySingleUseId(suId);
            if (!validatedSingleUseId) {
                return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(SurveyInactive, {
                    status: "link invalid"
                });
            }
        }
        // if encryption is disabled, use the suId as is
        singleUseId = validatedSingleUseId ?? suId;
    }
    let singleUseResponse = undefined;
    if (isSingleUseSurvey) {
        try {
            singleUseResponse = singleUseId ? await (0,response_service/* getResponseBySingleUseId */.zZ)(survey.id, singleUseId) ?? undefined : undefined;
        } catch (error) {
            singleUseResponse = undefined;
        }
    }
    // verify email: Check if the survey requires email verification
    let emailVerificationStatus = "";
    let verifiedEmail = undefined;
    if (survey.isVerifyEmailEnabled) {
        const token = searchParams.verify;
        if (token) {
            const emailVerificationDetails = await getEmailVerificationDetails(survey.id, token);
            emailVerificationStatus = emailVerificationDetails.status;
            verifiedEmail = emailVerificationDetails.email;
        }
    }
    // get project and person
    const project = await (0,project_service/* getProjectByEnvironmentId */.bq)(survey.environmentId);
    if (!project) {
        throw new Error("Project not found");
    }
    const getLanguageCode = ()=>{
        if (!langParam || !isMultiLanguageAllowed) return "default";
        else {
            const selectedLanguage = survey.languages.find((surveyLanguage)=>{
                return surveyLanguage.language.code === langParam.toLowerCase() || surveyLanguage.language.alias?.toLowerCase() === langParam.toLowerCase();
            });
            if (selectedLanguage?.default || !selectedLanguage?.enabled) {
                return "default";
            }
            return selectedLanguage.language.code;
        }
    };
    const languageCode = getLanguageCode();
    const isSurveyPinProtected = Boolean(survey.pin);
    const responseCount = await (0,response_service/* getResponseCountBySurveyId */.h4)(survey.id);
    if (isSurveyPinProtected) {
        return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(pin_screen.PinScreen, {
            surveyId: survey.id,
            project: project,
            emailVerificationStatus: emailVerificationStatus,
            singleUseId: isSingleUseSurvey ? singleUseId : undefined,
            singleUseResponse: singleUseResponse ? singleUseResponse : undefined,
            webAppUrl: constants/* WEBAPP_URL */.YW,
            IMPRINT_URL: constants/* IMPRINT_URL */.iO,
            PRIVACY_URL: constants/* PRIVACY_URL */.pk,
            IS_FORMBRICKS_CLOUD: constants/* IS_FORMBRICKS_CLOUD */.Si,
            verifiedEmail: verifiedEmail,
            languageCode: languageCode,
            isEmbed: isEmbed,
            locale: locale,
            isPreview: isPreview
        });
    }
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(link_survey.LinkSurvey, {
        survey: survey,
        project: project,
        emailVerificationStatus: emailVerificationStatus,
        singleUseId: isSingleUseSurvey ? singleUseId : undefined,
        singleUseResponse: singleUseResponse ? singleUseResponse : undefined,
        webAppUrl: constants/* WEBAPP_URL */.YW,
        responseCount: survey.welcomeCard.showResponseCount ? responseCount : undefined,
        verifiedEmail: verifiedEmail,
        languageCode: languageCode,
        isEmbed: isEmbed,
        IMPRINT_URL: constants/* IMPRINT_URL */.iO,
        PRIVACY_URL: constants/* PRIVACY_URL */.pk,
        IS_FORMBRICKS_CLOUD: constants/* IS_FORMBRICKS_CLOUD */.Si,
        locale: locale,
        isPreview: isPreview
    });
};
/* harmony default export */ const page = (Page);


/***/ }),

/***/ 532077:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  AM: () => (/* binding */ getBiggerUploadFileSizePermission),
  Zd: () => (/* binding */ getEnterpriseLicense),
  KH: () => (/* binding */ getIsAIEnabled),
  dZ: () => (/* binding */ getIsContactsEnabled),
  pn: () => (/* binding */ getIsMultiOrgEnabled),
  PN: () => (/* binding */ getIsOrganizationAIReady),
  xT: () => (/* binding */ getIsSSOEnabled),
  LO: () => (/* binding */ getIsTwoFactorAuthEnabled),
  x: () => (/* binding */ getMultiLanguagePermission),
  Df: () => (/* binding */ getOrganizationProjectsLimit),
  rQ: () => (/* binding */ getRoleManagementPermission),
  nX: () => (/* binding */ getWhiteLabelPermission)
});

// UNUSED EXPORTS: fetchLicense, getLicenseFeatures, getRemoveBrandingPermission

// EXTERNAL MODULE: ../../node_modules/https-proxy-agent/dist/index.js
var dist = __webpack_require__(599069);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/server.js
var server = __webpack_require__(861238);
// EXTERNAL MODULE: ./node_modules/node-fetch/src/index.js + 12 modules
var src = __webpack_require__(817762);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js
var react = __webpack_require__(922728);
// EXTERNAL MODULE: ../../packages/database/src/index.ts + 1 modules
var database_src = __webpack_require__(527610);
// EXTERNAL MODULE: ../../packages/lib/cache.ts
var cache = __webpack_require__(794356);
// EXTERNAL MODULE: ../../node_modules/next/cache.js
var next_cache = __webpack_require__(87863);
// EXTERNAL MODULE: ../../packages/lib/constants.ts
var constants = __webpack_require__(836919);
// EXTERNAL MODULE: ../../packages/lib/env.ts
var env = __webpack_require__(162437);
// EXTERNAL MODULE: external "crypto"
var external_crypto_ = __webpack_require__(455511);
var external_crypto_default = /*#__PURE__*/__webpack_require__.n(external_crypto_);
;// ../../packages/lib/hashString.ts

const hashString = (string)=>{
    return external_crypto_default().createHash("sha256").update(string).digest("hex");
};

;// ./modules/ee/license-check/lib/utils.ts










const hashedKey = constants/* ENTERPRISE_LICENSE_KEY */.an ? hashString(constants/* ENTERPRISE_LICENSE_KEY */.an) : undefined;
const PREVIOUS_RESULTS_CACHE_TAG_KEY = `getPreviousResult-${hashedKey}`;
// This function is used to get the previous result of the license check from the cache
// This might seem confusing at first since we only return the default value from this function,
// but since we are using a cache and the cache key is the same, the cache will return the previous result - so this function acts as a cache getter
const getPreviousResult = ()=>(0,cache/* cache */.P)(async ()=>({
            active: null,
            lastChecked: new Date(0),
            features: null
        }), [
        PREVIOUS_RESULTS_CACHE_TAG_KEY
    ], {
        tags: [
            PREVIOUS_RESULTS_CACHE_TAG_KEY
        ]
    })();
// This function is used to set the previous result of the license check to the cache so that we can use it in the next call
// Uses the same cache key as the getPreviousResult function
const setPreviousResult = async (previousResult)=>{
    const { lastChecked, active, features } = previousResult;
    await (0,cache/* cache */.P)(async ()=>({
            active,
            lastChecked,
            features
        }), [
        PREVIOUS_RESULTS_CACHE_TAG_KEY
    ], {
        tags: [
            PREVIOUS_RESULTS_CACHE_TAG_KEY
        ]
    })();
    (0,server.after)(()=>{
        (0,next_cache.revalidateTag)(PREVIOUS_RESULTS_CACHE_TAG_KEY);
    });
};
const fetchLicenseForE2ETesting = async ()=>{
    const currentTime = new Date();
    try {
        const previousResult = await getPreviousResult();
        if (previousResult.lastChecked.getTime() === new Date(0).getTime()) {
            // first call
            const newResult = {
                active: true,
                features: {
                    isMultiOrgEnabled: true,
                    twoFactorAuth: true,
                    sso: true,
                    contacts: true,
                    projects: 3,
                    whitelabel: true,
                    removeBranding: true,
                    ai: true
                },
                lastChecked: currentTime
            };
            await setPreviousResult(newResult);
            return newResult;
        } else if (currentTime.getTime() - previousResult.lastChecked.getTime() > 60 * 60 * 1000) {
            // Fail after 1 hour
            console.log("E2E_TESTING is enabled. Enterprise license was revoked after 1 hour.");
            return null;
        }
        return previousResult;
    } catch (error) {
        console.error("Error fetching license: ", error);
        return null;
    }
};
const getEnterpriseLicense = async ()=>{
    if (!constants/* ENTERPRISE_LICENSE_KEY */.an || constants/* ENTERPRISE_LICENSE_KEY */.an.length === 0) {
        return {
            active: false,
            features: null,
            lastChecked: new Date()
        };
    }
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return {
            active: previousResult?.active ?? false,
            features: previousResult ? previousResult.features : null,
            lastChecked: previousResult ? previousResult.lastChecked : new Date()
        };
    }
    // if the server responds with a boolean, we return it
    // if the server errors, we return null
    // null signifies an error
    const license = await fetchLicense();
    const isValid = license ? license.status === "active" : null;
    const threeDaysInMillis = 3 * 24 * 60 * 60 * 1000;
    const currentTime = new Date();
    const previousResult = await getPreviousResult();
    // Case: First time checking license and the server errors out
    if (previousResult.active === null) {
        if (isValid === null) {
            const newResult = {
                active: false,
                features: {
                    isMultiOrgEnabled: false,
                    projects: 3,
                    twoFactorAuth: false,
                    sso: false,
                    whitelabel: false,
                    removeBranding: false,
                    contacts: false,
                    ai: false
                },
                lastChecked: new Date()
            };
            await setPreviousResult(newResult);
            return newResult;
        }
    }
    if (isValid !== null && license) {
        const newResult = {
            active: isValid,
            features: license.features,
            lastChecked: new Date()
        };
        await setPreviousResult(newResult);
        return newResult;
    } else {
        // if result is undefined -> error
        // if the last check was less than 72 hours, return the previous value:
        const elapsedTime = currentTime.getTime() - previousResult.lastChecked.getTime();
        if (elapsedTime < threeDaysInMillis) {
            return {
                active: previousResult.active !== null ? previousResult.active : false,
                features: previousResult.features,
                lastChecked: previousResult.lastChecked,
                isPendingDowngrade: true
            };
        }
        // Log error only after 72 hours
        console.error("Error while checking license: The license check failed");
        return {
            active: false,
            features: null,
            lastChecked: previousResult.lastChecked,
            isPendingDowngrade: true
        };
    }
};
const getLicenseFeatures = async ()=>{
    const previousResult = await getPreviousResult();
    if (previousResult.features) {
        return previousResult.features;
    } else {
        const license = await fetchLicense();
        if (!license || !license.features) return null;
        return license.features;
    }
};
const fetchLicense = (0,react.cache)(async ()=>(0,cache/* cache */.P)(async ()=>{
        if (!env/* env */._.ENTERPRISE_LICENSE_KEY) return null;
        try {
            const now = new Date();
            const startOfYear = new Date(now.getFullYear(), 0, 1); // January 1st of the current year
            const endOfYear = new Date(now.getFullYear() + 1, 0, 0); // December 31st of the current year
            const responseCount = await database_src/* prisma */.z.response.count({
                where: {
                    createdAt: {
                        gte: startOfYear,
                        lt: endOfYear
                    }
                }
            });
            const proxyUrl = env/* env */._.HTTPS_PROXY || env/* env */._.HTTP_PROXY;
            const agent = proxyUrl ? new dist.HttpsProxyAgent(proxyUrl) : undefined;
            const res = await (0,src/* default */.Ay)("https://ee.formbricks.com/api/licenses/check", {
                body: JSON.stringify({
                    licenseKey: constants/* ENTERPRISE_LICENSE_KEY */.an,
                    usage: {
                        responseCount: responseCount
                    }
                }),
                headers: {
                    "Content-Type": "application/json"
                },
                method: "POST",
                agent
            });
            if (res.ok) {
                const responseJson = await res.json();
                return responseJson.data;
            }
            return null;
        } catch (error) {
            console.error("Error while checking license: ", error);
            return null;
        }
    }, [
        `fetchLicense-${hashedKey}`
    ], {
        revalidate: 60 * 60 * 24
    })());
const getRemoveBrandingPermission = async (organization)=>{
    if (E2E_TESTING) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult?.features?.removeBranding ?? false;
    }
    if (IS_FORMBRICKS_CLOUD && (await getEnterpriseLicense()).active) {
        return organization.billing.plan !== PROJECT_FEATURE_KEYS.FREE;
    } else {
        const licenseFeatures = await getLicenseFeatures();
        if (!licenseFeatures) return false;
        return licenseFeatures.removeBranding;
    }
};
const getWhiteLabelPermission = async (organization)=>{
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult?.features?.whitelabel ?? false;
    }
    if (constants/* IS_FORMBRICKS_CLOUD */.Si && (await getEnterpriseLicense()).active) {
        return organization.billing.plan !== constants/* PROJECT_FEATURE_KEYS */.mu.FREE;
    } else {
        const licenseFeatures = await getLicenseFeatures();
        if (!licenseFeatures) return false;
        return licenseFeatures.whitelabel;
    }
};
const getRoleManagementPermission = async (organization)=>{
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult && previousResult.active !== null ? previousResult.active : false;
    }
    if (constants/* IS_FORMBRICKS_CLOUD */.Si) return organization.billing.plan === constants/* PROJECT_FEATURE_KEYS */.mu.SCALE || organization.billing.plan === constants/* PROJECT_FEATURE_KEYS */.mu.ENTERPRISE;
    else if (!constants/* IS_FORMBRICKS_CLOUD */.Si) return (await getEnterpriseLicense()).active;
    return false;
};
const getBiggerUploadFileSizePermission = async (organization)=>{
    if (constants/* IS_FORMBRICKS_CLOUD */.Si) return organization.billing.plan !== constants/* PROJECT_FEATURE_KEYS */.mu.FREE;
    else if (!constants/* IS_FORMBRICKS_CLOUD */.Si) return (await getEnterpriseLicense()).active;
    return false;
};
const getMultiLanguagePermission = async (organization)=>{
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult && previousResult.active !== null ? previousResult.active : false;
    }
    if (constants/* IS_FORMBRICKS_CLOUD */.Si) return organization.billing.plan === constants/* PROJECT_FEATURE_KEYS */.mu.SCALE || organization.billing.plan === constants/* PROJECT_FEATURE_KEYS */.mu.ENTERPRISE;
    else if (!constants/* IS_FORMBRICKS_CLOUD */.Si) return (await getEnterpriseLicense()).active;
    return false;
};
const getIsMultiOrgEnabled = async ()=>{
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult && previousResult.features ? previousResult.features.isMultiOrgEnabled : false;
    }
    const licenseFeatures = await getLicenseFeatures();
    if (!licenseFeatures) return false;
    return licenseFeatures.isMultiOrgEnabled;
};
const getIsContactsEnabled = async ()=>{
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult && previousResult.features ? previousResult.features.contacts : false;
    }
    const licenseFeatures = await getLicenseFeatures();
    if (!licenseFeatures) return false;
    return licenseFeatures.contacts;
};
const getIsTwoFactorAuthEnabled = async ()=>{
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult && previousResult.features ? previousResult.features.twoFactorAuth : false;
    }
    const licenseFeatures = await getLicenseFeatures();
    if (!licenseFeatures) return false;
    return licenseFeatures.twoFactorAuth;
};
const getIsSSOEnabled = async ()=>{
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult && previousResult.features ? previousResult.features.sso : false;
    }
    const licenseFeatures = await getLicenseFeatures();
    if (!licenseFeatures) return false;
    return licenseFeatures.sso;
};
const getIsOrganizationAIReady = async (billingPlan)=>{
    if (!constants/* IS_AI_CONFIGURED */.T1) return false;
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult && previousResult.features ? previousResult.features.ai : false;
    }
    const license = await getEnterpriseLicense();
    if (constants/* IS_FORMBRICKS_CLOUD */.Si) {
        return Boolean(license.features?.ai && billingPlan !== constants/* PROJECT_FEATURE_KEYS */.mu.FREE);
    }
    return Boolean(license.features?.ai);
};
const getIsAIEnabled = async (organization)=>{
    return organization.isAIEnabled && await getIsOrganizationAIReady(organization.billing.plan);
};
const getOrganizationProjectsLimit = async (organization)=>{
    if (constants/* E2E_TESTING */.oA) {
        const previousResult = await fetchLicenseForE2ETesting();
        return previousResult && previousResult.features ? previousResult.features.projects ?? Infinity : 3;
    }
    let limit;
    if (constants/* IS_FORMBRICKS_CLOUD */.Si && (await getEnterpriseLicense()).active) {
        limit = organization.billing.limits.projects ?? Infinity;
    } else {
        const licenseFeatures = await getLicenseFeatures();
        if (!licenseFeatures) {
            limit = 3;
        } else {
            limit = licenseFeatures.projects ?? Infinity;
        }
    }
    return limit;
};


/***/ }),

/***/ 582899:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ew: () => (/* binding */ getOrganizationLogoUrl),
/* harmony export */   pr: () => (/* binding */ updateOrganizationEmailLogoUrl),
/* harmony export */   wi: () => (/* binding */ removeOrganizationEmailLogoUrl)
/* harmony export */ });
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(896330);
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(645625);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(482859);
/* harmony import */ var _formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(48165);
/* harmony import */ var _formbricks_lib_organization_cache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(189147);
/* harmony import */ var _formbricks_lib_project_cache__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(595111);
/* harmony import */ var _formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(472749);
/* harmony import */ var _formbricks_types_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(552224);
/* harmony import */ var _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(207798);










const updateOrganizationEmailLogoUrl = async (organizationId, logoUrl)=>{
    (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_3__/* .validateInputs */ .C)([
        organizationId,
        _formbricks_types_common__WEBPACK_IMPORTED_MODULE_4__/* .ZId */ .i4
    ], [
        logoUrl,
        _formbricks_types_common__WEBPACK_IMPORTED_MODULE_4__/* .ZString */ .eI
    ]);
    try {
        const organization = await _formbricks_database__WEBPACK_IMPORTED_MODULE_2__/* .prisma */ .z.organization.findUnique({
            where: {
                id: organizationId
            }
        });
        if (!organization) {
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_5__/* .ResourceNotFoundError */ .CE("Organization", organizationId);
        }
        const updatedOrganization = await _formbricks_database__WEBPACK_IMPORTED_MODULE_2__/* .prisma */ .z.organization.update({
            where: {
                id: organizationId
            },
            data: {
                whitelabel: {
                    ...organization.whitelabel,
                    logoUrl
                }
            },
            select: {
                projects: {
                    select: {
                        id: true,
                        environments: {
                            select: {
                                id: true
                            }
                        }
                    }
                }
            }
        });
        _formbricks_lib_organization_cache__WEBPACK_IMPORTED_MODULE_6__/* .organizationCache */ .S.revalidate({
            id: organizationId
        });
        for (const project of updatedOrganization.projects){
            for (const environment of project.environments){
                _formbricks_lib_organization_cache__WEBPACK_IMPORTED_MODULE_6__/* .organizationCache */ .S.revalidate({
                    environmentId: environment.id
                });
            }
        }
        _formbricks_lib_project_cache__WEBPACK_IMPORTED_MODULE_7__/* .projectCache */ .E.revalidate({
            organizationId: organizationId
        });
        return true;
    } catch (error) {
        if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_0__.Prisma.PrismaClientKnownRequestError && error.code === "P2016") {
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_5__/* .ResourceNotFoundError */ .CE("Organization", organizationId);
        }
        throw error;
    }
};
const removeOrganizationEmailLogoUrl = async (organizationId)=>{
    (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_3__/* .validateInputs */ .C)([
        organizationId,
        _formbricks_types_common__WEBPACK_IMPORTED_MODULE_4__/* .ZId */ .i4
    ]);
    try {
        const organization = await _formbricks_database__WEBPACK_IMPORTED_MODULE_2__/* .prisma */ .z.organization.findUnique({
            where: {
                id: organizationId
            },
            select: {
                whitelabel: true,
                projects: {
                    select: {
                        id: true,
                        environments: {
                            select: {
                                id: true
                            }
                        }
                    }
                }
            }
        });
        if (!organization) {
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_5__/* .ResourceNotFoundError */ .CE("Organization", organizationId);
        }
        await _formbricks_database__WEBPACK_IMPORTED_MODULE_2__/* .prisma */ .z.organization.update({
            where: {
                id: organizationId
            },
            data: {
                whitelabel: {
                    ...organization.whitelabel,
                    logoUrl: null
                }
            }
        });
        _formbricks_lib_organization_cache__WEBPACK_IMPORTED_MODULE_6__/* .organizationCache */ .S.revalidate({
            id: organizationId
        });
        for (const project of organization.projects){
            for (const environment of project.environments){
                _formbricks_lib_organization_cache__WEBPACK_IMPORTED_MODULE_6__/* .organizationCache */ .S.revalidate({
                    environmentId: environment.id
                });
            }
        }
        _formbricks_lib_project_cache__WEBPACK_IMPORTED_MODULE_7__/* .projectCache */ .E.revalidate({
            organizationId: organizationId
        });
        return true;
    } catch (error) {
        if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_0__.Prisma.PrismaClientKnownRequestError && error.code === "P2016") {
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_5__/* .ResourceNotFoundError */ .CE("Organization", organizationId);
        }
        throw error;
    }
};
const getOrganizationLogoUrl = (0,react__WEBPACK_IMPORTED_MODULE_1__.cache)(async (organizationId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_8__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_3__/* .validateInputs */ .C)([
            organizationId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_4__/* .ZId */ .i4
        ]);
        try {
            const organization = await _formbricks_database__WEBPACK_IMPORTED_MODULE_2__/* .prisma */ .z.organization.findUnique({
                where: {
                    id: organizationId
                },
                select: {
                    whitelabel: true
                }
            });
            return organization?.whitelabel?.logoUrl ?? null;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_0__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_5__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `getOrganizationLogoUrl-${organizationId}`
    ], {
        tags: [
            _formbricks_lib_organization_cache__WEBPACK_IMPORTED_MODULE_6__/* .organizationCache */ .S.tag.byId(organizationId)
        ]
    })());


/***/ }),

/***/ 20498:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ CircleHelp)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(652793);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const CircleHelp = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("CircleHelp", [
    [
        "circle",
        {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }
    ],
    [
        "path",
        {
            d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",
            key: "1u773s"
        }
    ],
    [
        "path",
        {
            d: "M12 17h.01",
            key: "p32p05"
        }
    ]
]);
 //# sourceMappingURL=circle-help.js.map


/***/ }),

/***/ 117396:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A6: () => (/* binding */ deleteS3FilesByEnvironmentId),
/* harmony export */   UN: () => (/* binding */ putFile),
/* harmony export */   Ww: () => (/* binding */ deleteFile),
/* harmony export */   Z5: () => (/* binding */ deleteLocalFilesByEnvironmentId)
/* harmony export */ });
/* unused harmony exports getS3Client, testS3BucketAccess, getS3File, getLocalFile, getUploadSignedUrl, getS3UploadSignedUrl, putFileToLocalStorage, deleteLocalFile, deleteS3File */
/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(191043);
/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _aws_sdk_s3_presigned_post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(741000);
/* harmony import */ var _aws_sdk_s3_presigned_post__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_s3_presigned_post__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _aws_sdk_s3_request_presigner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(531701);
/* harmony import */ var _aws_sdk_s3_request_presigner__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_s3_request_presigner__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(455511);
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(79748);
/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var mime_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(564937);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(333873);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(711344);










// S3Client Singleton
let s3ClientInstance = null;
const getS3Client = ()=>{
    if (!s3ClientInstance) {
        const credentials = _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_ACCESS_KEY */ .Ik && _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_SECRET_KEY */ .Wg ? {
            accessKeyId: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_ACCESS_KEY */ .Ik,
            secretAccessKey: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_SECRET_KEY */ .Wg
        } : undefined;
        s3ClientInstance = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.S3Client({
            credentials,
            region: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_REGION */ .Yj,
            ..._constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_ENDPOINT_URL */ .Xc && {
                endpoint: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_ENDPOINT_URL */ .Xc
            },
            forcePathStyle: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_FORCE_PATH_STYLE */ .vh
        });
    }
    return s3ClientInstance;
};
const testS3BucketAccess = async ()=>{
    const s3Client = getS3Client();
    try {
        // Attempt to retrieve metadata about the bucket
        const headBucketCommand = new HeadBucketCommand({
            Bucket: S3_BUCKET_NAME
        });
        await s3Client.send(headBucketCommand);
        return true;
    } catch (error) {
        console.error(`Failed to access S3 bucket: ${error}`);
        throw new Error(`S3 Bucket Access Test Failed: ${error}`);
    }
};
const ensureDirectoryExists = async (dirPath)=>{
    try {
        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.access)(dirPath);
    } catch (error) {
        if (error.code === "ENOENT") {
            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.mkdir)(dirPath, {
                recursive: true
            });
        } else {
            throw error;
        }
    }
};
const getS3SignedUrl = async (fileKey)=>{
    const [_, accessType] = fileKey.split("/");
    const expiresIn = accessType === "public" ? 60 * 60 : 10 * 60;
    const getObjectCommand = new GetObjectCommand({
        Bucket: S3_BUCKET_NAME,
        Key: fileKey
    });
    try {
        const s3Client = getS3Client();
        return await getSignedUrl(s3Client, getObjectCommand, {
            expiresIn
        });
    } catch (err) {
        throw err;
    }
};
const getS3File = async (fileKey)=>{
    const signedUrl = await getS3SignedUrl(fileKey);
    return signedUrl;
};
const getLocalFile = async (filePath)=>{
    try {
        const safeFilePath = path.resolve(process.cwd(), filePath);
        const file = await readFile(safeFilePath);
        let contentType = "";
        try {
            contentType = lookup(filePath) || "";
        } catch (err) {
            throw err;
        }
        return {
            fileBuffer: file,
            metaData: {
                contentType: contentType ?? ""
            }
        };
    } catch (err) {
        throw err;
    }
};
// a single service for generating a signed url based on user's environment variables
const getUploadSignedUrl = async (fileName, environmentId, fileType, accessType, isBiggerFileUploadAllowed = false)=>{
    // add a unique id to the file name
    const fileExtension = fileName.split(".").pop();
    const fileNameWithoutExtension = fileName.split(".").slice(0, -1).join(".");
    if (!fileExtension) {
        throw new Error("File extension not found");
    }
    const updatedFileName = `${fileNameWithoutExtension}--fid--${randomUUID()}.${fileExtension}`;
    // handle the local storage case first
    if (!isS3Configured()) {
        try {
            const { signature, timestamp, uuid } = generateLocalSignedUrl(updatedFileName, environmentId, fileType);
            return {
                signedUrl: accessType === "private" ? new URL(`${WEBAPP_URL}/api/v1/client/${environmentId}/storage/local`).href : new URL(`${WEBAPP_URL}/api/v1/management/storage/local`).href,
                signingData: {
                    signature,
                    timestamp,
                    uuid
                },
                updatedFileName,
                fileUrl: new URL(`${WEBAPP_URL}/storage/${environmentId}/${accessType}/${updatedFileName}`).href
            };
        } catch (err) {
            throw err;
        }
    }
    try {
        const { presignedFields, signedUrl } = await getS3UploadSignedUrl(updatedFileName, fileType, accessType, environmentId, isBiggerFileUploadAllowed);
        return {
            signedUrl,
            presignedFields,
            fileUrl: new URL(`${WEBAPP_URL}/storage/${environmentId}/${accessType}/${updatedFileName}`).href
        };
    } catch (err) {
        throw err;
    }
};
const getS3UploadSignedUrl = async (fileName, contentType, accessType, environmentId, isBiggerFileUploadAllowed = false)=>{
    const maxSize = IS_FORMBRICKS_CLOUD ? isBiggerFileUploadAllowed ? MAX_SIZES.big : MAX_SIZES.standard : Infinity;
    const postConditions = IS_FORMBRICKS_CLOUD ? [
        [
            "content-length-range",
            0,
            maxSize
        ]
    ] : undefined;
    try {
        const s3Client = getS3Client();
        const { fields, url } = await createPresignedPost(s3Client, {
            Expires: 10 * 60,
            Bucket: env.S3_BUCKET_NAME,
            Key: `${environmentId}/${accessType}/${fileName}`,
            Fields: {
                "Content-Type": contentType,
                "Content-Encoding": "base64"
            },
            Conditions: postConditions
        });
        return {
            signedUrl: url,
            presignedFields: fields
        };
    } catch (err) {
        throw err;
    }
};
const putFileToLocalStorage = async (fileName, fileBuffer, accessType, environmentId, rootDir, isBiggerFileUploadAllowed = false)=>{
    try {
        await ensureDirectoryExists(`${rootDir}/${environmentId}/${accessType}`);
        const uploadPath = `${rootDir}/${environmentId}/${accessType}/${fileName}`;
        const buffer = Buffer.from(fileBuffer);
        const bufferBytes = buffer.byteLength;
        const maxSize = _constants__WEBPACK_IMPORTED_MODULE_7__/* .IS_FORMBRICKS_CLOUD */ .Si ? isBiggerFileUploadAllowed ? _constants__WEBPACK_IMPORTED_MODULE_7__/* .MAX_SIZES */ .gB.big : _constants__WEBPACK_IMPORTED_MODULE_7__/* .MAX_SIZES */ .gB.standard : Infinity;
        if (bufferBytes > maxSize) {
            const err = new Error(`File size exceeds the ${maxSize / (1024 * 1024)} MB limit`);
            err.name = "FileTooLargeError";
            throw err;
        }
        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.writeFile)(uploadPath, buffer);
    } catch (err) {
        throw err;
    }
};
// a single service to put file in the storage(local or S3), based on the S3 configuration
const putFile = async (fileName, fileBuffer, accessType, environmentId)=>{
    try {
        if (!(0,_constants__WEBPACK_IMPORTED_MODULE_7__/* .isS3Configured */ .$Y)()) {
            await putFileToLocalStorage(fileName, fileBuffer, accessType, environmentId, _constants__WEBPACK_IMPORTED_MODULE_7__/* .UPLOADS_DIR */ .xG);
            return {
                success: true,
                message: "File uploaded"
            };
        } else {
            const input = {
                Body: fileBuffer,
                Bucket: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_BUCKET_NAME */ .MT,
                Key: `${environmentId}/${accessType}/${fileName}`
            };
            const command = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.PutObjectCommand(input);
            const s3Client = getS3Client();
            await s3Client.send(command);
            return {
                success: true,
                message: "File uploaded"
            };
        }
    } catch (err) {
        throw err;
    }
};
const deleteFile = async (environmentId, accessType, fileName)=>{
    if (!(0,_constants__WEBPACK_IMPORTED_MODULE_7__/* .isS3Configured */ .$Y)()) {
        try {
            await deleteLocalFile(path__WEBPACK_IMPORTED_MODULE_6___default().join(_constants__WEBPACK_IMPORTED_MODULE_7__/* .UPLOADS_DIR */ .xG, environmentId, accessType, fileName));
            return {
                success: true,
                message: "File deleted"
            };
        } catch (err) {
            if (err.code !== "ENOENT") {
                return {
                    success: false,
                    message: err.message ?? "Something went wrong"
                };
            }
            return {
                success: false,
                message: "File not found",
                code: 404
            };
        }
    }
    try {
        await deleteS3File(`${environmentId}/${accessType}/${fileName}`);
        return {
            success: true,
            message: "File deleted"
        };
    } catch (err) {
        if (err.name === "NoSuchKey") {
            return {
                success: false,
                message: "File not found",
                code: 404
            };
        } else {
            return {
                success: false,
                message: err.message ?? "Something went wrong"
            };
        }
    }
};
const deleteLocalFile = async (filePath)=>{
    try {
        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.unlink)(filePath);
    } catch (err) {
        throw err;
    }
};
const deleteS3File = async (fileKey)=>{
    const deleteObjectCommand = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.DeleteObjectCommand({
        Bucket: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_BUCKET_NAME */ .MT,
        Key: fileKey
    });
    try {
        const s3Client = getS3Client();
        await s3Client.send(deleteObjectCommand);
    } catch (err) {
        throw err;
    }
};
const deleteS3FilesByEnvironmentId = async (environmentId)=>{
    try {
        // List all objects in the bucket with the prefix of environmentId
        const s3Client = getS3Client();
        const listObjectsOutput = await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.ListObjectsCommand({
            Bucket: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_BUCKET_NAME */ .MT,
            Prefix: environmentId
        }));
        if (listObjectsOutput.Contents) {
            const objectsToDelete = listObjectsOutput.Contents.map((obj)=>{
                return {
                    Key: obj.Key
                };
            });
            if (!objectsToDelete.length) {
                // no objects to delete
                return null;
            }
            // Delete the objects
            await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.DeleteObjectsCommand({
                Bucket: _constants__WEBPACK_IMPORTED_MODULE_7__/* .S3_BUCKET_NAME */ .MT,
                Delete: {
                    Objects: objectsToDelete
                }
            }));
        } else {
            // no objects to delete
            return null;
        }
    } catch (err) {
        throw err;
    }
};
const deleteLocalFilesByEnvironmentId = async (environmentId)=>{
    const dirPath = (0,path__WEBPACK_IMPORTED_MODULE_6__.join)(_constants__WEBPACK_IMPORTED_MODULE_7__/* .UPLOADS_DIR */ .xG, environmentId);
    try {
        await ensureDirectoryExists(dirPath);
        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.rmdir)(dirPath, {
            recursive: true
        });
    } catch (err) {
        throw err;
    }
};


/***/ }),

/***/ 460326:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   X: () => (/* binding */ COLOR_DEFAULTS)
/* harmony export */ });
/* unused harmony export defaultStyling */
// https://github.com/airbnb/javascript/#naming--uppercase
const COLOR_DEFAULTS = {
    brandColor: "#64748b",
    questionColor: "#2b2524",
    inputColor: "#ffffff",
    inputBorderColor: "#cbd5e1",
    cardBackgroundColor: "#ffffff",
    cardBorderColor: "#f8fafc",
    cardShadowColor: "#000000",
    highlightBorderColor: "#64748b"
};
const defaultStyling = {
    allowStyleOverwrite: true,
    brandColor: {
        light: COLOR_DEFAULTS.brandColor
    },
    questionColor: {
        light: COLOR_DEFAULTS.questionColor
    },
    inputColor: {
        light: COLOR_DEFAULTS.inputColor
    },
    inputBorderColor: {
        light: COLOR_DEFAULTS.inputBorderColor
    },
    cardBackgroundColor: {
        light: COLOR_DEFAULTS.cardBackgroundColor
    },
    cardBorderColor: {
        light: COLOR_DEFAULTS.cardBorderColor
    },
    cardShadowColor: {
        light: COLOR_DEFAULTS.cardShadowColor
    },
    isLogoHidden: false,
    highlightBorderColor: undefined,
    isDarkModeEnabled: false,
    background: {
        bg: "#fff",
        bgType: "color"
    },
    roundness: 8,
    cardArrangement: {
        linkSurveys: "straight",
        appSurveys: "straight"
    }
};


/***/ }),

/***/ 187152:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"src":"/_next/static/media/footerlogo.e272c0f1.svg","height":150,"width":725,"blurWidth":0,"blurHeight":0});

/***/ }),

/***/ 222000:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"src":"/_next/static/media/footerlogo.e272c0f1.svg","height":150,"width":725,"blurWidth":0,"blurHeight":0});

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [8079,3073,7863,5069,255,9759,6626,5570,1238,2021,9069,2195,7762,1469,5294,4900,6911,1659,5667,9726,8728,9398,881,9358,2415,4011,8184,3687,7864,8046,5752,3840,9160,5863,7043,8015,8478,6836], () => (__webpack_exec__(476717)));
module.exports = __webpack_exports__;

})();
(() => {
var exports = {};
exports.id = 9887;
exports.ids = [9887];
exports.modules = {

/***/ 191043:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ 741000:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/s3-presigned-post");

/***/ }),

/***/ 531701:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/s3-request-presigner");

/***/ }),

/***/ 896330:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ 560483:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client/scripts/default-index.js");

/***/ }),

/***/ 710846:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.prod.js");

/***/ }),

/***/ 419121:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ 903295:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ 529294:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ 663033:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ 912412:
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ 979428:
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ 455511:
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ 594735:
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ 629021:
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ 79748:
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ 781630:
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ 55591:
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ 491645:
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ 321820:
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ 333873:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 111723:
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ 927910:
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ 134631:
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ 583997:
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ 379551:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 328354:
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ 173566:
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ 74075:
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ 504573:
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ 977598:
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ 973024:
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ 937067:
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ 344708:
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ 777030:
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ 176760:
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ 1708:
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ 157075:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ 337830:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ 173136:
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ 257975:
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ 638522:
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ 542423:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   routeModule: () => (/* binding */ routeModule),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(290735);
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(291232);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(272914);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(240085);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if(["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
const module0 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 86397));
const module1 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 836653));
const module2 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 956791));
const module3 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module4 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module5 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 524160));
const module6 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module7 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module8 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 830691));
const module9 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 64827));
const module10 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 348564));
const page11 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 531775));


// We inject the tree and pages here so that we can use them in the route
// module.
const tree = {
        children: [
        '',
        {
        children: [
        '(app)',
        {
        children: [
        'environments',
        {
        children: [
        '[environmentId]',
        {
        children: [
        'settings',
        {
        children: [
        '(account)',
        {
        children: [
        'notifications',
        {
        children: ['__PAGE__', {}, {
          page: [page11, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/notifications/page.tsx"],
          
        }]
      },
        {
        'loading': [module10, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/notifications/loading.tsx"],
        
      }
      ]
      },
        {
        'layout': [module9, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/layout.tsx"],
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module8, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/layout.tsx"],
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module5, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/layout.tsx"],
'forbidden': [module6, "next/dist/client/components/forbidden-error"],
'unauthorized': [module7, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      },
        {
        'layout': [module0, "/Users/kdy1/projects/formbricks/apps/web/app/layout.tsx"],
'error': [module1, "/Users/kdy1/projects/formbricks/apps/web/app/error.tsx"],
'not-found': [module2, "/Users/kdy1/projects/formbricks/apps/web/app/not-found.tsx"],
'forbidden': [module3, "next/dist/client/components/forbidden-error"],
'unauthorized': [module4, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      }.children;
const pages = ["/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/notifications/page.tsx"];


const __next_app_require__ = __webpack_require__
const __next_app_load_chunk__ = () => Promise.resolve()
const __next_app__ = {
    require: __next_app_require__,
    loadChunk: __next_app_load_chunk__
};

// Create and export the route module that will be consumed.
const routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({
    definition: {
        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,
        page: "/(app)/environments/[environmentId]/settings/(account)/notifications/page",
        pathname: "/environments/[environmentId]/settings/notifications",
        // The following aren't used in production.
        bundlePath: '',
        filename: '',
        appPaths: []
    },
    userland: {
        loaderTree: tree
    }
});

//# sourceMappingURL=app-page.js.map

/***/ }),

/***/ 369239:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "7f11f2efac37ac84796e6cb223722dbe2e808e177f": () => (/* reexport */ services/* getResponse */.mi),
  "7f12957c3365cc2950bdc48f0118f82439eb6c23ec": () => (/* reexport */ services/* getSurvey */.Dp),
  "7f20db167926d501ff62b9525526548773c8a436d4": () => (/* reexport */ services/* isTeamPartOfOrganization */.l5),
  "7f2431fc3b8c6c124a1868f9a0b34d77983cdb9649": () => (/* reexport */ actions/* getLatestStableFbReleaseAction */.aX),
  "7f24b3d27813511aef08364975a20983e61a3dde87": () => (/* reexport */ actions/* getActiveInactiveSurveysAction */.bN),
  "7f36cf02b548a01d85112f587591e8c1e8390fa538": () => (/* reexport */ services/* isProjectPartOfOrganization */.Xj),
  "7f4f2c9c8b657cf906e9a25e65dafac6ec65967916": () => (/* reexport */ services/* getWebhook */.O0),
  "7f540889be00b7aa8c6ff1edc5cd79ece876954fd3": () => (/* reexport */ services/* getInvite */.I_),
  "7f60061b4b6be335eaa2facd1c5d8129b87f6923f4": () => (/* reexport */ services/* getActionClass */.Bx),
  "7f607ac975565ce495ac2952cf2bd35183ca9684ec": () => (/* reexport */ actions/* updateActionClassAction */.gn),
  "7f6608389f5ded2b2723da86bfb0dfcec4b8e6e190": () => (/* reexport */ updateNotificationSettingsAction),
  "7f670a0537f96de8b5156e1b206124b2a990484370": () => (/* reexport */ services/* getApiKey */.CG),
  "7f74bd40a1f82de833915085152910f3ebd525b356": () => (/* reexport */ services/* getTeam */.Uo),
  "7f82763127a11eaaa934ce7fb0ffd1f148bfd60c06": () => (/* reexport */ actions/* deleteActionClassAction */.ir),
  "7fb9a3e6cbebea226c9a3678f31bfebf532ca7321e": () => (/* reexport */ services/* getResponseNote */.Wy),
  "7fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1": () => (/* reexport */ services/* getTag */.bH),
  "7fc6abb0838b6422ef7e81141fd6603883cd1990cf": () => (/* reexport */ services/* getDocument */.YE),
  "7fc856fe5dd5f698d2f54dacf4280d447336780427": () => (/* reexport */ services/* getLanguage */.Z0),
  "7fcda0e6bf50febdf861015e25ebdf74068a488dde": () => (/* reexport */ services/* getContact */.bl),
  "7fcfea9518c327899180b23cb3055005ba65cdef33": () => (/* reexport */ services/* getIntegration */.rg),
  "7fdb06c584a2145e0f48be9ead409fc7f774731fde": () => (/* reexport */ services/* getEnvironment */.uc),
  "7fdcbaf3445e783557d350b55d91be1398fafca7d3": () => (/* reexport */ services/* getInsight */.zv),
  "7fe763f2c0d5f307cc75c26f23c693a54ac24a3112": () => (/* reexport */ services/* getProject */.U1),
  "7ff27151c29d7402abd744ae983a2c25b016ccf26f": () => (/* reexport */ organization_actions/* createOrganizationAction */.s),
  "7ffb22c619704253744e9b5fea4eccca8b0808fb64": () => (/* reexport */ services/* getSegment */.kn)
});

// EXTERNAL MODULE: ./app/(app)/environments/[environmentId]/actions/actions.ts
var actions = __webpack_require__(933166);
// EXTERNAL MODULE: ./lib/utils/services.ts
var services = __webpack_require__(883212);
// EXTERNAL MODULE: ./modules/organization/actions.ts
var organization_actions = __webpack_require__(57841);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js
var server_reference = __webpack_require__(286055);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/app-render/encryption.js
var encryption = __webpack_require__(770767);
// EXTERNAL MODULE: ./lib/utils/action-client.ts
var action_client = __webpack_require__(308046);
// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(283131);
// EXTERNAL MODULE: ../../packages/lib/user/service.ts
var service = __webpack_require__(717080);
// EXTERNAL MODULE: ../../packages/types/user.ts
var user = __webpack_require__(352750);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js
var action_validate = __webpack_require__(429931);
;// ./app/(app)/environments/[environmentId]/settings/(account)/notifications/actions.ts
/* __next_internal_action_entry_do_not_use__ {"7f6608389f5ded2b2723da86bfb0dfcec4b8e6e190":"updateNotificationSettingsAction"} */ 





const ZUpdateNotificationSettingsAction = lib.z.object({
    notificationSettings: user/* ZUserNotificationSettings */.Ev
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ updateNotificationSettingsAction = action_client/* authenticatedActionClient */.D.schema(ZUpdateNotificationSettingsAction).action(async ({ ctx, parsedInput })=>{
    await (0,service/* updateUser */.TK)(ctx.user.id, {
        notificationSettings: parsedInput.notificationSettings
    });
});

(0,action_validate/* ensureServerEntryExports */.D)([
    updateNotificationSettingsAction
]);
(0,server_reference/* registerServerReference */.A)(updateNotificationSettingsAction, "7f6608389f5ded2b2723da86bfb0dfcec4b8e6e190", null);

;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fapp%2F(app)%2Fenvironments%2F%5BenvironmentId%5D%2Factions%2Factions.ts%22%2C%5B%5B%227f2431fc3b8c6c124a1868f9a0b34d77983cdb9649%22%2C%22getLatestStableFbReleaseAction%22%5D%2C%5B%227f24b3d27813511aef08364975a20983e61a3dde87%22%2C%22getActiveInactiveSurveysAction%22%5D%2C%5B%227f607ac975565ce495ac2952cf2bd35183ca9684ec%22%2C%22updateActionClassAction%22%5D%2C%5B%227f82763127a11eaaa934ce7fb0ffd1f148bfd60c06%22%2C%22deleteActionClassAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Flib%2Futils%2Fservices.ts%22%2C%5B%5B%227f11f2efac37ac84796e6cb223722dbe2e808e177f%22%2C%22getResponse%22%5D%2C%5B%227f12957c3365cc2950bdc48f0118f82439eb6c23ec%22%2C%22getSurvey%22%5D%2C%5B%227f20db167926d501ff62b9525526548773c8a436d4%22%2C%22isTeamPartOfOrganization%22%5D%2C%5B%227f36cf02b548a01d85112f587591e8c1e8390fa538%22%2C%22isProjectPartOfOrganization%22%5D%2C%5B%227f4f2c9c8b657cf906e9a25e65dafac6ec65967916%22%2C%22getWebhook%22%5D%2C%5B%227f540889be00b7aa8c6ff1edc5cd79ece876954fd3%22%2C%22getInvite%22%5D%2C%5B%227f60061b4b6be335eaa2facd1c5d8129b87f6923f4%22%2C%22getActionClass%22%5D%2C%5B%227f670a0537f96de8b5156e1b206124b2a990484370%22%2C%22getApiKey%22%5D%2C%5B%227f74bd40a1f82de833915085152910f3ebd525b356%22%2C%22getTeam%22%5D%2C%5B%227fb9a3e6cbebea226c9a3678f31bfebf532ca7321e%22%2C%22getResponseNote%22%5D%2C%5B%227fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1%22%2C%22getTag%22%5D%2C%5B%227fc6abb0838b6422ef7e81141fd6603883cd1990cf%22%2C%22getDocument%22%5D%2C%5B%227fc856fe5dd5f698d2f54dacf4280d447336780427%22%2C%22getLanguage%22%5D%2C%5B%227fcda0e6bf50febdf861015e25ebdf74068a488dde%22%2C%22getContact%22%5D%2C%5B%227fcfea9518c327899180b23cb3055005ba65cdef33%22%2C%22getIntegration%22%5D%2C%5B%227fdb06c584a2145e0f48be9ead409fc7f774731fde%22%2C%22getEnvironment%22%5D%2C%5B%227fdcbaf3445e783557d350b55d91be1398fafca7d3%22%2C%22getInsight%22%5D%2C%5B%227fe763f2c0d5f307cc75c26f23c693a54ac24a3112%22%2C%22getProject%22%5D%2C%5B%227ffb22c619704253744e9b5fea4eccca8b0808fb64%22%2C%22getSegment%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Forganization%2Factions.ts%22%2C%5B%5B%227ff27151c29d7402abd744ae983a2c25b016ccf26f%22%2C%22createOrganizationAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fapp%2F(app)%2Fenvironments%2F%5BenvironmentId%5D%2Fsettings%2F(account)%2Fnotifications%2Factions.ts%22%2C%5B%5B%227f6608389f5ded2b2723da86bfb0dfcec4b8e6e190%22%2C%22updateNotificationSettingsAction%22%5D%5D%5D%5D&__client_imported__=true!




























/***/ }),

/***/ 903377:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 186296));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 527914));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 434592));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 257467));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 42304));


/***/ }),

/***/ 868529:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 125632));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 773754));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 173416));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 389771));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 742264));


/***/ }),

/***/ 924161:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 348564));


/***/ }),

/***/ 60609:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 284668));


/***/ }),

/***/ 773754:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditAlerts: () => (/* binding */ EditAlerts)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(163701);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(397674);
/* harmony import */ var _barrel_optimize_names_HelpCircleIcon_UsersIcon_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(969614);
/* harmony import */ var _barrel_optimize_names_HelpCircleIcon_UsersIcon_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(41714);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36888);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _NotificationSwitch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(436397);
/* __next_internal_client_entry_do_not_use__ EditAlerts auto */ 





const EditAlerts = ({ memberships, user, environmentId, autoDisableNotificationType, autoDisableNotificationElementId })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_4__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: memberships.map((membership)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: "mb-5 grid grid-cols-6 items-center space-x-3",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: "col-span-3 flex items-center space-x-3",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_HelpCircleIcon_UsersIcon_lucide_react__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A, {
                                        className: "h-6 w-7 text-slate-600"
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                                        className: "text-sm font-medium text-slate-800",
                                        children: membership.organization.name
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: "col-span-3 flex items-center justify-end pr-2",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                                        className: "pr-4 text-sm text-slate-600",
                                        children: t("environments.settings.notifications.auto_subscribe_to_new_surveys")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NotificationSwitch__WEBPACK_IMPORTED_MODULE_3__/* .NotificationSwitch */ .k, {
                                        surveyOrProjectOrOrganizationId: membership.organization.id,
                                        notificationSettings: user.notificationSettings,
                                        notificationType: "unsubscribedOrganizationIds",
                                        autoDisableNotificationType: autoDisableNotificationType,
                                        autoDisableNotificationElementId: autoDisableNotificationElementId
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: "mb-6 rounded-lg border border-slate-200",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: "grid h-12 grid-cols-3 content-center rounded-t-lg bg-slate-100 px-4 text-left text-sm font-semibold text-slate-900",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                        className: "col-span-2 flex items-center",
                                        children: t("common.surveys")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_tooltip__WEBPACK_IMPORTED_MODULE_1__/* .TooltipProvider */ .Bc, {
                                        delayDuration: 50,
                                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_tooltip__WEBPACK_IMPORTED_MODULE_1__/* .Tooltip */ .m_, {
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_tooltip__WEBPACK_IMPORTED_MODULE_1__/* .TooltipTrigger */ .k$, {
                                                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                        className: "col-span-1 flex cursor-default items-center justify-center space-x-2",
                                                        children: [
                                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                                                children: t("environments.settings.notifications.every_response")
                                                            }),
                                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_HelpCircleIcon_UsersIcon_lucide_react__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A, {
                                                                className: "h-4 w-4 flex-shrink-0 text-slate-500"
                                                            })
                                                        ]
                                                    })
                                                }),
                                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_tooltip__WEBPACK_IMPORTED_MODULE_1__/* .TooltipContent */ .ZI, {
                                                    children: t("environments.settings.notifications.every_response_tooltip")
                                                })
                                            ]
                                        })
                                    })
                                ]
                            }),
                            membership.organization.projects.some((project)=>project.environments.some((environment)=>environment.surveys.length > 0)) ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                className: "grid-cols-8 space-y-1 p-2",
                                children: membership.organization.projects.map((project)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                        children: project.environments.map((environment)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                                children: environment.surveys.map((survey)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                        className: "grid h-auto w-full cursor-pointer grid-cols-3 place-content-center rounded-lg px-2 py-2 text-left text-sm text-slate-900 hover:bg-slate-50",
                                                        children: [
                                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                                className: "col-span-2 text-left",
                                                                children: [
                                                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                                                        className: "font-medium text-slate-900",
                                                                        children: survey.name
                                                                    }),
                                                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                                                        className: "text-xs text-slate-400",
                                                                        children: project.name
                                                                    })
                                                                ]
                                                            }),
                                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                                                className: "col-span-1 text-center",
                                                                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NotificationSwitch__WEBPACK_IMPORTED_MODULE_3__/* .NotificationSwitch */ .k, {
                                                                    surveyOrProjectOrOrganizationId: survey.id,
                                                                    notificationSettings: user.notificationSettings,
                                                                    notificationType: "alert",
                                                                    autoDisableNotificationType: autoDisableNotificationType,
                                                                    autoDisableNotificationElementId: autoDisableNotificationElementId
                                                                })
                                                            })
                                                        ]
                                                    }, survey.name))
                                            }, environment.id))
                                    }, project.id))
                            }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                className: "m-2 flex h-16 items-center justify-center rounded bg-slate-50 text-sm text-slate-500",
                                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                                    children: t("common.no_surveys_found")
                                })
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
                                className: "pb-3 pl-4 text-xs text-slate-400",
                                children: [
                                    t("environments.settings.notifications.want_to_loop_in_organization_mates"),
                                    " ",
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                        className: "font-semibold",
                                        href: `/environments/${environmentId}/settings/general`,
                                        children: t("common.invite_them")
                                    })
                                ]
                            })
                        ]
                    })
                ]
            }))
    });
};


/***/ }),

/***/ 173416:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditWeeklySummary: () => (/* binding */ EditWeeklySummary)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* harmony import */ var _barrel_optimize_names_UsersIcon_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(969614);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36888);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _NotificationSwitch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(436397);
/* __next_internal_client_entry_do_not_use__ EditWeeklySummary auto */ 




const EditWeeklySummary = ({ memberships, user, environmentId })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: memberships.map((membership)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: "mb-5 flex items-center space-x-3 text-sm font-medium",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_UsersIcon_lucide_react__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A, {
                                className: "h-6 w-7 text-slate-600"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                                className: "text-slate-800",
                                children: membership.organization.name
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: "mb-6 rounded-lg border border-slate-200",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: "grid h-12 grid-cols-3 content-center rounded-t-lg bg-slate-100 px-4 text-left text-sm font-semibold text-slate-900",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                        className: "col-span-2",
                                        children: t("common.project")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                        className: "col-span-1 text-center",
                                        children: t("common.weekly_summary")
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                className: "space-y-1 p-2",
                                children: membership.organization.projects.map((project)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                        className: "grid h-auto w-full cursor-pointer grid-cols-3 place-content-center justify-center rounded-lg px-2 py-2 text-left text-sm text-slate-900 hover:bg-slate-50",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                                className: "col-span-2",
                                                children: project?.name
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                                className: "col-span-1 flex items-center justify-center",
                                                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NotificationSwitch__WEBPACK_IMPORTED_MODULE_2__/* .NotificationSwitch */ .k, {
                                                    surveyOrProjectOrOrganizationId: project.id,
                                                    notificationSettings: user.notificationSettings,
                                                    notificationType: "weeklySummary"
                                                })
                                            })
                                        ]
                                    }, project.id))
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
                                className: "pb-3 pl-4 text-xs text-slate-400",
                                children: [
                                    t("environments.settings.notifications.want_to_loop_in_organization_mates"),
                                    "?",
                                    " ",
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {
                                        className: "font-semibold",
                                        href: `/environments/${environmentId}/settings/general`,
                                        children: t("common.invite_them")
                                    })
                                ]
                            })
                        ]
                    })
                ]
            }))
    });
};


/***/ }),

/***/ 389771:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IntegrationsTip: () => (/* binding */ IntegrationsTip)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(899183);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(397674);
/* __next_internal_client_entry_do_not_use__ IntegrationsTip auto */ 


const IntegrationsTip = ({ environmentId })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_2__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "flex max-w-4xl items-center space-y-3 rounded-lg border border-blue-100 bg-blue-50 p-4 text-sm text-blue-900 shadow-sm md:space-y-0 md:text-base",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_icons__WEBPACK_IMPORTED_MODULE_1__/* .SlackIcon */ .ke, {
                    className: "mr-3 h-4 w-4 text-blue-400"
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
                    className: "text-sm",
                    children: [
                        t("environments.settings.notifications.need_slack_or_discord_notifications"),
                        "?",
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", {
                            href: `/environments/${environmentId}/integrations`,
                            className: "ml-1 cursor-pointer text-sm underline",
                            children: t("environments.settings.notifications.use_the_integration")
                        })
                    ]
                })
            ]
        })
    });
};


/***/ }),

/***/ 436397:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  k: () => (/* binding */ NotificationSwitch)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ./modules/ui/components/switch/index.tsx
var components_switch = __webpack_require__(493204);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f6608389f5ded2b2723da86bfb0dfcec4b8e6e190&name=updateNotificationSettingsAction!

const updateNotificationSettingsAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f6608389f5ded2b2723da86bfb0dfcec4b8e6e190", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "updateNotificationSettingsAction")
;// ./app/(app)/environments/[environmentId]/settings/(account)/notifications/components/NotificationSwitch.tsx
/* __next_internal_client_entry_do_not_use__ NotificationSwitch auto */ 





const NotificationSwitch = ({ surveyOrProjectOrOrganizationId, notificationSettings, notificationType, autoDisableNotificationType, autoDisableNotificationElementId })=>{
    const [isLoading, setIsLoading] = (0,react.useState)(false);
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const isChecked = notificationType === "unsubscribedOrganizationIds" ? !notificationSettings.unsubscribedOrganizationIds?.includes(surveyOrProjectOrOrganizationId) : notificationSettings[notificationType][surveyOrProjectOrOrganizationId] === true;
    const handleSwitchChange = async ()=>{
        setIsLoading(true);
        let updatedNotificationSettings = {
            ...notificationSettings
        };
        if (notificationType === "unsubscribedOrganizationIds") {
            const unsubscribedOrganizationIds = updatedNotificationSettings.unsubscribedOrganizationIds ?? [];
            if (unsubscribedOrganizationIds.includes(surveyOrProjectOrOrganizationId)) {
                updatedNotificationSettings.unsubscribedOrganizationIds = unsubscribedOrganizationIds.filter((id)=>id !== surveyOrProjectOrOrganizationId);
            } else {
                updatedNotificationSettings.unsubscribedOrganizationIds = [
                    ...unsubscribedOrganizationIds,
                    surveyOrProjectOrOrganizationId
                ];
            }
        } else {
            updatedNotificationSettings[notificationType][surveyOrProjectOrOrganizationId] = !updatedNotificationSettings[notificationType][surveyOrProjectOrOrganizationId];
        }
        await updateNotificationSettingsAction({
            notificationSettings: updatedNotificationSettings
        });
        setIsLoading(false);
    };
    (0,react.useEffect)(()=>{
        if (autoDisableNotificationType && autoDisableNotificationElementId === surveyOrProjectOrOrganizationId && isChecked) {
            switch(notificationType){
                case "alert":
                    if (notificationSettings[notificationType][surveyOrProjectOrOrganizationId] === true) {
                        handleSwitchChange();
                        dist/* default */.Ay.success(t("environments.settings.notifications.you_will_not_receive_any_more_emails_for_responses_on_this_survey"), {
                            id: "notification-switch"
                        });
                    }
                    break;
                case "unsubscribedOrganizationIds":
                    if (!notificationSettings.unsubscribedOrganizationIds?.includes(surveyOrProjectOrOrganizationId)) {
                        handleSwitchChange();
                        dist/* default */.Ay.success(t("environments.settings.notifications.you_will_not_be_auto_subscribed_to_this_organizations_surveys_anymore"), {
                            id: "notification-switch"
                        });
                    }
                    break;
                default:
                    break;
            }
        }
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_switch/* Switch */.d, {
        id: "notification-switch",
        "aria-label": `toggle notification settings for ${notificationType}`,
        checked: isChecked,
        disabled: isLoading,
        onCheckedChange: async ()=>{
            await handleSwitchChange();
            dist/* default */.Ay.success(t("environments.settings.notifications.notification_settings_updated"), {
                id: "notification-switch"
            });
        }
    });
};


/***/ }),

/***/ 284668:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _app_app_components_LoadingCard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(313545);
/* harmony import */ var _app_app_environments_environmentId_settings_account_components_AccountSettingsNavbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(125632);
/* harmony import */ var _modules_ui_components_page_content_wrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(101499);
/* harmony import */ var _modules_ui_components_page_header__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(662709);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(397674);
/* __next_internal_client_entry_do_not_use__ default auto */ 





const Loading = ()=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_5__/* .useTranslate */ .WD)();
    const cards = [
        {
            title: t("environments.settings.notifications.email_alerts_surveys"),
            description: t("environments.settings.notifications.set_up_an_alert_to_get_an_email_on_new_responses"),
            skeletonLines: [
                {
                    classes: "h-6 w-28"
                },
                {
                    classes: "h-10 w-128"
                },
                {
                    classes: "h-10 w-128"
                }
            ]
        },
        {
            title: t("environments.settings.notifications.weekly_summary_projects"),
            description: t("environments.settings.notifications.stay_up_to_date_with_a_Weekly_every_Monday"),
            skeletonLines: [
                {
                    classes: "h-6 w-28"
                },
                {
                    classes: "h-10 w-128"
                },
                {
                    classes: "h-10 w-128"
                }
            ]
        }
    ];
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_page_content_wrapper__WEBPACK_IMPORTED_MODULE_3__/* .PageContentWrapper */ .s, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_page_header__WEBPACK_IMPORTED_MODULE_4__/* .PageHeader */ .z, {
                pageTitle: t("common.account_settings"),
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_app_environments_environmentId_settings_account_components_AccountSettingsNavbar__WEBPACK_IMPORTED_MODULE_2__.AccountSettingsNavbar, {
                    activeId: "notifications",
                    loading: true
                })
            }),
            cards.map((card, index)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_app_components_LoadingCard__WEBPACK_IMPORTED_MODULE_1__/* .LoadingCard */ .B, {
                    ...card
                }, index))
        ]
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loading);


/***/ }),

/***/ 527914:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditAlerts: () => (/* binding */ EditAlerts)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const EditAlerts = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call EditAlerts() from the server but EditAlerts is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/notifications/components/EditAlerts.tsx",
"EditAlerts",
);

/***/ }),

/***/ 434592:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditWeeklySummary: () => (/* binding */ EditWeeklySummary)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const EditWeeklySummary = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call EditWeeklySummary() from the server but EditWeeklySummary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/notifications/components/EditWeeklySummary.tsx",
"EditWeeklySummary",
);

/***/ }),

/***/ 257467:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IntegrationsTip: () => (/* binding */ IntegrationsTip)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const IntegrationsTip = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call IntegrationsTip() from the server but IntegrationsTip is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/notifications/components/IntegrationsTip.tsx",
"IntegrationsTip",
);

/***/ }),

/***/ 348564:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call the default export of \"/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/notifications/loading.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(account)/notifications/loading.tsx",
"default",
));


/***/ }),

/***/ 531775:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _app_app_environments_environmentId_settings_account_components_AccountSettingsNavbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(186296);
/* harmony import */ var _app_app_environments_environmentId_settings_components_SettingsCard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(42304);
/* harmony import */ var _modules_auth_lib_authOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(136015);
/* harmony import */ var _modules_ui_components_page_content_wrapper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(746219);
/* harmony import */ var _modules_ui_components_page_header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(109053);
/* harmony import */ var _tolgee_server__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(186184);
/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(963302);
/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _formbricks_database__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(527610);
/* harmony import */ var _formbricks_lib_user_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(184511);
/* harmony import */ var _components_EditAlerts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(527914);
/* harmony import */ var _components_EditWeeklySummary__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(434592);
/* harmony import */ var _components_IntegrationsTip__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(257467);













const setCompleteNotificationSettings = (notificationSettings, memberships)=>{
    const newNotificationSettings = {
        alert: {},
        weeklySummary: {},
        unsubscribedOrganizationIds: notificationSettings.unsubscribedOrganizationIds || []
    };
    for (const membership of memberships){
        for (const project of membership.organization.projects){
            // set default values for weekly summary
            newNotificationSettings.weeklySummary[project.id] = notificationSettings.weeklySummary && notificationSettings.weeklySummary[project.id] || false;
            // set default values for alerts
            for (const environment of project.environments){
                for (const survey of environment.surveys){
                    newNotificationSettings.alert[survey.id] = notificationSettings[survey.id]?.responseFinished || notificationSettings.alert && notificationSettings.alert[survey.id] || false; // check for legacy notification settings w/o "alerts" key
                }
            }
        }
    }
    return newNotificationSettings;
};
const getMemberships = async (userId)=>{
    const memberships = await _formbricks_database__WEBPACK_IMPORTED_MODULE_8__/* .prisma */ .z.membership.findMany({
        where: {
            userId,
            role: {
                not: "billing"
            },
            OR: [
                {
                    // Fetch all projects if user role is owner or manager
                    role: {
                        in: [
                            "owner",
                            "manager"
                        ]
                    }
                },
                {
                    // Filter projects based on team membership if user is not owner or manager
                    organization: {
                        projects: {
                            some: {
                                projectTeams: {
                                    some: {
                                        team: {
                                            teamUsers: {
                                                some: {
                                                    userId
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            ]
        },
        select: {
            organization: {
                select: {
                    id: true,
                    name: true,
                    projects: {
                        // Apply conditional filtering based on user's role
                        where: {
                            OR: [
                                {
                                    // Fetch all projects if user is owner or manager
                                    organization: {
                                        memberships: {
                                            some: {
                                                userId,
                                                role: {
                                                    in: [
                                                        "owner",
                                                        "manager"
                                                    ]
                                                }
                                            }
                                        }
                                    }
                                },
                                {
                                    // Only include projects accessible through teams if user is not owner or manager
                                    projectTeams: {
                                        some: {
                                            team: {
                                                teamUsers: {
                                                    some: {
                                                        userId
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            ]
                        },
                        select: {
                            id: true,
                            name: true,
                            environments: {
                                where: {
                                    type: "production"
                                },
                                select: {
                                    id: true,
                                    surveys: {
                                        select: {
                                            id: true,
                                            name: true
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    });
    return memberships;
};
const Page = async (props)=>{
    const searchParams = await props.searchParams;
    const params = await props.params;
    const t = await (0,_tolgee_server__WEBPACK_IMPORTED_MODULE_6__/* .getTranslate */ .r)();
    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_7__.getServerSession)(_modules_auth_lib_authOptions__WEBPACK_IMPORTED_MODULE_3__/* .authOptions */ .N);
    if (!session) {
        throw new Error(t("common.session_not_found"));
    }
    const autoDisableNotificationType = searchParams["type"];
    const autoDisableNotificationElementId = searchParams["elementId"];
    const [user, memberships] = await Promise.all([
        (0,_formbricks_lib_user_service__WEBPACK_IMPORTED_MODULE_12__/* .getUser */ .wz)(session.user.id),
        getMemberships(session.user.id)
    ]);
    if (!user) {
        throw new Error(t("common.user_not_found"));
    }
    if (user?.notificationSettings) {
        user.notificationSettings = setCompleteNotificationSettings(user.notificationSettings, memberships);
    }
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_page_content_wrapper__WEBPACK_IMPORTED_MODULE_4__/* .PageContentWrapper */ .s, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_page_header__WEBPACK_IMPORTED_MODULE_5__/* .PageHeader */ .z, {
                pageTitle: t("common.account_settings"),
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_app_environments_environmentId_settings_account_components_AccountSettingsNavbar__WEBPACK_IMPORTED_MODULE_1__.AccountSettingsNavbar, {
                    environmentId: params.environmentId,
                    activeId: "notifications"
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_app_environments_environmentId_settings_components_SettingsCard__WEBPACK_IMPORTED_MODULE_2__.SettingsCard, {
                title: t("environments.settings.notifications.email_alerts_surveys"),
                description: t("environments.settings.notifications.set_up_an_alert_to_get_an_email_on_new_responses"),
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_EditAlerts__WEBPACK_IMPORTED_MODULE_9__.EditAlerts, {
                    memberships: memberships,
                    user: user,
                    environmentId: params.environmentId,
                    autoDisableNotificationType: autoDisableNotificationType,
                    autoDisableNotificationElementId: autoDisableNotificationElementId
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_IntegrationsTip__WEBPACK_IMPORTED_MODULE_11__.IntegrationsTip, {
                environmentId: params.environmentId
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_app_environments_environmentId_settings_components_SettingsCard__WEBPACK_IMPORTED_MODULE_2__.SettingsCard, {
                title: t("environments.settings.notifications.weekly_summary_projects"),
                description: t("environments.settings.notifications.stay_up_to_date_with_a_Weekly_every_Monday"),
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_EditWeeklySummary__WEBPACK_IMPORTED_MODULE_10__.EditWeeklySummary, {
                    memberships: memberships,
                    user: user,
                    environmentId: params.environmentId
                })
            })
        ]
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Page);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [8079,3073,7863,5069,255,9759,6626,5570,1238,2021,9069,2195,7762,1469,5294,4900,6911,2075,1659,5667,6689,2446,9726,497,4218,9325,8785,3798,3687,7864,8046,8235,5752,3840,9160,4660,8310,1612,4105], () => (__webpack_exec__(542423)));
module.exports = __webpack_exports__;

})();
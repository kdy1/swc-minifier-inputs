(() => {
var exports = {};
exports.id = 7557;
exports.ids = [7557];
exports.modules = {

/***/ 191043:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ 741000:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/s3-presigned-post");

/***/ }),

/***/ 531701:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/s3-request-presigner");

/***/ }),

/***/ 896330:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ 560483:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client/scripts/default-index.js");

/***/ }),

/***/ 832325:
/***/ ((module) => {

"use strict";
module.exports = require("jsdom");

/***/ }),

/***/ 710846:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.prod.js");

/***/ }),

/***/ 419121:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ 903295:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ 529294:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ 663033:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ 912412:
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ 584297:
/***/ ((module) => {

"use strict";
module.exports = require("async_hooks");

/***/ }),

/***/ 979428:
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ 579646:
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ 455511:
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ 714985:
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ 594735:
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ 629021:
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ 79748:
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ 781630:
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ 55591:
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ 491645:
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ 321820:
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ 333873:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 111723:
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ 927910:
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ 134631:
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ 583997:
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ 379551:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 328354:
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ 173566:
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ 74075:
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ 504573:
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ 977598:
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ 973024:
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ 937067:
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ 344708:
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ 777030:
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ 176760:
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ 1708:
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ 157075:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ 337830:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ 173136:
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ 257975:
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ 638522:
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ 385795:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   routeModule: () => (/* binding */ routeModule),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(290735);
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(291232);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(272914);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(240085);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if(["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
const module0 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 86397));
const module1 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 836653));
const module2 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 956791));
const module3 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module4 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module5 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 524160));
const module6 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module7 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module8 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 830691));
const module9 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 17753));
const page10 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 866104));


// We inject the tree and pages here so that we can use them in the route
// module.
const tree = {
        children: [
        '',
        {
        children: [
        '(app)',
        {
        children: [
        'environments',
        {
        children: [
        '[environmentId]',
        {
        children: [
        'settings',
        {
        children: [
        '(organization)',
        {
        children: [
        'teams',
        {
        children: ['__PAGE__', {}, {
          page: [page10, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(organization)/teams/page.tsx"],
          
        }]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module9, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(organization)/layout.tsx"],
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module8, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/layout.tsx"],
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module5, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/layout.tsx"],
'forbidden': [module6, "next/dist/client/components/forbidden-error"],
'unauthorized': [module7, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      },
        {
        'layout': [module0, "/Users/kdy1/projects/formbricks/apps/web/app/layout.tsx"],
'error': [module1, "/Users/kdy1/projects/formbricks/apps/web/app/error.tsx"],
'not-found': [module2, "/Users/kdy1/projects/formbricks/apps/web/app/not-found.tsx"],
'forbidden': [module3, "next/dist/client/components/forbidden-error"],
'unauthorized': [module4, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      }.children;
const pages = ["/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(organization)/teams/page.tsx"];


const __next_app_require__ = __webpack_require__
const __next_app_load_chunk__ = () => Promise.resolve()
const __next_app__ = {
    require: __next_app_require__,
    loadChunk: __next_app_load_chunk__
};

// Create and export the route module that will be consumed.
const routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({
    definition: {
        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,
        page: "/(app)/environments/[environmentId]/settings/(organization)/teams/page",
        pathname: "/environments/[environmentId]/settings/teams",
        // The following aren't used in production.
        bundlePath: '',
        filename: '',
        appPaths: []
    },
    userland: {
        loaderTree: tree
    }
});

//# sourceMappingURL=app-page.js.map

/***/ }),

/***/ 881783:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "7f11f2efac37ac84796e6cb223722dbe2e808e177f": () => (/* reexport */ services/* getResponse */.mi),
  "7f12957c3365cc2950bdc48f0118f82439eb6c23ec": () => (/* reexport */ services/* getSurvey */.Dp),
  "7f20db167926d501ff62b9525526548773c8a436d4": () => (/* reexport */ services/* isTeamPartOfOrganization */.l5),
  "7f2431fc3b8c6c124a1868f9a0b34d77983cdb9649": () => (/* reexport */ actions/* getLatestStableFbReleaseAction */.aX),
  "7f24b3d27813511aef08364975a20983e61a3dde87": () => (/* reexport */ actions/* getActiveInactiveSurveysAction */.bN),
  "7f275305555b0860bfbae18b2e203c55ee40ddaf1a": () => (/* reexport */ action/* getTeamDetailsAction */.qF),
  "7f36cf02b548a01d85112f587591e8c1e8390fa538": () => (/* reexport */ services/* isProjectPartOfOrganization */.Xj),
  "7f3a48084fae0d461868aa819e5b7b93bec73b1b60": () => (/* reexport */ role_management_actions/* updateMembershipAction */.Iu),
  "7f43cc68cec6dde2548d660aed09d677fb6bf640be": () => (/* reexport */ action/* getTeamRoleAction */.YV),
  "7f4abed3c09a69cb9276f46db77a84c84d3cc2434a": () => (/* reexport */ action/* updateTeamDetailsAction */.$K),
  "7f4f2c9c8b657cf906e9a25e65dafac6ec65967916": () => (/* reexport */ services/* getWebhook */.O0),
  "7f540889be00b7aa8c6ff1edc5cd79ece876954fd3": () => (/* reexport */ services/* getInvite */.I_),
  "7f5a756caf3bc4386d65ddd8148ca0d27f537786c4": () => (/* reexport */ leaveOrganizationAction),
  "7f60061b4b6be335eaa2facd1c5d8129b87f6923f4": () => (/* reexport */ services/* getActionClass */.Bx),
  "7f607ac975565ce495ac2952cf2bd35183ca9684ec": () => (/* reexport */ actions/* updateActionClassAction */.gn),
  "7f652c821c1bd134d71c744b00f7a4e18adb1de36a": () => (/* reexport */ deleteMembershipAction),
  "7f670a0537f96de8b5156e1b206124b2a990484370": () => (/* reexport */ services/* getApiKey */.CG),
  "7f6bfc58faa3c5b1986d3295663dcd311a449dc576": () => (/* reexport */ deleteInviteAction),
  "7f6c465cadae01e2069341389046c2986069fbd010": () => (/* reexport */ role_management_actions/* updateInviteAction */.XU),
  "7f74bd40a1f82de833915085152910f3ebd525b356": () => (/* reexport */ services/* getTeam */.Uo),
  "7f7c5a0e012c0de33ab3abd28be6db2cba08c0db6d": () => (/* reexport */ createInviteTokenAction),
  "7f82763127a11eaaa934ce7fb0ffd1f148bfd60c06": () => (/* reexport */ actions/* deleteActionClassAction */.ir),
  "7fb9a3e6cbebea226c9a3678f31bfebf532ca7321e": () => (/* reexport */ services/* getResponseNote */.Wy),
  "7fc1aadc038b6a86ba3265bdb8830b8f2e2d597611": () => (/* reexport */ role_management_actions/* checkRoleManagementPermission */.Ti),
  "7fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1": () => (/* reexport */ services/* getTag */.bH),
  "7fc6abb0838b6422ef7e81141fd6603883cd1990cf": () => (/* reexport */ services/* getDocument */.YE),
  "7fc856fe5dd5f698d2f54dacf4280d447336780427": () => (/* reexport */ services/* getLanguage */.Z0),
  "7fcb6302bee020bf7d696519228772c9d19427880f": () => (/* reexport */ action/* createTeamAction */.w6),
  "7fcba5de3de5bff740aa23b515586ef5b72adc0112": () => (/* reexport */ resendInviteAction),
  "7fcda0e6bf50febdf861015e25ebdf74068a488dde": () => (/* reexport */ services/* getContact */.bl),
  "7fcfea9518c327899180b23cb3055005ba65cdef33": () => (/* reexport */ services/* getIntegration */.rg),
  "7fdb06c584a2145e0f48be9ead409fc7f774731fde": () => (/* reexport */ services/* getEnvironment */.uc),
  "7fdc59fabffb1d3ec063140a781847f4dcbb0bd037": () => (/* reexport */ action/* deleteTeamAction */.de),
  "7fdcbaf3445e783557d350b55d91be1398fafca7d3": () => (/* reexport */ services/* getInsight */.zv),
  "7fe763f2c0d5f307cc75c26f23c693a54ac24a3112": () => (/* reexport */ services/* getProject */.U1),
  "7ff27151c29d7402abd744ae983a2c25b016ccf26f": () => (/* reexport */ organization_actions/* createOrganizationAction */.s),
  "7ff697c50dacd990766b85fef5a93a34a08510b195": () => (/* reexport */ inviteUserAction),
  "7ffb22c619704253744e9b5fea4eccca8b0808fb64": () => (/* reexport */ services/* getSegment */.kn)
});

// EXTERNAL MODULE: ./app/(app)/environments/[environmentId]/actions/actions.ts
var actions = __webpack_require__(933166);
// EXTERNAL MODULE: ./lib/utils/services.ts
var services = __webpack_require__(883212);
// EXTERNAL MODULE: ./modules/organization/actions.ts
var organization_actions = __webpack_require__(57841);
// EXTERNAL MODULE: ./modules/ee/teams/team-list/action.ts + 3 modules
var action = __webpack_require__(304175);
// EXTERNAL MODULE: ./modules/ee/role-management/actions.ts + 4 modules
var role_management_actions = __webpack_require__(320280);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js
var server_reference = __webpack_require__(286055);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/app-render/encryption.js
var encryption = __webpack_require__(770767);
// EXTERNAL MODULE: ./lib/utils/action-client.ts
var action_client = __webpack_require__(308046);
// EXTERNAL MODULE: ./lib/utils/action-client-middleware.ts
var action_client_middleware = __webpack_require__(729455);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(440388);
// EXTERNAL MODULE: ./modules/ee/license-check/lib/utils.ts + 1 modules
var utils = __webpack_require__(725322);
// EXTERNAL MODULE: ./modules/email/index.tsx + 21 modules
var email = __webpack_require__(778015);
// EXTERNAL MODULE: ./lib/cache/membership.ts
var membership = __webpack_require__(742851);
// EXTERNAL MODULE: ./lib/cache/organization.ts
var organization = __webpack_require__(757706);
// EXTERNAL MODULE: ./lib/cache/team.ts
var team = __webpack_require__(753304);
// EXTERNAL MODULE: external "@prisma/client"
var client_ = __webpack_require__(896330);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js
var react = __webpack_require__(645625);
// EXTERNAL MODULE: ../../packages/database/src/index.ts + 1 modules
var src = __webpack_require__(482859);
// EXTERNAL MODULE: ../../packages/lib/cache.ts
var cache = __webpack_require__(48165);
// EXTERNAL MODULE: ../../packages/lib/constants.ts
var constants = __webpack_require__(711344);
// EXTERNAL MODULE: ../../packages/lib/utils/validate.ts
var validate = __webpack_require__(472749);
// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(552224);
// EXTERNAL MODULE: ../../packages/types/errors.ts
var errors = __webpack_require__(207798);
;// ./modules/organization/settings/teams/lib/membership.ts












const getMembershipByOrganizationId = (0,react.cache)(async (organizationId, page)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            common/* ZString */.eI
        ], [
            page,
            common/* ZOptionalNumber */.Wo
        ]);
        try {
            const membersData = await src/* prisma */.z.membership.findMany({
                where: {
                    organizationId
                },
                select: {
                    user: {
                        select: {
                            name: true,
                            email: true
                        }
                    },
                    userId: true,
                    accepted: true,
                    role: true
                },
                take: page ? constants/* ITEMS_PER_PAGE */.re : undefined,
                skip: page ? constants/* ITEMS_PER_PAGE */.re * (page - 1) : undefined
            });
            const members = membersData.map((member)=>{
                return {
                    name: member.user?.name || "",
                    email: member.user?.email || "",
                    userId: member.userId,
                    accepted: member.accepted,
                    role: member.role
                };
            });
            return members;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                console.error(error);
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw new errors/* UnknownError */.Bk("Error while fetching members");
        }
    }, [
        `getMembershipByOrganizationId-${organizationId}-${page}`
    ], {
        tags: [
            membership/* membershipCache */.r.tag.byOrganizationId(organizationId)
        ]
    })());
const getOrganizationOwnerCount = (0,react.cache)(async (organizationId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            common/* ZString */.eI
        ]);
        try {
            const ownersCount = await src/* prisma */.z.membership.count({
                where: {
                    organizationId,
                    role: "owner"
                }
            });
            return ownersCount;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getOrganizationOwnerCount-${organizationId}`
    ], {
        tags: [
            membership/* membershipCache */.r.tag.byOrganizationId(organizationId)
        ]
    })());
const deleteMembership = async (userId, organizationId)=>{
    (0,validate/* validateInputs */.C)([
        userId,
        common/* ZString */.eI
    ], [
        organizationId,
        common/* ZString */.eI
    ]);
    try {
        const deletedTeamMemberships = await src/* prisma */.z.teamUser.findMany({
            where: {
                userId,
                team: {
                    organizationId
                }
            }
        });
        await src/* prisma */.z.$transaction([
            src/* prisma */.z.teamUser.deleteMany({
                where: {
                    userId,
                    team: {
                        organizationId
                    }
                }
            }),
            src/* prisma */.z.membership.delete({
                where: {
                    userId_organizationId: {
                        organizationId,
                        userId
                    }
                }
            })
        ]);
        team/* teamCache */.g.revalidate({
            userId,
            organizationId
        });
        deletedTeamMemberships.forEach((teamMembership)=>{
            team/* teamCache */.g.revalidate({
                id: teamMembership.teamId
            });
        });
        organization/* organizationCache */.S.revalidate({
            userId
        });
        membership/* membershipCache */.r.revalidate({
            userId,
            organizationId
        });
        return deletedTeamMemberships;
    } catch (error) {
        if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
            throw new errors/* DatabaseError */.a$(error.message);
        }
        throw error;
    }
};
const getMembershipsByUserId = (0,react.cache)(async (userId, page)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            userId,
            common/* ZString */.eI
        ], [
            page,
            common/* ZOptionalNumber */.Wo
        ]);
        try {
            const memberships = await src/* prisma */.z.membership.findMany({
                where: {
                    userId
                },
                take: page ? constants/* ITEMS_PER_PAGE */.re : undefined,
                skip: page ? constants/* ITEMS_PER_PAGE */.re * (page - 1) : undefined
            });
            return memberships;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getMembershipsByUserId-${userId}-${page}`
    ], {
        tags: [
            membership/* membershipCache */.r.tag.byUserId(userId)
        ]
    })());
const getMembersByOrganizationId = (0,react.cache)(async (organizationId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            common/* ZString */.eI
        ]);
        try {
            const membersData = await src/* prisma */.z.membership.findMany({
                where: {
                    organizationId
                },
                select: {
                    user: {
                        select: {
                            name: true
                        }
                    },
                    role: true,
                    userId: true
                }
            });
            const members = membersData.map((member)=>{
                return {
                    id: member.userId,
                    name: member.user?.name || "",
                    role: member.role
                };
            });
            return members;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getMembersByOrganizationId-${organizationId}`
    ], {
        tags: [
            membership/* membershipCache */.r.tag.byOrganizationId(organizationId)
        ]
    })());

// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(283131);
// EXTERNAL MODULE: ../../packages/lib/jwt.ts
var jwt = __webpack_require__(394564);
// EXTERNAL MODULE: ../../packages/lib/membership/service.ts
var service = __webpack_require__(575361);
// EXTERNAL MODULE: ../../packages/lib/membership/utils.ts
var membership_utils = __webpack_require__(38431);
// EXTERNAL MODULE: ../../packages/types/memberships.ts
var memberships = __webpack_require__(76614);
// EXTERNAL MODULE: ./lib/cache/invite.ts
var cache_invite = __webpack_require__(896484);
;// ./modules/organization/settings/teams/lib/invite.ts










const resendInvite = async (inviteId)=>{
    try {
        const invite = await src/* prisma */.z.invite.findUnique({
            where: {
                id: inviteId
            },
            select: {
                email: true,
                name: true,
                creator: true
            }
        });
        if (!invite) {
            throw new errors/* ResourceNotFoundError */.CE("Invite", inviteId);
        }
        const updatedInvite = await src/* prisma */.z.invite.update({
            where: {
                id: inviteId
            },
            data: {
                expiresAt: new Date(Date.now() + 1000 * 60 * 60 * 24 * 7)
            },
            select: {
                id: true,
                email: true,
                name: true,
                organizationId: true
            }
        });
        cache_invite/* inviteCache */.i.revalidate({
            id: updatedInvite.id,
            organizationId: updatedInvite.organizationId
        });
        return {
            email: updatedInvite.email,
            name: updatedInvite.name
        };
    } catch (error) {
        if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
            throw new errors/* DatabaseError */.a$(error.message);
        }
        throw error;
    }
};
const getInvitesByOrganizationId = (0,react.cache)(async (organizationId, page)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            lib.z.string()
        ], [
            page,
            lib.z.number().optional()
        ]);
        try {
            const invites = await src/* prisma */.z.invite.findMany({
                where: {
                    organizationId
                },
                select: {
                    expiresAt: true,
                    role: true,
                    email: true,
                    name: true,
                    id: true,
                    createdAt: true
                },
                take: page ? constants/* ITEMS_PER_PAGE */.re : undefined,
                skip: page ? constants/* ITEMS_PER_PAGE */.re * (page - 1) : undefined
            });
            return invites;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getInvitesByOrganizationId-${organizationId}-${page}`
    ], {
        tags: [
            cache_invite/* inviteCache */.i.tag.byOrganizationId(organizationId)
        ]
    })());
const inviteUser = async ({ invitee, organizationId, currentUserId })=>{
    try {
        const { name, email, role, teamIds } = invitee;
        const existingInvite = await src/* prisma */.z.invite.findFirst({
            where: {
                email,
                organizationId
            }
        });
        if (existingInvite) {
            throw new errors/* InvalidInputError */.oC("Invite already exists");
        }
        const user = await src/* prisma */.z.user.findUnique({
            where: {
                email
            }
        });
        if (user) {
            const member = await (0,service/* getMembershipByUserIdOrganizationId */.Y)(user.id, organizationId);
            if (member) {
                throw new errors/* InvalidInputError */.oC("User is already a member of this organization");
            }
        }
        const teamIdsSet = new Set(teamIds);
        if (teamIdsSet.size !== teamIds.length) {
            throw new errors/* ValidationError */.yI("teamIds must be unique");
        }
        const teams = await src/* prisma */.z.team.findMany({
            where: {
                id: {
                    in: teamIds
                },
                organizationId
            }
        });
        if (teams.length !== teamIds.length) {
            throw new errors/* ValidationError */.yI("Invalid teamIds");
        }
        const expiresIn = 7 * 24 * 60 * 60 * 1000; // 7 days
        const expiresAt = new Date(Date.now() + expiresIn);
        const invite = await src/* prisma */.z.invite.create({
            data: {
                email,
                name,
                organization: {
                    connect: {
                        id: organizationId
                    }
                },
                creator: {
                    connect: {
                        id: currentUserId
                    }
                },
                acceptor: user ? {
                    connect: {
                        id: user.id
                    }
                } : undefined,
                role,
                expiresAt,
                teamIds: {
                    set: teamIds
                }
            }
        });
        cache_invite/* inviteCache */.i.revalidate({
            id: invite.id,
            organizationId: invite.organizationId
        });
        return invite.id;
    } catch (error) {
        if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
            throw new errors/* DatabaseError */.a$(error.message);
        }
        throw error;
    }
};
const deleteInvite = async (inviteId)=>{
    try {
        const invite = await src/* prisma */.z.invite.delete({
            where: {
                id: inviteId
            },
            select: {
                id: true,
                organizationId: true
            }
        });
        if (!invite) {
            throw new errors/* ResourceNotFoundError */.CE("Invite", inviteId);
        }
        cache_invite/* inviteCache */.i.revalidate({
            id: invite.id,
            organizationId: invite.organizationId
        });
        return true;
    } catch (error) {
        if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
            throw new errors/* DatabaseError */.a$(error.message);
        }
        throw error;
    }
};
const getInvite = (0,react.cache)(async (inviteId)=>(0,cache/* cache */.P)(async ()=>{
        try {
            const invite = await src/* prisma */.z.invite.findUnique({
                where: {
                    id: inviteId
                },
                select: {
                    email: true,
                    creator: {
                        select: {
                            name: true
                        }
                    }
                }
            });
            return invite;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `teams-getInvite-${inviteId}`
    ], {
        tags: [
            cache_invite/* inviteCache */.i.tag.byId(inviteId)
        ]
    })());

// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js
var action_validate = __webpack_require__(429931);
;// ./modules/organization/settings/teams/actions.ts
/* __next_internal_action_entry_do_not_use__ {"7f5a756caf3bc4386d65ddd8148ca0d27f537786c4":"leaveOrganizationAction","7f652c821c1bd134d71c744b00f7a4e18adb1de36a":"deleteMembershipAction","7f6bfc58faa3c5b1986d3295663dcd311a449dc576":"deleteInviteAction","7f7c5a0e012c0de33ab3abd28be6db2cba08c0db6d":"createInviteTokenAction","7fcba5de3de5bff740aa23b515586ef5b72adc0112":"resendInviteAction","7ff697c50dacd990766b85fef5a93a34a08510b195":"inviteUserAction"} */ 


















const ZDeleteInviteAction = lib.z.object({
    inviteId: common/* ZUuid */.C7,
    organizationId: common/* ZId */.i4
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ deleteInviteAction = action_client/* authenticatedActionClient */.D.schema(ZDeleteInviteAction).action(async ({ parsedInput, ctx })=>{
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: parsedInput.organizationId,
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            }
        ]
    });
    return await deleteInvite(parsedInput.inviteId);
});
const ZCreateInviteTokenAction = lib.z.object({
    inviteId: common/* ZUuid */.C7
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ createInviteTokenAction = action_client/* authenticatedActionClient */.D.schema(ZCreateInviteTokenAction).action(async ({ parsedInput, ctx })=>{
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: await (0,helper/* getOrganizationIdFromInviteId */.b5)(parsedInput.inviteId),
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            }
        ]
    });
    const invite = await getInvite(parsedInput.inviteId);
    if (!invite) {
        throw new errors/* ValidationError */.yI("Invite not found");
    }
    const inviteToken = (0,jwt/* createInviteToken */.DF)(parsedInput.inviteId, invite.email, {
        expiresIn: "7d"
    });
    return {
        inviteToken: encodeURIComponent(inviteToken)
    };
});
const ZDeleteMembershipAction = lib.z.object({
    userId: common/* ZId */.i4,
    organizationId: common/* ZId */.i4
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ deleteMembershipAction = action_client/* authenticatedActionClient */.D.schema(ZDeleteMembershipAction).action(async ({ parsedInput, ctx })=>{
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: parsedInput.organizationId,
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            }
        ]
    });
    if (parsedInput.userId === ctx.user.id) {
        throw new errors/* OperationNotAllowedError */.J4("You cannot delete yourself from the organization");
    }
    const currentMembership = await (0,service/* getMembershipByUserIdOrganizationId */.Y)(ctx.user.id, parsedInput.organizationId);
    if (!currentMembership) {
        throw new errors/* AuthenticationError */.v3("Not a member of this organization");
    }
    const membership = await (0,service/* getMembershipByUserIdOrganizationId */.Y)(parsedInput.userId, parsedInput.organizationId);
    if (!membership) {
        throw new errors/* AuthenticationError */.v3("Not a member of this organization");
    }
    const isOwner = membership.role === "owner";
    if (currentMembership.role === "manager" && isOwner) {
        throw new errors/* OperationNotAllowedError */.J4("You cannot delete the owner of the organization");
    }
    if (isOwner) {
        const ownerCount = await getOrganizationOwnerCount(parsedInput.organizationId);
        if (ownerCount <= 1) {
            throw new errors/* ValidationError */.yI("You cannot delete the last owner of the organization");
        }
    }
    return await deleteMembership(parsedInput.userId, parsedInput.organizationId);
});
const ZResendInviteAction = lib.z.object({
    inviteId: common/* ZUuid */.C7,
    organizationId: common/* ZId */.i4
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ resendInviteAction = action_client/* authenticatedActionClient */.D.schema(ZResendInviteAction).action(async ({ parsedInput, ctx })=>{
    if (constants/* INVITE_DISABLED */.br) {
        throw new errors/* OperationNotAllowedError */.J4("Invite are disabled");
    }
    const inviteOrganizationId = await (0,helper/* getOrganizationIdFromInviteId */.b5)(parsedInput.inviteId);
    if (inviteOrganizationId !== parsedInput.organizationId) {
        throw new errors/* ValidationError */.yI("Invite does not belong to the organization");
    }
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: parsedInput.organizationId,
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            }
        ]
    });
    const invite = await getInvite(parsedInput.inviteId);
    const updatedInvite = await resendInvite(parsedInput.inviteId);
    await (0,email/* sendInviteMemberEmail */.S0)(parsedInput.inviteId, updatedInvite.email, invite?.creator.name ?? "", updatedInvite.name ?? "", undefined, ctx.user.locale);
});
const ZInviteUserAction = lib.z.object({
    organizationId: common/* ZId */.i4,
    email: lib.z.string(),
    name: lib.z.string(),
    role: memberships/* ZOrganizationRole */.mp,
    teamIds: lib.z.array(lib.z.string())
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ inviteUserAction = action_client/* authenticatedActionClient */.D.schema(ZInviteUserAction).action(async ({ parsedInput, ctx })=>{
    if (constants/* INVITE_DISABLED */.br) {
        throw new errors/* AuthenticationError */.v3("Invite disabled");
    }
    if (!constants/* IS_FORMBRICKS_CLOUD */.Si && parsedInput.role === client_.OrganizationRole.billing) {
        throw new errors/* ValidationError */.yI("Billing role is not allowed");
    }
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: parsedInput.organizationId,
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            }
        ]
    });
    if (parsedInput.role !== "owner" || parsedInput.teamIds.length > 0) {
        await (0,role_management_actions/* checkRoleManagementPermission */.Ti)(parsedInput.organizationId);
    }
    const inviteId = await inviteUser({
        organizationId: parsedInput.organizationId,
        invitee: {
            email: parsedInput.email,
            name: parsedInput.name,
            role: parsedInput.role,
            teamIds: parsedInput.teamIds
        },
        currentUserId: ctx.user.id
    });
    if (inviteId) {
        await (0,email/* sendInviteMemberEmail */.S0)(inviteId, parsedInput.email, ctx.user.name ?? "", parsedInput.name ?? "", false, undefined);
    }
    return inviteId;
});
const ZLeaveOrganizationAction = lib.z.object({
    organizationId: common/* ZId */.i4
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ leaveOrganizationAction = action_client/* authenticatedActionClient */.D.schema(ZLeaveOrganizationAction).action(async ({ parsedInput, ctx })=>{
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: parsedInput.organizationId,
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager",
                    "billing",
                    "member"
                ]
            }
        ]
    });
    const membership = await (0,service/* getMembershipByUserIdOrganizationId */.Y)(ctx.user.id, parsedInput.organizationId);
    if (!membership) {
        throw new errors/* AuthenticationError */.v3("Not a member of this organization");
    }
    const { isOwner } = (0,membership_utils/* getAccessFlags */.c)(membership.role);
    const isMultiOrgEnabled = await (0,utils/* getIsMultiOrgEnabled */.pn)();
    if (isOwner) {
        throw new errors/* OperationNotAllowedError */.J4("You cannot leave an organization you own");
    }
    if (!isMultiOrgEnabled) {
        throw new errors/* OperationNotAllowedError */.J4("You cannot leave the organization because you are the only owner and organization deletion is disabled");
    }
    const memberships = await getMembershipsByUserId(ctx.user.id);
    if (!memberships || memberships?.length <= 1) {
        throw new errors/* ValidationError */.yI("You cannot leave the only organization you are a member of");
    }
    return await deleteMembership(ctx.user.id, parsedInput.organizationId);
});

(0,action_validate/* ensureServerEntryExports */.D)([
    deleteInviteAction,
    createInviteTokenAction,
    deleteMembershipAction,
    resendInviteAction,
    inviteUserAction,
    leaveOrganizationAction
]);
(0,server_reference/* registerServerReference */.A)(deleteInviteAction, "7f6bfc58faa3c5b1986d3295663dcd311a449dc576", null);
(0,server_reference/* registerServerReference */.A)(createInviteTokenAction, "7f7c5a0e012c0de33ab3abd28be6db2cba08c0db6d", null);
(0,server_reference/* registerServerReference */.A)(deleteMembershipAction, "7f652c821c1bd134d71c744b00f7a4e18adb1de36a", null);
(0,server_reference/* registerServerReference */.A)(resendInviteAction, "7fcba5de3de5bff740aa23b515586ef5b72adc0112", null);
(0,server_reference/* registerServerReference */.A)(inviteUserAction, "7ff697c50dacd990766b85fef5a93a34a08510b195", null);
(0,server_reference/* registerServerReference */.A)(leaveOrganizationAction, "7f5a756caf3bc4386d65ddd8148ca0d27f537786c4", null);

;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fapp%2F(app)%2Fenvironments%2F%5BenvironmentId%5D%2Factions%2Factions.ts%22%2C%5B%5B%227f2431fc3b8c6c124a1868f9a0b34d77983cdb9649%22%2C%22getLatestStableFbReleaseAction%22%5D%2C%5B%227f24b3d27813511aef08364975a20983e61a3dde87%22%2C%22getActiveInactiveSurveysAction%22%5D%2C%5B%227f607ac975565ce495ac2952cf2bd35183ca9684ec%22%2C%22updateActionClassAction%22%5D%2C%5B%227f82763127a11eaaa934ce7fb0ffd1f148bfd60c06%22%2C%22deleteActionClassAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Flib%2Futils%2Fservices.ts%22%2C%5B%5B%227f11f2efac37ac84796e6cb223722dbe2e808e177f%22%2C%22getResponse%22%5D%2C%5B%227f12957c3365cc2950bdc48f0118f82439eb6c23ec%22%2C%22getSurvey%22%5D%2C%5B%227f20db167926d501ff62b9525526548773c8a436d4%22%2C%22isTeamPartOfOrganization%22%5D%2C%5B%227f36cf02b548a01d85112f587591e8c1e8390fa538%22%2C%22isProjectPartOfOrganization%22%5D%2C%5B%227f4f2c9c8b657cf906e9a25e65dafac6ec65967916%22%2C%22getWebhook%22%5D%2C%5B%227f540889be00b7aa8c6ff1edc5cd79ece876954fd3%22%2C%22getInvite%22%5D%2C%5B%227f60061b4b6be335eaa2facd1c5d8129b87f6923f4%22%2C%22getActionClass%22%5D%2C%5B%227f670a0537f96de8b5156e1b206124b2a990484370%22%2C%22getApiKey%22%5D%2C%5B%227f74bd40a1f82de833915085152910f3ebd525b356%22%2C%22getTeam%22%5D%2C%5B%227fb9a3e6cbebea226c9a3678f31bfebf532ca7321e%22%2C%22getResponseNote%22%5D%2C%5B%227fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1%22%2C%22getTag%22%5D%2C%5B%227fc6abb0838b6422ef7e81141fd6603883cd1990cf%22%2C%22getDocument%22%5D%2C%5B%227fc856fe5dd5f698d2f54dacf4280d447336780427%22%2C%22getLanguage%22%5D%2C%5B%227fcda0e6bf50febdf861015e25ebdf74068a488dde%22%2C%22getContact%22%5D%2C%5B%227fcfea9518c327899180b23cb3055005ba65cdef33%22%2C%22getIntegration%22%5D%2C%5B%227fdb06c584a2145e0f48be9ead409fc7f774731fde%22%2C%22getEnvironment%22%5D%2C%5B%227fdcbaf3445e783557d350b55d91be1398fafca7d3%22%2C%22getInsight%22%5D%2C%5B%227fe763f2c0d5f307cc75c26f23c693a54ac24a3112%22%2C%22getProject%22%5D%2C%5B%227ffb22c619704253744e9b5fea4eccca8b0808fb64%22%2C%22getSegment%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Forganization%2Factions.ts%22%2C%5B%5B%227ff27151c29d7402abd744ae983a2c25b016ccf26f%22%2C%22createOrganizationAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Fee%2Fteams%2Fteam-list%2Faction.ts%22%2C%5B%5B%227f275305555b0860bfbae18b2e203c55ee40ddaf1a%22%2C%22getTeamDetailsAction%22%5D%2C%5B%227f43cc68cec6dde2548d660aed09d677fb6bf640be%22%2C%22getTeamRoleAction%22%5D%2C%5B%227f4abed3c09a69cb9276f46db77a84c84d3cc2434a%22%2C%22updateTeamDetailsAction%22%5D%2C%5B%227fcb6302bee020bf7d696519228772c9d19427880f%22%2C%22createTeamAction%22%5D%2C%5B%227fdc59fabffb1d3ec063140a781847f4dcbb0bd037%22%2C%22deleteTeamAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Fee%2Frole-management%2Factions.ts%22%2C%5B%5B%227f3a48084fae0d461868aa819e5b7b93bec73b1b60%22%2C%22updateMembershipAction%22%5D%2C%5B%227f6c465cadae01e2069341389046c2986069fbd010%22%2C%22updateInviteAction%22%5D%2C%5B%227fc1aadc038b6a86ba3265bdb8830b8f2e2d597611%22%2C%22checkRoleManagementPermission%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Forganization%2Fsettings%2Fteams%2Factions.ts%22%2C%5B%5B%227f5a756caf3bc4386d65ddd8148ca0d27f537786c4%22%2C%22leaveOrganizationAction%22%5D%2C%5B%227f652c821c1bd134d71c744b00f7a4e18adb1de36a%22%2C%22deleteMembershipAction%22%5D%2C%5B%227f6bfc58faa3c5b1986d3295663dcd311a449dc576%22%2C%22deleteInviteAction%22%5D%2C%5B%227f7c5a0e012c0de33ab3abd28be6db2cba08c0db6d%22%2C%22createInviteTokenAction%22%5D%2C%5B%227fcba5de3de5bff740aa23b515586ef5b72adc0112%22%2C%22resendInviteAction%22%5D%2C%5B%227ff697c50dacd990766b85fef5a93a34a08510b195%22%2C%22inviteUserAction%22%5D%5D%5D%5D&__client_imported__=true!









































/***/ }),

/***/ 95963:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 841068));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 42304));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 821490));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 844378));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 185779));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 853648, 23));


/***/ }),

/***/ 49107:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 928404));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 742264));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 871939));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 678397));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 520360));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 36888, 23));


/***/ }),

/***/ 928404:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OrganizationSettingsNavbar: () => (/* binding */ OrganizationSettingsNavbar)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_secondary_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(630785);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(397674);
/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(470207);
/* harmony import */ var _formbricks_lib_membership_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(100274);
/* __next_internal_client_entry_do_not_use__ OrganizationSettingsNavbar auto */ 




const OrganizationSettingsNavbar = ({ environmentId, isFormbricksCloud, membershipRole, activeId, loading })=>{
    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)();
    const { isMember } = (0,_formbricks_lib_membership_utils__WEBPACK_IMPORTED_MODULE_3__/* .getAccessFlags */ .c)(membershipRole);
    const isPricingDisabled = isMember;
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_4__/* .useTranslate */ .WD)();
    const navigation = [
        {
            id: "general",
            label: t("common.general"),
            href: `/environments/${environmentId}/settings/general`,
            current: pathname?.includes("/general"),
            hidden: false
        },
        {
            id: "billing",
            label: t("common.billing"),
            href: `/environments/${environmentId}/settings/billing`,
            hidden: !isFormbricksCloud || loading,
            current: pathname?.includes("/billing")
        },
        {
            id: "teams",
            label: t("common.teams"),
            href: `/environments/${environmentId}/settings/teams`,
            current: pathname?.includes("/teams")
        },
        {
            id: "enterprise",
            label: t("common.enterprise_license"),
            href: `/environments/${environmentId}/settings/enterprise`,
            hidden: isFormbricksCloud || isPricingDisabled,
            current: pathname?.includes("/enterprise")
        }
    ];
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_secondary_navigation__WEBPACK_IMPORTED_MODULE_1__/* .SecondaryNavigation */ .N, {
        navigation: navigation,
        activeId: activeId,
        loading: loading
    });
};


/***/ }),

/***/ 742264:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SettingsCard: () => (/* binding */ SettingsCard)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_badge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(661989);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(397674);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ SettingsCard auto */ 



const SettingsCard = ({ title, description, children, soon = false, noPadding = false, beta, className })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_2__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("relative my-4 w-full max-w-4xl rounded-xl border border-slate-200 bg-white py-4 text-left shadow-sm", className),
        id: title,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "border-b border-slate-200 px-4 pb-4",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: "flex",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", {
                                className: "text-lg font-medium capitalize leading-6 text-slate-900",
                                children: title
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: "ml-2",
                                children: [
                                    beta && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_badge__WEBPACK_IMPORTED_MODULE_1__/* .Badge */ .E, {
                                        size: "normal",
                                        type: "warning",
                                        text: "Beta"
                                    }),
                                    soon && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_badge__WEBPACK_IMPORTED_MODULE_1__/* .Badge */ .E, {
                                        size: "normal",
                                        type: "success",
                                        text: t("environments.settings.enterprise.coming_soon")
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                        className: "mt-1 text-sm text-slate-500",
                        children: description
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)(noPadding ? "" : "px-4 pt-4"),
                children: children
            })
        ]
    });
};


/***/ }),

/***/ 871939:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  TeamsTable: () => (/* binding */ TeamsTable)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f275305555b0860bfbae18b2e203c55ee40ddaf1a&name=getTeamDetailsAction!

const getTeamDetailsAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f275305555b0860bfbae18b2e203c55ee40ddaf1a", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "getTeamDetailsAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f43cc68cec6dde2548d660aed09d677fb6bf640be&name=getTeamRoleAction!

const getTeamRoleAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f43cc68cec6dde2548d660aed09d677fb6bf640be", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "getTeamRoleAction")
// EXTERNAL MODULE: ./modules/ee/teams/team-list/components/create-team-modal.tsx + 1 modules
var create_team_modal = __webpack_require__(862449);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx
var components_button = __webpack_require__(248852);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
;// ./modules/ee/teams/team-list/components/create-team-button.tsx
/* __next_internal_client_entry_do_not_use__ CreateTeamButton auto */ 




const CreateTeamButton = ({ organizationId })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [openCreateTeamModal, setOpenCreateTeamModal] = (0,react.useState)(false);
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                size: "sm",
                variant: "secondary",
                onClick: ()=>setOpenCreateTeamModal(true),
                children: t("environments.settings.teams.create_new_team")
            }),
            openCreateTeamModal && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(create_team_modal/* CreateTeamModal */.H, {
                open: openCreateTeamModal,
                setOpen: setOpenCreateTeamModal,
                organizationId: organizationId
            })
        ]
    });
};

// EXTERNAL MODULE: ./modules/ui/components/tooltip/index.tsx
var tooltip = __webpack_require__(163701);
;// ./modules/ee/teams/team-list/components/manage-team-button.tsx
/* __next_internal_client_entry_do_not_use__ ManageTeamButton auto */ 



const ManageTeamButton = ({ onClick, disabled })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tooltip/* TooltipRenderer */.rE, {
        shouldRender: disabled,
        tooltipContent: t("environments.settings.teams.manage_team_disabled"),
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
            size: "sm",
            variant: "secondary",
            disabled: disabled,
            onClick: onClick,
            children: t("environments.settings.teams.manage_team")
        })
    });
};

// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(99922);
// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(52615);
;// ./modules/ee/teams/project-teams/types/team.ts


const ZTeamPermission = lib.z.enum([
    "read",
    "readWrite",
    "manage"
]);
const ZProjectTeam = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    memberCount: lib.z.number(),
    permission: ZTeamPermission
});
const TOrganizationTeam = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string()
});

;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f4abed3c09a69cb9276f46db77a84c84d3cc2434a&name=updateTeamDetailsAction!

const updateTeamDetailsAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f4abed3c09a69cb9276f46db77a84c84d3cc2434a", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "updateTeamDetailsAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7fdc59fabffb1d3ec063140a781847f4dcbb0bd037&name=deleteTeamAction!

const deleteTeamAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7fdc59fabffb1d3ec063140a781847f4dcbb0bd037", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "deleteTeamAction")
// EXTERNAL MODULE: ./modules/ui/components/delete-dialog/index.tsx
var delete_dialog = __webpack_require__(982234);
// EXTERNAL MODULE: ./modules/ui/components/label/index.tsx
var label = __webpack_require__(61330);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.js
var navigation = __webpack_require__(470207);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
;// ./modules/ee/teams/team-list/components/team-settings/delete-team.tsx
/* __next_internal_client_entry_do_not_use__ DeleteTeam auto */ 









const DeleteTeam = ({ teamId, onDelete, isOwnerOrManager })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [isDeleteDialogOpen, setIsDeleteDialogOpen] = (0,react.useState)(false);
    const [isDeleting, setIsDeleting] = (0,react.useState)(false);
    const router = (0,navigation.useRouter)();
    const handleDeleteTeam = async ()=>{
        setIsDeleting(true);
        const deleteTeamActionResponse = await deleteTeamAction({
            teamId
        });
        if (deleteTeamActionResponse?.data) {
            dist/* default */.Ay.success(t("environments.settings.teams.team_deleted_successfully"));
            onDelete?.();
            router.refresh();
        } else {
            dist/* default */.Ay.error(t("common.something_went_wrong_please_try_again"));
        }
        setIsDeleteDialogOpen(false);
        setIsDeleting(false);
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "flex flex-col space-y-2",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                        htmlFor: "deleteTeamButton",
                        children: t("common.danger_zone")
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tooltip/* TooltipRenderer */.rE, {
                        shouldRender: !isOwnerOrManager,
                        tooltipContent: t("environments.settings.teams.team_deletion_not_allowed"),
                        className: "w-auto",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                            variant: "destructive",
                            size: "sm",
                            type: "button",
                            id: "deleteTeamButton",
                            className: "w-auto",
                            disabled: !isOwnerOrManager,
                            onClick: ()=>setIsDeleteDialogOpen(true),
                            children: t("environments.settings.teams.delete_team")
                        })
                    })
                ]
            }),
            isDeleteDialogOpen && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(delete_dialog/* DeleteDialog */.C, {
                open: isDeleteDialogOpen,
                setOpen: setIsDeleteDialogOpen,
                deleteWhat: t("common.team"),
                text: t("environments.settings.teams.are_you_sure_you_want_to_delete_this_team"),
                onDelete: handleDeleteTeam,
                isDeleting: isDeleting
            })
        ]
    });
};

// EXTERNAL MODULE: ../../packages/types/memberships.ts
var memberships = __webpack_require__(880105);
;// ./modules/ee/teams/team-list/types/team.ts




const ZTeamRole = lib.z.enum([
    "admin",
    "contributor"
]);
const ZUserTeam = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    userRole: ZTeamRole,
    memberCount: lib.z.number()
});
const ZOtherTeam = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    memberCount: lib.z.number()
});
const ZOrganizationTeam = lib.z.object({
    id: lib.z.string().cuid2(),
    name: lib.z.string()
});
const ZTeamDetails = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    organizationId: common/* ZId */.i4,
    members: lib.z.array(lib.z.object({
        userId: common/* ZId */.i4,
        name: lib.z.string(),
        role: ZTeamRole
    })),
    projects: lib.z.array(lib.z.object({
        projectId: common/* ZId */.i4,
        projectName: lib.z.string(),
        permission: ZTeamPermission
    }))
});
const ZOrganizationMember = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    role: memberships/* ZOrganizationRole */.mp
});
const ZTeamSettingsFormSchema = lib.z.object({
    name: lib.z.string().trim().min(1, "Team name is required"),
    members: lib.z.array(lib.z.object({
        userId: lib.z.string().trim().min(1, "Please select a member"),
        role: ZTeamRole
    })).min(1, {
        message: "Please add at least one member"
    }),
    projects: lib.z.array(lib.z.object({
        projectId: lib.z.string().trim().min(1, "Please select a project"),
        permission: ZTeamPermission
    })).min(1, {
        message: "Please add at least one project"
    })
});
const ZTeamMember = lib.z.object({
    role: ZTeamRole,
    id: lib.z.string(),
    name: lib.z.string(),
    email: lib.z.string(),
    isRoleEditable: lib.z.boolean()
});
const ZTeam = lib.z.object({
    id: lib.z.string(),
    name: lib.z.string({
        message: "Team name is required"
    }).trim().min(1, {
        message: "Team name must be at least 1 character long"
    }),
    teamUsers: lib.z.array(ZTeamMember)
});

// EXTERNAL MODULE: ./modules/ee/teams/utils/teams.ts
var teams = __webpack_require__(708171);
// EXTERNAL MODULE: ./modules/ui/components/form/index.tsx
var components_form = __webpack_require__(184142);
// EXTERNAL MODULE: ./modules/ui/components/input/index.tsx
var input = __webpack_require__(438624);
// EXTERNAL MODULE: ./modules/ui/components/modal/index.tsx
var modal = __webpack_require__(383207);
// EXTERNAL MODULE: ./modules/ui/components/select/index.tsx
var components_select = __webpack_require__(678372);
// EXTERNAL MODULE: ./modules/ui/components/typography/index.tsx
var typography = __webpack_require__(785631);
// EXTERNAL MODULE: ../../node_modules/@hookform/resolvers/zod/dist/zod.mjs + 1 modules
var zod = __webpack_require__(311159);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/x.js
var x = __webpack_require__(673766);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/trash-2.js
var trash_2 = __webpack_require__(800087);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/plus.js
var plus = __webpack_require__(108996);
// EXTERNAL MODULE: ../../node_modules/react-hook-form/dist/index.esm.mjs
var index_esm = __webpack_require__(200667);
// EXTERNAL MODULE: ../../packages/lib/cn.ts
var cn = __webpack_require__(983773);
// EXTERNAL MODULE: ../../packages/lib/membership/utils.ts
var utils = __webpack_require__(100274);
;// ./modules/ee/teams/team-list/components/team-settings/team-settings-modal.tsx
/* __next_internal_client_entry_do_not_use__ TeamSettingsModal auto */ 






















const TeamSettingsModal = ({ open, setOpen, team, orgMembers, orgProjects, userTeamRole, membershipRole, currentUserId })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const { isOwner, isManager, isMember } = (0,utils/* getAccessFlags */.c)(membershipRole);
    const isOwnerOrManager = isOwner || isManager;
    const { isAdmin, isContributor } = (0,teams/* getTeamAccessFlags */.V$)(userTeamRole);
    const isTeamAdminMember = isMember && isAdmin;
    const isTeamContributorMember = isMember && isContributor;
    const router = (0,navigation.useRouter)();
    const initialMembers = (0,react.useMemo)(()=>{
        const members = team.members.map((member)=>({
                userId: member.userId,
                role: member.role
            }));
        return members.length ? members : [
            {
                userId: "",
                role: ZTeamRole.enum.contributor
            }
        ];
    }, [
        team.members
    ]);
    const initialProjects = (0,react.useMemo)(()=>{
        const projects = team.projects.map((project)=>({
                projectId: project.projectId,
                permission: project.permission
            }));
        return projects.length ? projects : [
            {
                projectId: "",
                permission: ZTeamPermission.enum.read
            }
        ];
    }, [
        team.projects
    ]);
    const form = (0,index_esm/* useForm */.mN)({
        defaultValues: {
            name: team.name,
            members: initialMembers,
            projects: initialProjects
        },
        mode: "onChange",
        resolver: (0,zod/* zodResolver */.u)(ZTeamSettingsFormSchema)
    });
    const { control, handleSubmit, formState: { isSubmitting }, setValue, watch } = form;
    const closeSettingsModal = ()=>{
        setOpen(false);
    };
    const handleUpdateTeam = async (data)=>{
        const members = data.members.filter((m)=>m.userId);
        const projects = data.projects.filter((p)=>p.projectId);
        const updatedTeamActionResponse = await updateTeamDetailsAction({
            teamId: team.id,
            data: {
                name: data.name,
                members,
                projects
            }
        });
        if (updatedTeamActionResponse?.data) {
            dist/* default */.Ay.success(t("environments.settings.teams.team_updated_successfully"));
            closeSettingsModal();
            router.refresh();
        } else {
            const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(updatedTeamActionResponse);
            dist/* default */.Ay.error(errorMessage);
        }
    };
    const watchMembers = watch("members");
    const watchProjects = (0,index_esm/* useWatch */.FH)({
        control,
        name: "projects"
    }) || [];
    const handleAddMember = ()=>{
        const newMembers = [
            ...watchMembers,
            {
                userId: "",
                role: ZTeamRole.enum.contributor
            }
        ];
        setValue("members", newMembers);
    };
    const handleRemoveMember = (index)=>{
        setValue("members", watchMembers.filter((_, i)=>i !== index));
    };
    const handleAddProject = ()=>{
        const newProjects = [
            ...watchProjects,
            {
                projectId: "",
                permission: ZTeamPermission.enum.read
            }
        ];
        setValue("projects", newProjects);
    };
    const handleRemoveProject = (index)=>{
        setValue("projects", watchProjects.filter((_, i)=>i !== index));
    };
    const selectedMemberIds = watchMembers.map((m)=>m.userId);
    const selectedProjectIds = watchProjects.map((p)=>p.projectId);
    const getMemberOptionsForIndex = (index)=>{
        const currentMemberId = watchMembers[index]?.userId;
        return orgMembers.filter((om)=>!selectedMemberIds.includes(om?.id) || om?.id === currentMemberId).map((om)=>({
                label: om?.name,
                value: om?.id
            }));
    };
    const getProjectOptionsForIndex = (index)=>{
        const currentProjectId = watchProjects[index]?.projectId;
        return orgProjects.filter((op)=>!selectedProjectIds.includes(op?.id) || op?.id === currentProjectId).map((op)=>({
                label: op?.name,
                value: op?.id
            }));
    };
    const handleMemberSelectionChange = (index, userId)=>{
        setValue(`members.${index}.userId`, userId);
        const chosenMember = orgMembers.find((m)=>m.id === userId);
        if (chosenMember) {
            if (chosenMember.role === "owner" || chosenMember.role === "manager") {
                setValue(`members.${index}.role`, "admin");
            } else {
                setValue(`members.${index}.role`, "contributor");
            }
        }
    };
    const hasEmptyMember = watchMembers.some((m)=>!m.userId);
    const hasEmptyProject = watchProjects.some((p)=>!p.projectId);
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(modal/* Modal */.a, {
        open: open,
        setOpen: setOpen,
        noPadding: true,
        className: "overflow-visible",
        size: "md",
        hideCloseButton: true,
        closeOnOutsideClick: true,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "sticky top-0 flex h-full flex-col rounded-lg",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("button", {
                        className: (0,cn.cn)("absolute right-0 top-0 hidden pr-4 pt-4 text-slate-400 hover:text-slate-500 focus:outline-none focus:ring-0 sm:block"),
                        onClick: closeSettingsModal,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(x/* default */.A, {
                                className: "h-6 w-6 rounded-md bg-white"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                                className: "sr-only",
                                children: "Close"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "rounded-t-lg bg-slate-100",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "flex w-full items-center justify-between p-6",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                className: "flex items-center space-x-2",
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography.H4, {
                                            children: t("environments.settings.teams.team_name_settings_title", {
                                                teamName: team.name
                                            })
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography/* Muted */.QX, {
                                            className: "text-slate-500",
                                            children: t("environments.settings.teams.team_settings_description")
                                        })
                                    ]
                                })
                            })
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(index_esm/* FormProvider */.Op, {
                ...form,
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("form", {
                    className: "w-full",
                    onSubmit: handleSubmit(handleUpdateTeam),
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        className: "flex flex-col gap-6 p-6",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                className: "max-h-[500px] space-y-6 overflow-y-auto",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                        control: control,
                                        name: "name",
                                        render: ({ field, fieldState: { error } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_form/* FormItem */.eI, {
                                                children: [
                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormLabel */.lR, {
                                                        children: t("common.team_name")
                                                    }),
                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormControl */.MJ, {
                                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                                                            type: "text",
                                                            placeholder: t("common.team_name"),
                                                            ...field,
                                                            disabled: !isOwnerOrManager && !isTeamAdminMember
                                                        })
                                                    }),
                                                    error?.message && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormError */.jQ, {
                                                        className: "text-left",
                                                        children: error.message
                                                    })
                                                ]
                                            })
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                        className: "space-y-2",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormLabel */.lR, {
                                                children: t("common.members")
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                                control: control,
                                                name: `members`,
                                                render: ({ fieldState: { error } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_form/* FormItem */.eI, {
                                                        className: "flex-1",
                                                        children: [
                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                                                className: "max-h-40 space-y-2 overflow-y-auto p-1",
                                                                children: watchMembers.map((member, index)=>{
                                                                    const memberOpts = getMemberOptionsForIndex(index);
                                                                    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                                                        className: "flex gap-2.5",
                                                                        children: [
                                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                                                                control: control,
                                                                                name: `members.${index}.userId`,
                                                                                render: ({ field, fieldState: { error } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_form/* FormItem */.eI, {
                                                                                        className: "flex-1",
                                                                                        children: [
                                                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_select/* Select */.l6, {
                                                                                                onValueChange: (val)=>{
                                                                                                    field.onChange(val);
                                                                                                    handleMemberSelectionChange(index, val);
                                                                                                },
                                                                                                disabled: !isOwnerOrManager && !isTeamAdminMember,
                                                                                                value: member.userId,
                                                                                                children: [
                                                                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectTrigger */.bq, {
                                                                                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectValue */.yv, {
                                                                                                            placeholder: "Select member"
                                                                                                        })
                                                                                                    }),
                                                                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectContent */.gC, {
                                                                                                        children: memberOpts.map((option)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectItem */.eb, {
                                                                                                                value: option.value,
                                                                                                                id: `member-${index}-option`,
                                                                                                                children: option.label
                                                                                                            }, option.value))
                                                                                                    })
                                                                                                ]
                                                                                            }),
                                                                                            error?.message && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormError */.jQ, {
                                                                                                className: "text-left",
                                                                                                children: error.message
                                                                                            })
                                                                                        ]
                                                                                    })
                                                                            }),
                                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                                                                control: control,
                                                                                name: `members.${index}.role`,
                                                                                render: ({ field })=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormItem */.eI, {
                                                                                        className: "flex-1",
                                                                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_select/* Select */.l6, {
                                                                                            onValueChange: field.onChange,
                                                                                            value: member.role,
                                                                                            disabled: (()=>{
                                                                                                const chosenMember = orgMembers.find((m)=>m.id === watchMembers[index]?.userId);
                                                                                                if (!chosenMember) return !isOwnerOrManager && !isTeamAdminMember;
                                                                                                return chosenMember.role === "owner" || chosenMember.role === "manager" || isTeamContributorMember || chosenMember.id === currentUserId;
                                                                                            })(),
                                                                                            children: [
                                                                                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectTrigger */.bq, {
                                                                                                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectValue */.yv, {
                                                                                                        placeholder: "Select role"
                                                                                                    })
                                                                                                }),
                                                                                                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_select/* SelectContent */.gC, {
                                                                                                    children: [
                                                                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectItem */.eb, {
                                                                                                            value: ZTeamRole.enum.admin,
                                                                                                            children: t("environments.settings.teams.team_admin")
                                                                                                        }),
                                                                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectItem */.eb, {
                                                                                                            value: ZTeamRole.enum.contributor,
                                                                                                            children: t("environments.settings.teams.contributor")
                                                                                                        })
                                                                                                    ]
                                                                                                })
                                                                                            ]
                                                                                        })
                                                                                    })
                                                                            }),
                                                                            watchMembers.length > 1 && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                                                                size: "icon",
                                                                                type: "button",
                                                                                variant: "secondary",
                                                                                className: "shrink-0",
                                                                                disabled: !isOwnerOrManager && (!isTeamAdminMember || member.userId === currentUserId),
                                                                                onClick: ()=>handleRemoveMember(index),
                                                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(trash_2/* default */.A, {
                                                                                    className: "h-4 w-4"
                                                                                })
                                                                            })
                                                                        ]
                                                                    }, `member-${member.userId}-${index}`);
                                                                })
                                                            }),
                                                            error?.root?.message && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormError */.jQ, {
                                                                className: "text-left",
                                                                children: error.root.message
                                                            })
                                                        ]
                                                    })
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tooltip/* TooltipRenderer */.rE, {
                                                shouldRender: selectedMemberIds.length === orgMembers.length || hasEmptyMember,
                                                tooltipContent: hasEmptyMember ? t("environments.settings.teams.please_fill_all_member_fields") : t("environments.settings.teams.all_members_added"),
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                                                    size: "default",
                                                    type: "button",
                                                    variant: "secondary",
                                                    onClick: handleAddMember,
                                                    disabled: !isOwnerOrManager && !isTeamAdminMember || selectedMemberIds.length === orgMembers.length || hasEmptyMember,
                                                    children: [
                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(plus/* default */.A, {
                                                            className: "h-4 w-4"
                                                        }),
                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                                                            children: "Add member"
                                                        })
                                                    ]
                                                })
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography/* Muted */.QX, {
                                                className: "block text-slate-500",
                                                children: t("environments.settings.teams.add_members_description")
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                        className: "space-y-2",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormLabel */.lR, {
                                                children: "Projects"
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                                control: control,
                                                name: `projects`,
                                                render: ({ fieldState: { error } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_form/* FormItem */.eI, {
                                                        className: "flex-1",
                                                        children: [
                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                                                className: "max-h-40 space-y-2 overflow-y-auto p-1",
                                                                children: watchProjects.map((project, index)=>{
                                                                    const projectOpts = getProjectOptionsForIndex(index);
                                                                    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                                                        className: "flex gap-2.5",
                                                                        children: [
                                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                                                                control: control,
                                                                                name: `projects.${index}.projectId`,
                                                                                render: ({ field, fieldState: { error } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_form/* FormItem */.eI, {
                                                                                        className: "flex-1",
                                                                                        children: [
                                                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_select/* Select */.l6, {
                                                                                                onValueChange: field.onChange,
                                                                                                value: project.projectId,
                                                                                                disabled: !isOwnerOrManager,
                                                                                                children: [
                                                                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectTrigger */.bq, {
                                                                                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectValue */.yv, {
                                                                                                            placeholder: "Select project"
                                                                                                        })
                                                                                                    }),
                                                                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectContent */.gC, {
                                                                                                        children: projectOpts.map((option)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectItem */.eb, {
                                                                                                                value: option.value,
                                                                                                                id: `project-${index}-option`,
                                                                                                                children: option.label
                                                                                                            }, option.value))
                                                                                                    })
                                                                                                ]
                                                                                            }),
                                                                                            error?.message && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormError */.jQ, {
                                                                                                className: "text-left",
                                                                                                children: error.message
                                                                                            })
                                                                                        ]
                                                                                    })
                                                                            }),
                                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                                                                control: control,
                                                                                name: `projects.${index}.permission`,
                                                                                render: ({ field })=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormItem */.eI, {
                                                                                        className: "flex-1",
                                                                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_select/* Select */.l6, {
                                                                                            onValueChange: field.onChange,
                                                                                            value: project.permission,
                                                                                            disabled: !isOwnerOrManager,
                                                                                            children: [
                                                                                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectTrigger */.bq, {
                                                                                                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectValue */.yv, {
                                                                                                        placeholder: "Select project role"
                                                                                                    })
                                                                                                }),
                                                                                                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_select/* SelectContent */.gC, {
                                                                                                    children: [
                                                                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectItem */.eb, {
                                                                                                            value: ZTeamPermission.enum.read,
                                                                                                            children: t("environments.settings.teams.read")
                                                                                                        }),
                                                                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectItem */.eb, {
                                                                                                            value: ZTeamPermission.enum.readWrite,
                                                                                                            children: t("environments.settings.teams.read_write")
                                                                                                        }),
                                                                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectItem */.eb, {
                                                                                                            value: ZTeamPermission.enum.manage,
                                                                                                            children: t("environments.settings.teams.manage")
                                                                                                        })
                                                                                                    ]
                                                                                                })
                                                                                            ]
                                                                                        })
                                                                                    })
                                                                            }),
                                                                            watchProjects.length > 1 && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                                                                size: "icon",
                                                                                type: "button",
                                                                                variant: "secondary",
                                                                                className: "shrink-0",
                                                                                disabled: !isOwnerOrManager,
                                                                                onClick: ()=>handleRemoveProject(index),
                                                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(trash_2/* default */.A, {
                                                                                    className: "h-4 w-4"
                                                                                })
                                                                            })
                                                                        ]
                                                                    }, `project-${project.projectId}-${index}`);
                                                                })
                                                            }),
                                                            error?.root?.message && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormError */.jQ, {
                                                                className: "text-left",
                                                                children: error.root.message
                                                            })
                                                        ]
                                                    })
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tooltip/* TooltipRenderer */.rE, {
                                                shouldRender: selectedProjectIds.length === orgProjects.length || hasEmptyProject,
                                                tooltipContent: hasEmptyProject ? t("environments.settings.teams.please_fill_all_project_fields") : t("environments.settings.teams.all_projects_added"),
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                                                    size: "default",
                                                    type: "button",
                                                    variant: "secondary",
                                                    onClick: handleAddProject,
                                                    disabled: !isOwnerOrManager || selectedProjectIds.length === orgProjects.length || hasEmptyProject,
                                                    children: [
                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(plus/* default */.A, {
                                                            className: "h-4 w-4"
                                                        }),
                                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                                                            children: "Add project"
                                                        })
                                                    ]
                                                })
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography/* Muted */.QX, {
                                                className: "block text-slate-500",
                                                children: t("environments.settings.teams.add_projects_description")
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                        className: "w-max",
                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(DeleteTeam, {
                                            teamId: team.id,
                                            onDelete: closeSettingsModal,
                                            isOwnerOrManager: isOwnerOrManager
                                        })
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                        size: "default",
                                        type: "button",
                                        variant: "outline",
                                        onClick: closeSettingsModal,
                                        children: t("common.cancel")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                        type: "submit",
                                        size: "default",
                                        loading: isSubmitting,
                                        disabled: !isOwnerOrManager && !isTeamAdminMember,
                                        children: t("common.save")
                                    })
                                ]
                            })
                        ]
                    })
                })
            })
        ]
    });
};

// EXTERNAL MODULE: ./modules/ui/components/badge/index.tsx
var badge = __webpack_require__(661989);
// EXTERNAL MODULE: ./modules/ui/components/table/index.tsx
var table = __webpack_require__(162000);
;// ./modules/ee/teams/team-list/components/teams-table.tsx
/* __next_internal_client_entry_do_not_use__ TeamsTable auto */ 











const TeamsTable = ({ teams, organizationId, orgMembers, orgProjects, membershipRole, currentUserId })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [openSettingsModal, setOpenSettingsModal] = (0,react.useState)(false);
    const [selectedTeam, setSelectedTeam] = (0,react.useState)();
    const [userTeamRole, setUserTeamRole] = (0,react.useState)();
    const { isOwner, isManager } = (0,utils/* getAccessFlags */.c)(membershipRole);
    const isOwnerOrManager = isOwner || isManager;
    const handleManageTeam = async (teamId)=>{
        const teamDetailsResponse = await getTeamDetailsAction({
            teamId
        });
        const teamRoleResult = await getTeamRoleAction({
            teamId
        });
        setUserTeamRole(teamRoleResult?.data ?? undefined);
        if (teamDetailsResponse?.data) {
            setSelectedTeam(teamDetailsResponse.data);
            setOpenSettingsModal(true);
        } else {
            const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(teamDetailsResponse);
            dist/* default */.Ay.error(errorMessage);
        }
    };
    const { userTeams, otherTeams } = teams;
    const allTeams = [
        ...userTeams,
        ...otherTeams
    ];
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
        children: [
            isOwnerOrManager && /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                className: "mb-4 flex justify-end",
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(CreateTeamButton, {
                    organizationId: organizationId
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                className: "overflow-hidden rounded-lg",
                "aria-label": "Teams list",
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(table/* Table */.XI, {
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableHeader */.A0, {
                            role: "rowgroup",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(table/* TableRow */.Hj, {
                                className: "bg-slate-100",
                                role: "row",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableHead */.nd, {
                                        className: "font-medium text-slate-500",
                                        children: t("environments.settings.teams.team_name")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableHead */.nd, {
                                        className: "font-medium text-slate-500",
                                        children: t("common.size")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableHead */.nd, {}),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableHead */.nd, {})
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(table/* TableBody */.BF, {
                            className: "[&_tr:last-child]:border-b",
                            children: [
                                allTeams.length === 0 && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableRow */.Hj, {
                                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableCell */.nA, {
                                        colSpan: 4,
                                        className: "text-center hover:bg-transparent",
                                        children: t("environments.settings.teams.empty_teams_state")
                                    })
                                }),
                                userTeams.map((team)=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(table/* TableRow */.Hj, {
                                        id: team.name,
                                        className: "hover:bg-transparent",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableCell */.nA, {
                                                children: team.name
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(table/* TableCell */.nA, {
                                                children: [
                                                    team.memberCount,
                                                    " ",
                                                    team.memberCount === 1 ? t("common.member") : t("common.members")
                                                ]
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableCell */.nA, {
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(badge/* Badge */.E, {
                                                    type: "success",
                                                    size: "tiny",
                                                    text: t("environments.settings.teams.you_are_a_member")
                                                })
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableCell */.nA, {
                                                className: "flex justify-end",
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(ManageTeamButton, {
                                                    disabled: !isOwnerOrManager && team.userRole !== "admin",
                                                    onClick: ()=>{
                                                        handleManageTeam(team.id);
                                                    }
                                                })
                                            })
                                        ]
                                    }, team.id)),
                                otherTeams.map((team)=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(table/* TableRow */.Hj, {
                                        id: team.name,
                                        className: "hover:bg-transparent",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableCell */.nA, {
                                                children: team.name
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(table/* TableCell */.nA, {
                                                children: [
                                                    team.memberCount,
                                                    " ",
                                                    team.memberCount === 1 ? t("common.member") : t("common.members")
                                                ]
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableCell */.nA, {}),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(table/* TableCell */.nA, {
                                                className: "flex justify-end",
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(ManageTeamButton, {
                                                    disabled: !isOwnerOrManager,
                                                    onClick: ()=>{
                                                        handleManageTeam(team.id);
                                                    }
                                                })
                                            })
                                        ]
                                    }, team.id))
                            ]
                        })
                    ]
                })
            }),
            openSettingsModal && selectedTeam && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(TeamSettingsModal, {
                open: openSettingsModal,
                setOpen: setOpenSettingsModal,
                team: selectedTeam,
                orgMembers: orgMembers,
                orgProjects: orgProjects,
                membershipRole: membershipRole,
                userTeamRole: userTeamRole,
                currentUserId: currentUserId
            })
        ]
    });
};


/***/ }),

/***/ 678397:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  MembersInfo: () => (/* binding */ MembersInfo)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ./modules/ui/components/badge/index.tsx
var badge = __webpack_require__(661989);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx
var components_button = __webpack_require__(248852);
// EXTERNAL MODULE: ./modules/ui/components/dropdown-menu/index.tsx
var dropdown_menu = __webpack_require__(556825);
// EXTERNAL MODULE: external "@prisma/client"
var client_ = __webpack_require__(896330);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/chevron-down.js
var chevron_down = __webpack_require__(668382);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.js
var navigation = __webpack_require__(470207);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
// EXTERNAL MODULE: ../../packages/lib/membership/utils.ts
var utils = __webpack_require__(100274);
// EXTERNAL MODULE: ../../packages/lib/utils/strings.ts
var strings = __webpack_require__(92018);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f3a48084fae0d461868aa819e5b7b93bec73b1b60&name=updateMembershipAction!

const updateMembershipAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f3a48084fae0d461868aa819e5b7b93bec73b1b60", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "updateMembershipAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f6c465cadae01e2069341389046c2986069fbd010&name=updateInviteAction!

const updateInviteAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f6c465cadae01e2069341389046c2986069fbd010", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "updateInviteAction")
;// ./modules/ee/role-management/components/edit-membership-role.tsx
/* __next_internal_client_entry_do_not_use__ EditMembershipRole auto */ 












function EditMembershipRole({ memberRole, organizationId, currentUserRole, memberId, userId, memberAccepted, inviteId, doesOrgHaveMoreThanOneOwner, isFormbricksCloud }) {
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const router = (0,navigation.useRouter)();
    const [loading, setLoading] = (0,react.useState)(false);
    const { isOwner, isManager } = (0,utils/* getAccessFlags */.c)(currentUserRole);
    const isOwnerOrManager = isOwner || isManager;
    const disableRole = memberId === userId || memberRole === "owner" && !doesOrgHaveMoreThanOneOwner || currentUserRole === "manager" && memberRole === "owner";
    const handleMemberRoleUpdate = async (role)=>{
        setLoading(true);
        try {
            if (memberAccepted && memberId) {
                await updateMembershipAction({
                    userId: memberId,
                    organizationId,
                    data: {
                        role
                    }
                });
            }
            if (inviteId) {
                await updateInviteAction({
                    inviteId: inviteId,
                    organizationId,
                    data: {
                        role
                    }
                });
            }
        } catch (error) {
            dist/* default */.Ay.error(t("common.something_went_wrong_please_try_again"));
        }
        setLoading(false);
        router.refresh();
    };
    const handleRoleChange = (role)=>{
        handleMemberRoleUpdate(role);
    };
    const getMembershipRoles = ()=>{
        const roles = isFormbricksCloud ? Object.values(client_.OrganizationRole) : Object.keys(client_.OrganizationRole).filter((role)=>role !== "billing");
        return roles;
    };
    if (isOwnerOrManager) {
        return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(dropdown_menu/* DropdownMenu */.rI, {
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(dropdown_menu/* DropdownMenuTrigger */.ty, {
                    asChild: true,
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                        className: "flex items-center gap-1 p-2 text-xs",
                        disabled: disableRole,
                        loading: loading,
                        size: "sm",
                        variant: "secondary",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                                className: "ml-1",
                                children: (0,strings/* capitalizeFirstLetter */.Zr)(memberRole)
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(chevron_down/* default */.A, {
                                className: "h-4 w-4"
                            })
                        ]
                    })
                }),
                !disableRole && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(dropdown_menu/* DropdownMenuContent */.SQ, {
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(dropdown_menu/* DropdownMenuRadioGroup */.Hr, {
                        onValueChange: (value)=>{
                            handleRoleChange(value.toLowerCase());
                        },
                        value: memberRole,
                        children: getMembershipRoles().map((role)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(dropdown_menu/* DropdownMenuRadioItem */.Ht, {
                                className: "capitalize",
                                value: role,
                                children: role.toLowerCase()
                            }, role))
                    })
                })
            ]
        });
    }
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(badge/* Badge */.E, {
        size: "tiny",
        type: "gray",
        text: (0,strings/* capitalizeFirstLetter */.Zr)(memberRole)
    });
}

// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f6bfc58faa3c5b1986d3295663dcd311a449dc576&name=deleteInviteAction!

const deleteInviteAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f6bfc58faa3c5b1986d3295663dcd311a449dc576", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "deleteInviteAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f652c821c1bd134d71c744b00f7a4e18adb1de36a&name=deleteMembershipAction!

const deleteMembershipAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f652c821c1bd134d71c744b00f7a4e18adb1de36a", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "deleteMembershipAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f7c5a0e012c0de33ab3abd28be6db2cba08c0db6d&name=createInviteTokenAction!

const createInviteTokenAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f7c5a0e012c0de33ab3abd28be6db2cba08c0db6d", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "createInviteTokenAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7fcba5de3de5bff740aa23b515586ef5b72adc0112&name=resendInviteAction!

const resendInviteAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7fcba5de3de5bff740aa23b515586ef5b72adc0112", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "resendInviteAction")
// EXTERNAL MODULE: ./modules/ui/components/modal/index.tsx
var modal = __webpack_require__(383207);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/check.js
var check = __webpack_require__(129170);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/copy.js
var copy = __webpack_require__(875677);
;// ./modules/organization/settings/teams/components/invite-member/share-invite-modal.tsx
/* __next_internal_client_entry_do_not_use__ ShareInviteModal auto */ 






const ShareInviteModal = ({ inviteToken, open, setOpen })=>{
    const linkTextRef = (0,react.useRef)(null);
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const handleTextSelection = ()=>{
        if (linkTextRef.current) {
            const range = document.createRange();
            range.selectNodeContents(linkTextRef.current);
            const selection = window.getSelection();
            if (selection) {
                selection.removeAllRanges();
                selection.addRange(range);
            }
        }
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(modal/* Modal */.a, {
        open: open,
        setOpen: setOpen,
        blur: false,
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                    className: "mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-teal-100",
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(check/* default */.A, {
                        className: "h-6 w-6 text-teal-600",
                        "aria-hidden": "true"
                    })
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    className: "mt-3 text-center sm:mt-5",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("h3", {
                            className: "text-lg font-semibold leading-6 text-slate-900",
                            children: t("environments.settings.general.organization_invite_link_ready")
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                            className: "mt-4",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                    className: "text-sm text-slate-500",
                                    children: t("environments.settings.general.share_this_link_to_let_your_organization_member_join_your_organization")
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                    ref: linkTextRef,
                                    className: "relative mt-3 w-full truncate rounded-lg border border-slate-300 bg-slate-50 p-3 text-center text-slate-800",
                                    onClick: ()=>handleTextSelection(),
                                    id: "inviteLinkText",
                                    children: `${window.location.protocol}//${window.location.host}/invite?token=${inviteToken}`
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "mt-4 flex justify-end space-x-2",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                                variant: "secondary",
                                onClick: ()=>{
                                    navigator.clipboard.writeText(`${window.location.protocol}//${window.location.host}/invite?token=${inviteToken}`);
                                    dist/* default */.Ay.success(t("common.copied_to_clipboard"));
                                },
                                title: t("environments.settings.general.copy_invite_link_to_clipboard"),
                                "aria-label": "Copy invite link to clipboard",
                                children: [
                                    t("common.copy_link"),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(copy/* default */.A, {})
                                ]
                            })
                        })
                    ]
                })
            ]
        })
    });
};

// EXTERNAL MODULE: ./modules/ui/components/delete-dialog/index.tsx
var delete_dialog = __webpack_require__(982234);
// EXTERNAL MODULE: ./modules/ui/components/tooltip/index.tsx
var tooltip = __webpack_require__(163701);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/trash.js
var trash = __webpack_require__(721964);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/createLucideIcon.js + 3 modules
var createLucideIcon = __webpack_require__(58303);
;// ../../node_modules/lucide-react/dist/esm/icons/share.js
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Share = (0,createLucideIcon/* default */.A)("Share", [
    [
        "path",
        {
            d: "M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",
            key: "1b2hhj"
        }
    ],
    [
        "polyline",
        {
            points: "16 6 12 2 8 6",
            key: "m901s6"
        }
    ],
    [
        "line",
        {
            x1: "12",
            x2: "12",
            y1: "2",
            y2: "15",
            key: "1p0rca"
        }
    ]
]);
 //# sourceMappingURL=share.js.map

;// ../../node_modules/lucide-react/dist/esm/icons/send-horizontal.js
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const SendHorizontal = (0,createLucideIcon/* default */.A)("SendHorizontal", [
    [
        "path",
        {
            d: "M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",
            key: "117uat"
        }
    ],
    [
        "path",
        {
            d: "M6 12h16",
            key: "s4cdu5"
        }
    ]
]);
 //# sourceMappingURL=send-horizontal.js.map

;// ./modules/organization/settings/teams/components/edit-memberships/member-actions.tsx
/* __next_internal_client_entry_do_not_use__ MemberActions auto */ 











const MemberActions = ({ organization, member, invite, showDeleteButton })=>{
    const router = (0,navigation.useRouter)();
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [isDeleteMemberModalOpen, setDeleteMemberModalOpen] = (0,react.useState)(false);
    const [isDeleting, setIsDeleting] = (0,react.useState)(false);
    const [showShareInviteModal, setShowShareInviteModal] = (0,react.useState)(false);
    const [shareInviteToken, setShareInviteToken] = (0,react.useState)("");
    const handleDeleteMember = async ()=>{
        try {
            setIsDeleting(true);
            if (!member && invite) {
                // This is an invite
                await deleteInviteAction({
                    inviteId: invite?.id,
                    organizationId: organization.id
                });
                dist/* default */.Ay.success(t("environments.settings.general.invite_deleted_successfully"));
            }
            if (member && !invite) {
                // This is a member
                await deleteMembershipAction({
                    userId: member.userId,
                    organizationId: organization.id
                });
                dist/* default */.Ay.success(t("environments.settings.general.member_deleted_successfully"));
            }
            setIsDeleting(false);
            router.refresh();
        } catch (err) {
            setIsDeleting(false);
            dist/* default */.Ay.error(t("common.something_went_wrong_please_try_again"));
        }
    };
    const memberName = (0,react.useMemo)(()=>{
        if (member) {
            return member.name;
        }
        if (invite) {
            return invite.name;
        }
        return "";
    }, [
        invite,
        member
    ]);
    const handleShareInvite = async ()=>{
        try {
            if (!invite) return;
            const createInviteTokenResponse = await createInviteTokenAction({
                inviteId: invite.id
            });
            if (createInviteTokenResponse?.data) {
                setShareInviteToken(createInviteTokenResponse.data.inviteToken);
                setShowShareInviteModal(true);
            } else {
                const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(createInviteTokenResponse);
                dist/* default */.Ay.error(errorMessage);
            }
        } catch (err) {
            dist/* default */.Ay.error(`${t("common.error")}: ${err.message}`);
        }
    };
    const handleResendInvite = async ()=>{
        try {
            if (!invite) return;
            const resendInviteResponse = await resendInviteAction({
                inviteId: invite.id,
                organizationId: organization.id
            });
            if (resendInviteResponse?.data) {
                dist/* default */.Ay.success(t("environments.settings.general.invitation_sent_once_more"));
            } else {
                const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(resendInviteResponse);
                dist/* default */.Ay.error(errorMessage);
            }
        } catch (err) {
            dist/* default */.Ay.error(`${t("common.error")}: ${err.message}`);
        }
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        className: "flex gap-2",
        children: [
            showDeleteButton && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(react_jsx_runtime.Fragment, {
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tooltip/* TooltipRenderer */.rE, {
                    tooltipContent: t("common.delete"),
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                        variant: "secondary",
                        size: "icon",
                        id: "deleteMemberButton",
                        onClick: ()=>setDeleteMemberModalOpen(true),
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(trash/* default */.A, {})
                    })
                })
            }),
            invite && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tooltip/* TooltipRenderer */.rE, {
                        tooltipContent: t("environments.settings.general.share_invite_link"),
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                            variant: "secondary",
                            size: "icon",
                            id: "shareInviteButton",
                            onClick: ()=>{
                                handleShareInvite();
                            },
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(Share, {})
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tooltip/* TooltipRenderer */.rE, {
                        tooltipContent: t("environments.settings.general.resend_invitation_email"),
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                            variant: "secondary",
                            size: "icon",
                            id: "resendInviteButton",
                            onClick: ()=>{
                                handleResendInvite();
                            },
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(SendHorizontal, {})
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(delete_dialog/* DeleteDialog */.C, {
                open: isDeleteMemberModalOpen,
                setOpen: setDeleteMemberModalOpen,
                deleteWhat: `${memberName} ${t("environments.settings.general.from_your_organization")}`,
                onDelete: handleDeleteMember,
                isDeleting: isDeleting
            }),
            showShareInviteModal && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(ShareInviteModal, {
                inviteToken: shareInviteToken,
                open: showShareInviteModal,
                setOpen: setShowShareInviteModal
            })
        ]
    });
};

;// ./modules/organization/settings/teams/lib/utilts.ts
const isInviteExpired = (invite)=>{
    const now = new Date();
    const expiresAt = new Date(invite.expiresAt);
    return now > expiresAt;
};

// EXTERNAL MODULE: ../../packages/lib/utils/datetime.ts
var datetime = __webpack_require__(915139);
;// ./modules/organization/settings/teams/components/edit-memberships/members-info.tsx
/* __next_internal_client_entry_do_not_use__ MembersInfo auto */ 








// Type guard to check if member is an invitee
const isInvitee = (member)=>{
    return member.expiresAt !== undefined;
};
const MembersInfo = ({ organization, invites, currentUserRole, members, currentUserId, canDoRoleManagement, isFormbricksCloud })=>{
    const allMembers = [
        ...members,
        ...invites
    ];
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const getMembershipBadge = (member)=>{
        if (isInvitee(member)) {
            return isInviteExpired(member) ? /*#__PURE__*/ (0,react_jsx_runtime.jsx)(badge/* Badge */.E, {
                type: "gray",
                text: "Expired",
                size: "tiny",
                "data-testid": "expired-badge"
            }) : /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tooltip/* TooltipRenderer */.rE, {
                tooltipContent: `${t("environments.settings.general.invited_on", {
                    date: (0,datetime/* getFormattedDateTimeString */.HJ)(member.createdAt)
                })}`,
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(badge/* Badge */.E, {
                    type: "warning",
                    text: "Pending",
                    size: "tiny"
                })
            });
        }
        return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(badge/* Badge */.E, {
            type: "success",
            text: "Active",
            size: "tiny"
        });
    };
    const { isOwner, isManager } = (0,utils/* getAccessFlags */.c)(currentUserRole);
    const isOwnerOrManager = isOwner || isManager;
    const doesOrgHaveMoreThanOneOwner = allMembers.filter((member)=>member.role === "owner").length > 1;
    const showDeleteButton = (member)=>{
        if (isInvitee(member)) {
            return isOwnerOrManager;
        }
        if (!isOwnerOrManager) {
            return false;
        }
        if (member.userId === currentUserId) {
            return false;
        }
        if (isManager) {
            return member.role !== "owner";
        }
        if (member.role === "owner") {
            return doesOrgHaveMoreThanOneOwner;
        }
        return true;
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
        className: "grid-cols-5",
        id: "membersInfoWrapper",
        children: allMembers.map((member)=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "singleMemberInfo grid h-auto w-full grid-cols-5 content-center rounded-lg px-4 py-3 text-left text-sm text-slate-900",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "ph-no-capture col-span-1 flex flex-col justify-center break-all",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                            children: member.name
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "ph-no-capture col-span-1 flex flex-col justify-center break-all text-center",
                        children: member.email
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "ph-no-capture col-span-1 flex flex-col items-center justify-center break-all",
                        children: canDoRoleManagement && allMembers?.length > 0 && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(EditMembershipRole, {
                            currentUserRole: currentUserRole,
                            memberRole: member.role,
                            memberId: !isInvitee(member) ? member.userId : "",
                            organizationId: organization.id,
                            userId: currentUserId,
                            memberAccepted: !isInvitee(member) ? member.accepted : undefined,
                            inviteId: isInvitee(member) ? member.id : "",
                            doesOrgHaveMoreThanOneOwner: doesOrgHaveMoreThanOneOwner,
                            isFormbricksCloud: isFormbricksCloud
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "col-span-1 flex items-center justify-center",
                        children: getMembershipBadge(member)
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "col-span-1 flex items-center justify-end gap-x-4 pr-4",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(MemberActions, {
                            organization: organization,
                            member: !isInvitee(member) ? member : undefined,
                            invite: isInvitee(member) ? member : undefined,
                            showDeleteButton: showDeleteButton(member)
                        })
                    })
                ]
            }, member.email))
    });
};


/***/ }),

/***/ 520360:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  OrganizationActions: () => (/* binding */ OrganizationActions)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f5a756caf3bc4386d65ddd8148ca0d27f537786c4&name=leaveOrganizationAction!

const leaveOrganizationAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f5a756caf3bc4386d65ddd8148ca0d27f537786c4", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "leaveOrganizationAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7ff697c50dacd990766b85fef5a93a34a08510b195&name=inviteUserAction!

const inviteUserAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7ff697c50dacd990766b85fef5a93a34a08510b195", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "inviteUserAction")
// EXTERNAL MODULE: ./modules/ui/components/modal/index.tsx
var modal = __webpack_require__(383207);
// EXTERNAL MODULE: ./modules/ui/components/tab-toggle/index.tsx
var tab_toggle = __webpack_require__(345290);
// EXTERNAL MODULE: ./modules/ui/components/typography/index.tsx
var typography = __webpack_require__(785631);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/x.js
var x = __webpack_require__(673766);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ../../packages/lib/cn.ts
var cn = __webpack_require__(983773);
// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(99922);
// EXTERNAL MODULE: ../../packages/database/zod/invites.ts
var invites = __webpack_require__(471918);
// EXTERNAL MODULE: ../../packages/types/user.ts
var user = __webpack_require__(959777);
;// ./modules/organization/settings/teams/types/invites.ts



const ZInvitee = invites/* ZInvite */.o.pick({
    email: true,
    role: true,
    teamIds: true
}).extend({
    name: user/* ZUserName */.pE
});
const ZInvitees = lib.z.array(ZInvitee);

// EXTERNAL MODULE: ./modules/ui/components/alert/index.tsx
var components_alert = __webpack_require__(886762);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx
var components_button = __webpack_require__(248852);
// EXTERNAL MODULE: ./modules/ui/components/file-input/components/uploader.tsx
var uploader = __webpack_require__(769816);
// EXTERNAL MODULE: ../../node_modules/next/dist/client/app-dir/link.js
var app_dir_link = __webpack_require__(36888);
var link_default = /*#__PURE__*/__webpack_require__.n(app_dir_link);
// EXTERNAL MODULE: ../../node_modules/papaparse/papaparse.js
var papaparse = __webpack_require__(766008);
var papaparse_default = /*#__PURE__*/__webpack_require__.n(papaparse);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
;// ./modules/organization/settings/teams/components/invite-member/bulk-invite-tab.tsx
/* __next_internal_client_entry_do_not_use__ BulkInviteTab auto */ 










const BulkInviteTab = ({ setOpen, onSubmit, canDoRoleManagement, isFormbricksCloud })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [csvFile, setCSVFile] = (0,react.useState)();
    const onFileInputChange = (files)=>{
        const file = files[0];
        setCSVFile(file);
    };
    const onImport = ()=>{
        if (!csvFile) {
            return;
        }
        papaparse_default().parse(csvFile, {
            skipEmptyLines: true,
            comments: "Full Name,Email Address,Role",
            complete: (results)=>{
                const members = results.data.map((csv)=>{
                    const [name, email, role] = csv;
                    let orgRole = canDoRoleManagement ? role.trim().toLowerCase() : "owner";
                    if (!isFormbricksCloud) {
                        orgRole = orgRole === "billing" ? "owner" : orgRole;
                    }
                    return {
                        name: name.trim(),
                        email: email.trim(),
                        role: orgRole,
                        teamIds: []
                    };
                });
                try {
                    ZInvitees.parse(members);
                    onSubmit(members);
                } catch (err) {
                    console.error(err.message);
                    dist/* default */.Ay.error(t("environments.settings.general.please_check_csv_file"));
                }
                setOpen(false);
            }
        });
    };
    const removeFile = ()=>{
        setCSVFile(undefined);
    };
    const handleDragOver = (e)=>{
        e.preventDefault();
        e.stopPropagation();
        e.dataTransfer.dropEffect = "copy";
    };
    const handleDrop = async (e)=>{
        e.preventDefault();
        e.stopPropagation();
        const files = Array.from(e.dataTransfer.files);
        const file = files[0];
        if (!file.name.endsWith(".csv")) {
            dist/* default */.Ay.error(t("common.invalid_file_type"));
            return;
        }
        onFileInputChange(files);
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "space-y-4",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(uploader/* Uploader */.d, {
                        allowedFileExtensions: [
                            "csv"
                        ],
                        handleDragOver: handleDragOver,
                        handleDrop: handleDrop,
                        handleUpload: onFileInputChange,
                        id: "bulk-invite",
                        multiple: false,
                        name: "bulk-invite",
                        disabled: csvFile !== undefined,
                        uploaderClassName: "h-20 bg-white border border-slate-200"
                    }),
                    csvFile && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        className: "flex items-center space-x-2",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                className: "text-sm font-semibold text-slate-900",
                                children: csvFile.name
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                variant: "secondary",
                                size: "sm",
                                type: "button",
                                onClick: removeFile,
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(x/* default */.A, {
                                    className: "h-4 w-4"
                                })
                            })
                        ]
                    }),
                    !canDoRoleManagement && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_alert/* Alert */.Fc, {
                        variant: "default",
                        className: "mt-1.5 flex items-start bg-slate-50",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_alert/* AlertDescription */.TN, {
                            className: "ml-2",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("p", {
                                className: "text-sm",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("strong", {
                                        children: [
                                            t("common.warning"),
                                            ": "
                                        ]
                                    }),
                                    t("environments.settings.general.bulk_invite_warning_description")
                                ]
                            })
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "flex justify-between",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                        size: "default",
                        type: "button",
                        variant: "outline",
                        onClick: ()=>{
                            setOpen(false);
                        },
                        children: t("common.cancel")
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        className: "flex space-x-2",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                                download: true,
                                href: "/sample-csv/formbricks-organization-members-template.csv",
                                target: "_blank",
                                rel: "noopener noreferrer",
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                                    variant: "secondary",
                                    size: "default",
                                    children: [
                                        t("common.download"),
                                        " CSV template"
                                    ]
                                })
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                onClick: onImport,
                                size: "default",
                                disabled: !csvFile,
                                children: t("common.import")
                            })
                        ]
                    })
                ]
            })
        ]
    });
};

// EXTERNAL MODULE: ./modules/ui/components/label/index.tsx
var label = __webpack_require__(61330);
// EXTERNAL MODULE: ./modules/ui/components/select/index.tsx
var components_select = __webpack_require__(678372);
// EXTERNAL MODULE: external "@prisma/client"
var client_ = __webpack_require__(896330);
// EXTERNAL MODULE: ../../node_modules/react-hook-form/dist/index.esm.mjs
var index_esm = __webpack_require__(200667);
;// ./modules/ee/role-management/components/add-member-role.tsx
/* __next_internal_client_entry_do_not_use__ AddMemberRole auto */ 






function AddMemberRole({ control, canDoRoleManagement, isFormbricksCloud }) {
    const roles = isFormbricksCloud ? Object.values(client_.OrganizationRole) : Object.keys(client_.OrganizationRole).filter((role)=>role !== "billing");
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const rolesDescription = {
        owner: t("environments.settings.teams.owner_role_description"),
        manager: t("environments.settings.teams.manager_role_description"),
        member: t("environments.settings.teams.member_role_description"),
        billing: t("environments.settings.teams.billing_role_description")
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(index_esm/* Controller */.xI, {
        control: control,
        name: "role",
        render: ({ field: { onChange, value } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "flex flex-col space-y-2",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                        children: t("common.role_organization")
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_select/* Select */.l6, {
                        defaultValue: "owner",
                        disabled: !canDoRoleManagement,
                        onValueChange: (v)=>{
                            onChange(v);
                        },
                        value: value,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectTrigger */.bq, {
                                className: "capitalize",
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectValue */.yv, {
                                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography.P, {
                                        children: value
                                    })
                                })
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectContent */.gC, {
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_select/* SelectGroup */.s3, {
                                    children: roles.map((role)=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_select/* SelectItem */.eb, {
                                            value: role,
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography.P, {
                                                    className: "capitalize",
                                                    children: role
                                                }),
                                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography/* Muted */.QX, {
                                                    className: "text-slate-500",
                                                    children: rolesDescription[role]
                                                })
                                            ]
                                        }, role))
                                })
                            })
                        ]
                    })
                ]
            })
    });
}

// EXTERNAL MODULE: ./modules/ui/components/form/index.tsx
var components_form = __webpack_require__(184142);
// EXTERNAL MODULE: ./modules/ui/components/input/index.tsx
var input = __webpack_require__(438624);
// EXTERNAL MODULE: ./modules/ui/components/multi-select/index.tsx + 1 modules
var multi_select = __webpack_require__(608264);
// EXTERNAL MODULE: ../../node_modules/@hookform/resolvers/zod/dist/zod.mjs + 1 modules
var zod = __webpack_require__(311159);
// EXTERNAL MODULE: ../../packages/types/memberships.ts
var memberships = __webpack_require__(880105);
;// ./modules/organization/settings/teams/components/invite-member/individual-invite-tab.tsx
/* __next_internal_client_entry_do_not_use__ IndividualInviteTab auto */ 
















const IndividualInviteTab = ({ setOpen, onSubmit, teams, canDoRoleManagement, isFormbricksCloud, environmentId })=>{
    const ZFormSchema = lib.z.object({
        name: user/* ZUserName */.pE,
        email: lib.z.string().min(1, {
            message: "Email is required"
        }).email({
            message: "Invalid email"
        }),
        role: memberships/* ZOrganizationRole */.mp,
        teamIds: lib.z.array(lib.z.string())
    });
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const form = (0,index_esm/* useForm */.mN)({
        resolver: (0,zod/* zodResolver */.u)(ZFormSchema),
        defaultValues: {
            role: "owner",
            teamIds: []
        }
    });
    const { register, getValues, handleSubmit, reset, control, watch, formState: { isSubmitting, errors } } = form;
    const submitEventClass = async ()=>{
        const data = getValues();
        data.role = data.role || client_.OrganizationRole.owner;
        onSubmit([
            data
        ]);
        setOpen(false);
        reset();
    };
    const teamOptions = teams.map((team)=>({
            label: team.name,
            value: team.id
        }));
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(index_esm/* FormProvider */.Op, {
        ...form,
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("form", {
            onSubmit: handleSubmit(submitEventClass),
            className: "flex flex-col gap-6",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    className: "flex flex-col space-y-2",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                            htmlFor: "memberNameInput",
                            children: t("common.full_name")
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                            id: "memberNameInput",
                            placeholder: "e.g. Bob",
                            ...register("name", {
                                required: true,
                                validate: (value)=>value.trim() !== ""
                            })
                        }),
                        errors.name && /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                            className: "mt-1 text-sm text-red-500",
                            children: errors.name.message
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    className: "flex flex-col space-y-2",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                            htmlFor: "memberEmailInput",
                            children: t("common.email")
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                            id: "memberEmailInput",
                            type: "email",
                            placeholder: "e.g. bob@work.com",
                            ...register("email", {
                                required: true
                            })
                        }),
                        errors.email && /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                            className: "mt-1 text-sm text-red-500",
                            children: errors.email.message
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(AddMemberRole, {
                            control: control,
                            canDoRoleManagement: canDoRoleManagement,
                            isFormbricksCloud: isFormbricksCloud
                        }),
                        watch("role") === "member" && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_alert/* Alert */.Fc, {
                            className: "mt-2",
                            variant: "info",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_alert/* AlertDescription */.TN, {
                                children: t("environments.settings.teams.member_role_info_message")
                            })
                        })
                    ]
                }),
                canDoRoleManagement && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                    control: control,
                    name: "teamIds",
                    render: ({ field })=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_form/* FormItem */.eI, {
                            className: "flex flex-col space-y-2",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_form/* FormLabel */.lR, {
                                    children: [
                                        t("common.add_to_team"),
                                        " "
                                    ]
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(multi_select/* MultiSelect */.K, {
                                            value: field.value,
                                            options: teamOptions,
                                            placeholder: t("environments.settings.teams.team_select_placeholder"),
                                            disabled: !teamOptions.length,
                                            onChange: (val)=>field.onChange(val)
                                        }),
                                        !teamOptions.length && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography/* Small */.Oc, {
                                            className: "italic",
                                            children: t("environments.settings.teams.create_first_team_message")
                                        })
                                    ]
                                })
                            ]
                        })
                }),
                !canDoRoleManagement && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_alert/* Alert */.Fc, {
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_alert/* AlertDescription */.TN, {
                        className: "flex",
                        children: [
                            t("environments.settings.teams.upgrade_plan_notice_message"),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                                className: "ml-1 underline",
                                target: "_blank",
                                href: isFormbricksCloud ? `/environments/${environmentId}/settings/billing` : "https://formbricks.com/upgrade-self-hosting-license",
                                children: t("common.start_free_trial")
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    className: "flex justify-between",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                            size: "default",
                            type: "button",
                            variant: "outline",
                            onClick: ()=>{
                                setOpen(false);
                            },
                            children: t("common.cancel")
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                            type: "submit",
                            size: "default",
                            loading: isSubmitting,
                            children: t("common.invite")
                        })
                    ]
                })
            ]
        })
    });
};

;// ./modules/organization/settings/teams/components/invite-member/invite-member-modal.tsx
/* __next_internal_client_entry_do_not_use__ InviteMemberModal auto */ 









const InviteMemberModal = ({ open, setOpen, onSubmit, teams, canDoRoleManagement, isFormbricksCloud, environmentId })=>{
    const [type, setType] = (0,react.useState)("individual");
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const tabs = {
        individual: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(IndividualInviteTab, {
            setOpen: setOpen,
            environmentId: environmentId,
            onSubmit: onSubmit,
            canDoRoleManagement: canDoRoleManagement,
            isFormbricksCloud: isFormbricksCloud,
            teams: teams
        }),
        bulk: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(BulkInviteTab, {
            setOpen: setOpen,
            onSubmit: onSubmit,
            canDoRoleManagement: canDoRoleManagement,
            isFormbricksCloud: isFormbricksCloud
        })
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(modal/* Modal */.a, {
        open: open,
        setOpen: setOpen,
        noPadding: true,
        closeOnOutsideClick: false,
        className: "overflow-visible",
        size: "md",
        hideCloseButton: true,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "sticky top-0 flex h-full flex-col rounded-lg",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("button", {
                        className: (0,cn.cn)("absolute right-0 top-0 hidden pr-4 pt-4 text-slate-400 hover:text-slate-500 focus:outline-none focus:ring-0 sm:block"),
                        onClick: ()=>{
                            setOpen(false);
                        },
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(x/* default */.A, {
                                className: "h-6 w-6 rounded-md bg-white"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                                className: "sr-only",
                                children: "Close"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "rounded-t-lg bg-slate-100",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "flex w-full items-center justify-between p-6",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                className: "flex items-center space-x-2",
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography.H4, {
                                            children: t("environments.settings.teams.invite_member")
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(typography/* Muted */.QX, {
                                            className: "text-slate-500",
                                            children: t("environments.settings.teams.invite_member_description")
                                        })
                                    ]
                                })
                            })
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "flex flex-col gap-6 p-6",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(tab_toggle/* TabToggle */.w, {
                        id: "type",
                        options: [
                            {
                                value: "individual",
                                label: t("environments.settings.teams.individual")
                            },
                            {
                                value: "bulk",
                                label: t("environments.settings.teams.bulk_invite")
                            }
                        ],
                        onChange: (inviteType)=>setType(inviteType),
                        defaultSelected: type
                    }),
                    tabs[type]
                ]
            })
        ]
    });
};

;// ./modules/ui/components/custom-dialog/index.tsx
/* __next_internal_client_entry_do_not_use__ CustomDialog auto */ 



const CustomDialog = ({ open, setOpen, title, text, isLoading, children, onOk, okBtnText, onCancel, cancelBtnText, disabled })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(modal/* Modal */.a, {
        open: open,
        setOpen: setOpen,
        title: title,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                children: text
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                children: children
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "my-4 space-x-2 text-right",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                        variant: "secondary",
                        onClick: ()=>{
                            if (onCancel) {
                                onCancel();
                            }
                            setOpen(false);
                        },
                        children: cancelBtnText || t("common.cancel")
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                        variant: "destructive",
                        onClick: onOk,
                        loading: isLoading,
                        disabled: disabled,
                        children: okBtnText || t("common.yes")
                    })
                ]
            })
        ]
    });
};

// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.js
var navigation = __webpack_require__(470207);
// EXTERNAL MODULE: ../../packages/lib/localStorage.ts
var lib_localStorage = __webpack_require__(563896);
;// ./modules/organization/settings/teams/components/edit-memberships/organization-actions.tsx
/* __next_internal_client_entry_do_not_use__ OrganizationActions auto */ 











const OrganizationActions = ({ isOwnerOrManager, role, organization, teams, isLeaveOrganizationDisabled, isInviteDisabled, canDoRoleManagement, isFormbricksCloud, environmentId, isMultiOrgEnabled })=>{
    const router = (0,navigation.useRouter)();
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [isLeaveOrganizationModalOpen, setLeaveOrganizationModalOpen] = (0,react.useState)(false);
    const [isInviteMemberModalOpen, setInviteMemberModalOpen] = (0,react.useState)(false);
    const [loading, setLoading] = (0,react.useState)(false);
    const handleLeaveOrganization = async ()=>{
        setLoading(true);
        try {
            await leaveOrganizationAction({
                organizationId: organization.id
            });
            dist/* default */.Ay.success(t("environments.settings.general.member_deleted_successfully"));
            router.refresh();
            setLoading(false);
            localStorage.removeItem(lib_localStorage/* FORMBRICKS_ENVIRONMENT_ID_LS */.x9);
            router.push("/");
        } catch (err) {
            dist/* default */.Ay.error(`Error: ${err.message}`);
            setLoading(false);
        }
    };
    const handleAddMembers = async (data)=>{
        if (data.length === 1) {
            // Individual invite
            const inviteUserActionResult = await inviteUserAction({
                organizationId: organization.id,
                email: data[0].email.toLowerCase(),
                name: data[0].name,
                role: data[0].role,
                teamIds: data[0].teamIds
            });
            if (inviteUserActionResult?.data) {
                dist/* default */.Ay.success(t("environments.settings.general.member_invited_successfully"));
            } else {
                const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(inviteUserActionResult);
                dist/* default */.Ay.error(errorMessage);
            }
        } else {
            const invitePromises = await Promise.all(data.map(async ({ name, email, role, teamIds })=>{
                const inviteUserActionResult = await inviteUserAction({
                    organizationId: organization.id,
                    email: email.toLowerCase(),
                    name,
                    role,
                    teamIds
                });
                return {
                    email,
                    success: Boolean(inviteUserActionResult?.data)
                };
            }));
            let failedInvites = [];
            let successInvites = [];
            invitePromises.forEach((invite)=>{
                if (!invite.success) {
                    failedInvites.push(invite.email);
                } else {
                    successInvites.push(invite.email);
                }
            });
            if (failedInvites.length > 0) {
                dist/* default */.Ay.error(`${failedInvites.length} ${t("environments.settings.general.invites_failed")}`);
            }
            if (successInvites.length > 0) {
                dist/* default */.Ay.success(`${successInvites.length} ${t("environments.settings.general.member_invited_successfully")}`);
            }
        }
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "mb-4 flex justify-end space-x-2 text-right",
                children: [
                    role !== "owner" && isMultiOrgEnabled && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                        variant: "secondary",
                        size: "sm",
                        onClick: ()=>setLeaveOrganizationModalOpen(true),
                        children: [
                            t("environments.settings.general.leave_organization"),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(x/* default */.A, {})
                        ]
                    }),
                    !isInviteDisabled && isOwnerOrManager && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                        size: "sm",
                        variant: "secondary",
                        onClick: ()=>{
                            setInviteMemberModalOpen(true);
                        },
                        children: t("environments.settings.teams.invite_member")
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(InviteMemberModal, {
                open: isInviteMemberModalOpen,
                setOpen: setInviteMemberModalOpen,
                onSubmit: handleAddMembers,
                canDoRoleManagement: canDoRoleManagement,
                isFormbricksCloud: isFormbricksCloud,
                environmentId: environmentId,
                teams: teams
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(CustomDialog, {
                open: isLeaveOrganizationModalOpen,
                setOpen: setLeaveOrganizationModalOpen,
                title: t("environments.settings.general.leave_organization_title"),
                text: t("environments.settings.general.leave_organization_description"),
                onOk: handleLeaveOrganization,
                okBtnText: t("environments.settings.general.leave_organization_ok_btn_text"),
                disabled: isLeaveOrganizationDisabled,
                isLoading: loading,
                children: isLeaveOrganizationDisabled && /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                    className: "mt-2 text-sm text-red-700",
                    children: t("environments.settings.general.cannot_leave_only_organization")
                })
            })
        ]
    });
};


/***/ }),

/***/ 886762:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fc: () => (/* binding */ Alert),
/* harmony export */   TN: () => (/* binding */ AlertDescription),
/* harmony export */   XL: () => (/* binding */ AlertTitle)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(607918);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(983773);




const alertVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__/* .cva */ .F)("relative w-full rounded-xl border p-3 [&>svg]:absolute [&>svg]:text-foreground [&>svg]:left-3 [&>svg]:top-3 [&>svg+div]:translate-y-[-3px] [&:has(svg)]:pl-9", {
    variants: {
        variant: {
            default: "bg-background text-foreground",
            destructive: "text-destructive border-destructive/50 dark:border-destructive [&>svg]:text-destructive text-destructive",
            info: "text-slate-800 bg-brand/5",
            warning: "text-yellow-700 bg-yellow-50",
            error: "border-error/50 dark:border-error [&>svg]:text-error text-error"
        }
    },
    defaultVariants: {
        variant: "default"
    }
});
const Alert = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ref: ref,
        role: "alert",
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)(alertVariants({
            variant
        }), className),
        ...props
    }));
Alert.displayName = "Alert";
const AlertTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("mb-1 cursor-default font-medium leading-none", className),
        ...props
    }));
AlertTitle.displayName = "AlertTitle";
const AlertDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("cursor-default text-sm [&_p]:leading-relaxed", className),
        ...props
    }));
AlertDescription.displayName = "AlertDescription";



/***/ }),

/***/ 661989:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ Badge)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(983773);


const Badge = ({ text, type, size, className })=>{
    const bgColor = {
        warning: "bg-amber-100",
        success: "bg-emerald-100",
        error: "bg-red-100",
        gray: "bg-slate-100"
    };
    const borderColor = {
        warning: "border-amber-200",
        success: "border-emerald-200",
        error: "border-red-200",
        gray: "border-slate-200"
    };
    const textColor = {
        warning: "text-amber-800",
        success: "text-emerald-800",
        error: "text-red-800",
        gray: "text-slate-600"
    };
    const padding = {
        tiny: "px-1.5 py-0.5",
        normal: "px-2.5 py-0.5",
        large: "px-3.5 py-1"
    };
    const textSize = size === "large" ? "text-sm" : "text-xs";
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("inline-flex cursor-default items-center rounded-full border font-medium", bgColor[type], borderColor[type], textColor[type], padding[size], textSize, className),
        children: text
    });
};


/***/ }),

/***/ 982234:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ DeleteDialog)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(248852);
/* harmony import */ var _modules_ui_components_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(383207);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* __next_internal_client_entry_do_not_use__ DeleteDialog auto */ 



const DeleteDialog = ({ open, setOpen, deleteWhat, onDelete, text, isDeleting, isSaving, useSaveInsteadOfCancel = false, onSave, children, disabled })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_modal__WEBPACK_IMPORTED_MODULE_2__/* .Modal */ .a, {
        open: open,
        setOpen: setOpen,
        title: `${t("common.delete")} ${deleteWhat}`,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                children: text || t("common.are_you_sure_this_action_cannot_be_undone")
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                children: children
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "mt-4 space-x-2 text-right",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        loading: isSaving,
                        variant: "secondary",
                        onClick: ()=>{
                            if (useSaveInsteadOfCancel && onSave) {
                                onSave();
                            }
                            setOpen(false);
                        },
                        children: useSaveInsteadOfCancel ? t("common.save") : t("common.cancel")
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        variant: "destructive",
                        onClick: onDelete,
                        loading: isDeleting,
                        disabled: disabled,
                        children: t("common.delete")
                    })
                ]
            })
        ]
    });
};


/***/ }),

/***/ 769816:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ Uploader)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _barrel_optimize_names_ArrowUpFromLineIcon_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(552285);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(983773);



const Uploader = ({ id, name, ref, handleDragOver, uploaderClassName, handleDrop, allowedFileExtensions, multiple, handleUpload, uploadMore = false, disabled = false })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", {
        htmlFor: `${id}-${name}`,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("relative flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 dark:border-slate-600 dark:bg-slate-700", uploaderClassName, disabled ? "cursor-not-allowed opacity-50" : "hover:bg-slate-100 dark:hover:border-slate-500 dark:hover:bg-slate-800"),
        onDragOver: (e)=>!disabled && handleDragOver(e),
        onDrop: (e)=>!disabled && handleDrop(e),
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "flex flex-col items-center justify-center pb-6 pt-5",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowUpFromLineIcon_lucide_react__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A, {
                    className: "h-6 text-slate-500"
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                    className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("mt-2 text-center text-sm text-slate-500", uploadMore && "text-xs"),
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                        className: "font-semibold",
                        children: "Click or drag to upload files."
                    })
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", {
                    type: "file",
                    id: `${id}-${name}`,
                    name: `${id}-${name}`,
                    accept: allowedFileExtensions.map((ext)=>`.${ext}`).join(","),
                    className: "hidden",
                    multiple: multiple,
                    disabled: disabled,
                    ref: ref,
                    onChange: async (e)=>{
                        let selectedFiles = Array.from(e.target?.files || []);
                        handleUpload(selectedFiles);
                    }
                })
            ]
        })
    });
};


/***/ }),

/***/ 630785:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N: () => (/* binding */ SecondaryNavigation)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36888);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(983773);



const SecondaryNavigation = ({ navigation, activeId, loading, ...props })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ...props,
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "grid h-10 w-full grid-cols-[auto,1fr]",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("nav", {
                    className: "flex h-full min-w-full items-center space-x-4",
                    "aria-label": "Tabs",
                    children: loading ? navigation.map((navElem)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: "group flex h-full flex-col",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                    "aria-disabled": "true",
                                    className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)(navElem.id === activeId ? "font-semibold text-slate-900" : "text-slate-500", "flex h-full items-center px-3 text-sm font-medium", navElem.hidden && "hidden"),
                                    "aria-current": navElem.id === activeId ? "page" : undefined,
                                    children: navElem.label
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                    className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("bottom-0 mt-auto h-[2px] w-full rounded-t-lg transition-all duration-150 ease-in-out", navElem.id === activeId ? "bg-slate-300" : "bg-transparent group-hover:bg-slate-300", navElem.hidden && "hidden")
                                })
                            ]
                        }, navElem.id)) : navigation.map((navElem)=>!navElem.hidden && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: "group flex h-full flex-col",
                            children: [
                                navElem.href ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {
                                    href: navElem.href,
                                    ...navElem.onClick ? {
                                        onClick: navElem.onClick
                                    } : {},
                                    className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)(navElem.id === activeId ? "font-semibold text-slate-900" : "text-slate-500 hover:text-slate-700", "flex h-full items-center px-3 text-sm font-medium", navElem.hidden && "hidden"),
                                    "aria-current": navElem.id === activeId ? "page" : undefined,
                                    children: navElem.label
                                }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", {
                                    ...navElem.onClick ? {
                                        onClick: navElem.onClick
                                    } : {},
                                    className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)(navElem.id === activeId ? "font-semibold text-slate-900" : "text-slate-500 hover:text-slate-700", "grow items-center px-3 text-sm font-medium transition-all duration-150 ease-in-out", navElem.hidden && "hidden"),
                                    "aria-current": navElem.id === activeId ? "page" : undefined,
                                    children: navElem.label
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                    className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("bottom-0 mt-auto h-[2px] w-full rounded-t-lg transition-all duration-150 ease-in-out", navElem.id === activeId ? "bg-brand-dark" : "bg-transparent group-hover:bg-slate-300", navElem.hidden && "hidden")
                                })
                            ]
                        }, navElem.id))
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "justify-self-end"
                })
            ]
        })
    });
};


/***/ }),

/***/ 678372:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bq: () => (/* binding */ SelectTrigger),
/* harmony export */   eb: () => (/* binding */ SelectItem),
/* harmony export */   gC: () => (/* binding */ SelectContent),
/* harmony export */   l6: () => (/* binding */ Select),
/* harmony export */   s3: () => (/* binding */ SelectGroup),
/* harmony export */   yv: () => (/* binding */ SelectValue)
/* harmony export */ });
/* unused harmony exports SelectLabel, SelectSeparator */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(750408);
/* harmony import */ var _barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(668382);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ Select,SelectContent,SelectGroup,SelectItem,SelectLabel,SelectSeparator,SelectTrigger,SelectValue auto */ 




const Select = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Root */ .bL;
const SelectGroup = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Group */ .YJ;
const SelectValue = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Value */ .WT;
const SelectTrigger = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, hideArrow, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Trigger */ .l9, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("flex h-10 w-full items-center justify-between rounded-md border border-slate-300 bg-transparent px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 data-[placeholder]:text-slate-400", className),
        ...props,
        children: [
            children,
            !hideArrow ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A, {
                className: "h-4 w-4 opacity-50"
            }) : null
        ]
    }));
SelectTrigger.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Trigger */ .l9.displayName;
const SelectContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Portal */ .ZL, {
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Content */ .UC, {
            ref: ref,
            className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("animate-in fade-in-80 relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-100 bg-white text-slate-700 shadow-md dark:bg-slate-700 dark:text-slate-300", className),
            ...props,
            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Viewport */ .LM, {
                className: "p-1",
                children: children
            })
        })
    }));
SelectContent.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Content */ .UC.displayName;
const SelectLabel = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Label */ .JU, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold text-slate-900 dark:text-slate-200", className),
        ...props
    }));
SelectLabel.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Label */ .JU.displayName;
const SelectItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Item */ .q7, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("relative flex cursor-pointer select-none items-center rounded-md py-1.5 pl-2 pr-2 text-sm font-medium outline-none focus:bg-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50", className),
        ...props,
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .ItemText */ .p4, {
            children: children
        })
    }));
SelectItem.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Item */ .q7.displayName;
const SelectSeparator = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Separator */ .wv, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("-mx-1 my-1 h-px bg-slate-100", className),
        ...props
    }));
SelectSeparator.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__/* .Separator */ .wv.displayName;



/***/ }),

/***/ 345290:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   w: () => (/* binding */ TabToggle)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(983773);



const TabToggle = ({ id, options, defaultSelected, onChange, disabled })=>{
    const [selectedOption, setSelectedOption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultSelected);
    const handleChange = (event)=>{
        const value = event.target.value;
        setSelectedOption(value);
        onChange(value);
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        role: "radiogroup",
        "aria-labelledby": `${id}-toggle-label`,
        className: "flex flex-col",
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            className: "mt-1 flex overflow-hidden rounded-md bg-slate-100 p-1",
            children: options.map((option)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", {
                    htmlFor: option.value.toString(),
                    className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("flex-1 cursor-pointer rounded-md py-2 text-center text-sm text-slate-800", selectedOption === option.value && "bg-white", "focus:ring-brand-dark focus:outline-none focus:ring-2 focus:ring-opacity-50", disabled && "cursor-not-allowed opacity-50"),
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", {
                            type: "radio",
                            name: id,
                            disabled: disabled,
                            id: option.value.toString(),
                            value: option.value.toString(),
                            checked: selectedOption === option.value,
                            onChange: handleChange,
                            className: "sr-only"
                        }),
                        option.label
                    ]
                }, option.value))
        })
    });
};


/***/ }),

/***/ 162000:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A0: () => (/* binding */ TableHeader),
/* harmony export */   BF: () => (/* binding */ TableBody),
/* harmony export */   Hj: () => (/* binding */ TableRow),
/* harmony export */   XI: () => (/* binding */ Table),
/* harmony export */   nA: () => (/* binding */ TableCell),
/* harmony export */   nd: () => (/* binding */ TableHead)
/* harmony export */ });
/* unused harmony exports TableCaption, TableFooter */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(983773);



const Table = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: "relative overflow-auto",
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("table", {
            ref: ref,
            className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("w-full caption-bottom text-sm", className),
            ...props
        })
    }));
Table.displayName = "Table";
const TableHeader = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("pointer-events-none text-slate-800 [&_tr]:border-b", className),
        ...props
    }));
TableHeader.displayName = "TableHeader";
const TableBody = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tbody", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("[&_tr:last-child]:border-0", className),
        ...props
    }));
TableBody.displayName = "TableBody";
const TableFooter = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tfoot", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("border-t [&>tr]:last:border-b-0", className),
        ...props
    }));
TableFooter.displayName = "TableFooter";
const TableRow = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tr", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("border-b bg-white transition-colors hover:bg-slate-100 data-[state=selected]:bg-slate-100", className),
        ...props
    }));
TableRow.displayName = "TableRow";
const TableHead = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("h-12 px-4 text-left align-middle [&:has([role=checkbox])]:pr-0", className),
        ...props
    }));
TableHead.displayName = "TableHead";
const TableCell = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0", className),
        ...props
    }));
TableCell.displayName = "TableCell";
const TableCaption = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("caption", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("mt-4 text-sm", className),
        ...props
    }));
TableCaption.displayName = "TableCaption";



/***/ }),

/***/ 844333:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

!function(e,t){if(true)module.exports=t(__webpack_require__(891616));else { var l, r; }}(this,(function(e){return function(e){var t={};function r(l){if(t[l])return t[l].exports;var i=t[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(l,i,function(t){return e[t]}.bind(null,i));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){e.exports=r(2)},function(e,t,r){"use strict";function l(e,t){if(null==e)return{};var r,l,i=function(e,t){if(null==e)return{};var r,l,i={},a=Object.keys(e);for(l=0;l<a.length;l++)r=a[l],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)r=a[l],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.r(t);var i=r(0),a=r.n(i),n=function(e){for(var t=0,r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return Math.abs(t)},c=function(e,t){return Math.floor(e/Math.pow(10,t)%10)},h=function(e,t){return!(c(e,t)%2)},o=function(e,t,r){var l=e%t;return r&&c(e,r)%2===0?-l:l},s=function(e,t,r){return t[e%r]};var f=function(e){var t=e.name,r=e.colors,a=e.title,c=e.square,h=e.size,f=l(e,["name","colors","title","square","size"]),m=function(e,t){var r=n(e),l=t&&t.length;return Array.from({length:3},(function(e,i){return{color:s(r+i,t,l),translateX:o(r*(i+1),8,1),translateY:o(r*(i+1),8,2),scale:1.2+o(r*(i+1),4)/10,rotate:o(r*(i+1),360,1)}}))}(t,r),d=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:h,height:h},f),a&&i.createElement("title",null,t),i.createElement("mask",{id:d,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:c?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(d,")")},i.createElement("rect",{width:80,height:80,fill:m[0].color}),i.createElement("path",{filter:"url(#filter_".concat(d,")"),d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:m[1].color,transform:"translate("+m[1].translateX+" "+m[1].translateY+") rotate("+m[1].rotate+" 40 40) scale("+m[2].scale+")"}),i.createElement("path",{filter:"url(#filter_".concat(d,")"),style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:m[2].color,transform:"translate("+m[2].translateX+" "+m[2].translateY+") rotate("+m[2].rotate+" 40 40) scale("+m[2].scale+")"})),i.createElement("defs",null,i.createElement("filter",{id:"filter_".concat(d),filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i.createElement("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"}))))},m={pixel:function(e){var t=e.name,r=e.colors,a=e.title,c=e.square,h=e.size,o=l(e,["name","colors","title","square","size"]),f=function(e,t){var r=n(e),l=t&&t.length;return Array.from({length:64},(function(e,i){return s(r%(i+1),t,l)}))}(t,r),m=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:h,height:h},o),a&&i.createElement("title",null,t),i.createElement("mask",{id:m,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:c?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(m,")")},i.createElement("rect",{width:10,height:10,fill:f[0]}),i.createElement("rect",{x:20,width:10,height:10,fill:f[1]}),i.createElement("rect",{x:40,width:10,height:10,fill:f[2]}),i.createElement("rect",{x:60,width:10,height:10,fill:f[3]}),i.createElement("rect",{x:10,width:10,height:10,fill:f[4]}),i.createElement("rect",{x:30,width:10,height:10,fill:f[5]}),i.createElement("rect",{x:50,width:10,height:10,fill:f[6]}),i.createElement("rect",{x:70,width:10,height:10,fill:f[7]}),i.createElement("rect",{y:10,width:10,height:10,fill:f[8]}),i.createElement("rect",{y:20,width:10,height:10,fill:f[9]}),i.createElement("rect",{y:30,width:10,height:10,fill:f[10]}),i.createElement("rect",{y:40,width:10,height:10,fill:f[11]}),i.createElement("rect",{y:50,width:10,height:10,fill:f[12]}),i.createElement("rect",{y:60,width:10,height:10,fill:f[13]}),i.createElement("rect",{y:70,width:10,height:10,fill:f[14]}),i.createElement("rect",{x:20,y:10,width:10,height:10,fill:f[15]}),i.createElement("rect",{x:20,y:20,width:10,height:10,fill:f[16]}),i.createElement("rect",{x:20,y:30,width:10,height:10,fill:f[17]}),i.createElement("rect",{x:20,y:40,width:10,height:10,fill:f[18]}),i.createElement("rect",{x:20,y:50,width:10,height:10,fill:f[19]}),i.createElement("rect",{x:20,y:60,width:10,height:10,fill:f[20]}),i.createElement("rect",{x:20,y:70,width:10,height:10,fill:f[21]}),i.createElement("rect",{x:40,y:10,width:10,height:10,fill:f[22]}),i.createElement("rect",{x:40,y:20,width:10,height:10,fill:f[23]}),i.createElement("rect",{x:40,y:30,width:10,height:10,fill:f[24]}),i.createElement("rect",{x:40,y:40,width:10,height:10,fill:f[25]}),i.createElement("rect",{x:40,y:50,width:10,height:10,fill:f[26]}),i.createElement("rect",{x:40,y:60,width:10,height:10,fill:f[27]}),i.createElement("rect",{x:40,y:70,width:10,height:10,fill:f[28]}),i.createElement("rect",{x:60,y:10,width:10,height:10,fill:f[29]}),i.createElement("rect",{x:60,y:20,width:10,height:10,fill:f[30]}),i.createElement("rect",{x:60,y:30,width:10,height:10,fill:f[31]}),i.createElement("rect",{x:60,y:40,width:10,height:10,fill:f[32]}),i.createElement("rect",{x:60,y:50,width:10,height:10,fill:f[33]}),i.createElement("rect",{x:60,y:60,width:10,height:10,fill:f[34]}),i.createElement("rect",{x:60,y:70,width:10,height:10,fill:f[35]}),i.createElement("rect",{x:10,y:10,width:10,height:10,fill:f[36]}),i.createElement("rect",{x:10,y:20,width:10,height:10,fill:f[37]}),i.createElement("rect",{x:10,y:30,width:10,height:10,fill:f[38]}),i.createElement("rect",{x:10,y:40,width:10,height:10,fill:f[39]}),i.createElement("rect",{x:10,y:50,width:10,height:10,fill:f[40]}),i.createElement("rect",{x:10,y:60,width:10,height:10,fill:f[41]}),i.createElement("rect",{x:10,y:70,width:10,height:10,fill:f[42]}),i.createElement("rect",{x:30,y:10,width:10,height:10,fill:f[43]}),i.createElement("rect",{x:30,y:20,width:10,height:10,fill:f[44]}),i.createElement("rect",{x:30,y:30,width:10,height:10,fill:f[45]}),i.createElement("rect",{x:30,y:40,width:10,height:10,fill:f[46]}),i.createElement("rect",{x:30,y:50,width:10,height:10,fill:f[47]}),i.createElement("rect",{x:30,y:60,width:10,height:10,fill:f[48]}),i.createElement("rect",{x:30,y:70,width:10,height:10,fill:f[49]}),i.createElement("rect",{x:50,y:10,width:10,height:10,fill:f[50]}),i.createElement("rect",{x:50,y:20,width:10,height:10,fill:f[51]}),i.createElement("rect",{x:50,y:30,width:10,height:10,fill:f[52]}),i.createElement("rect",{x:50,y:40,width:10,height:10,fill:f[53]}),i.createElement("rect",{x:50,y:50,width:10,height:10,fill:f[54]}),i.createElement("rect",{x:50,y:60,width:10,height:10,fill:f[55]}),i.createElement("rect",{x:50,y:70,width:10,height:10,fill:f[56]}),i.createElement("rect",{x:70,y:10,width:10,height:10,fill:f[57]}),i.createElement("rect",{x:70,y:20,width:10,height:10,fill:f[58]}),i.createElement("rect",{x:70,y:30,width:10,height:10,fill:f[59]}),i.createElement("rect",{x:70,y:40,width:10,height:10,fill:f[60]}),i.createElement("rect",{x:70,y:50,width:10,height:10,fill:f[61]}),i.createElement("rect",{x:70,y:60,width:10,height:10,fill:f[62]}),i.createElement("rect",{x:70,y:70,width:10,height:10,fill:f[63]})))},bauhaus:function(e){var t=e.name,r=e.colors,a=e.title,c=e.square,f=e.size,m=l(e,["name","colors","title","square","size"]),d=function(e,t){var r=n(e),l=t&&t.length;return Array.from({length:4},(function(e,i){return{color:s(r+i,t,l),translateX:o(r*(i+1),40-(i+17),1),translateY:o(r*(i+1),40-(i+17),2),rotate:o(r*(i+1),360),isSquare:h(r,2)}}))}(t,r),u=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:f,height:f},m),a&&i.createElement("title",null,t),i.createElement("mask",{id:u,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:c?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(u,")")},i.createElement("rect",{width:80,height:80,fill:d[0].color}),i.createElement("rect",{x:10,y:30,width:80,height:d[1].isSquare?80:10,fill:d[1].color,transform:"translate("+d[1].translateX+" "+d[1].translateY+") rotate("+d[1].rotate+" 40 40)"}),i.createElement("circle",{cx:40,cy:40,fill:d[2].color,r:16,transform:"translate("+d[2].translateX+" "+d[2].translateY+")"}),i.createElement("line",{x1:0,y1:40,x2:80,y2:40,strokeWidth:2,stroke:d[3].color,transform:"translate("+d[3].translateX+" "+d[3].translateY+") rotate("+d[3].rotate+" 40 40)"})))},ring:function(e){var t=e.name,r=e.colors,i=e.title,c=e.square,h=e.size,o=l(e,["name","colors","title","square","size"]),f=function(e,t){var r=n(t),l=e&&e.length,i=Array.from({length:5},(function(t,i){return s(r+i,e,l)})),a=[];return a[0]=i[0],a[1]=i[1],a[2]=i[1],a[3]=i[2],a[4]=i[2],a[5]=i[3],a[6]=i[3],a[7]=i[0],a[8]=i[4],a}(r,t),m=a.a.useId();return a.a.createElement("svg",Object.assign({viewBox:"0 0 90 90",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:h,height:h},o),i&&a.a.createElement("title",null,t),a.a.createElement("mask",{id:m,maskUnits:"userSpaceOnUse",x:0,y:0,width:90,height:90},a.a.createElement("rect",{width:90,height:90,rx:c?void 0:180,fill:"#FFFFFF"})),a.a.createElement("g",{mask:"url(#".concat(m,")")},a.a.createElement("path",{d:"M0 0h90v45H0z",fill:f[0]}),a.a.createElement("path",{d:"M0 45h90v45H0z",fill:f[1]}),a.a.createElement("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:f[2]}),a.a.createElement("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:f[3]}),a.a.createElement("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:f[4]}),a.a.createElement("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:f[5]}),a.a.createElement("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:f[6]}),a.a.createElement("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:f[7]}),a.a.createElement("circle",{cx:45,cy:45,r:23,fill:f[8]})))},beam:function(e){var t=e.name,r=e.colors,a=e.title,c=e.square,f=e.size,m=l(e,["name","colors","title","square","size"]),d=function(e,t){var r,l=n(e),i=t&&t.length,a=s(l,t,i),c=o(l,10,1),f=c<5?c+4:c,m=o(l,10,2),d=m<5?m+4:m;return{wrapperColor:a,faceColor:(r=a,"#"===r.slice(0,1)&&(r=r.slice(1)),(299*parseInt(r.substr(0,2),16)+587*parseInt(r.substr(2,2),16)+114*parseInt(r.substr(4,2),16))/1e3>=128?"#000000":"#FFFFFF"),backgroundColor:s(l+13,t,i),wrapperTranslateX:f,wrapperTranslateY:d,wrapperRotate:o(l,360),wrapperScale:1+o(l,3)/10,isMouthOpen:h(l,2),isCircle:h(l,1),eyeSpread:o(l,5),mouthSpread:o(l,3),faceRotate:o(l,10,3),faceTranslateX:f>6?f/2:o(l,8,1),faceTranslateY:d>6?d/2:o(l,7,2)}}(t,r),u=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 36 36",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:f,height:f},m),a&&i.createElement("title",null,t),i.createElement("mask",{id:u,maskUnits:"userSpaceOnUse",x:0,y:0,width:36,height:36},i.createElement("rect",{width:36,height:36,rx:c?void 0:72,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(u,")")},i.createElement("rect",{width:36,height:36,fill:d.backgroundColor}),i.createElement("rect",{x:"0",y:"0",width:36,height:36,transform:"translate("+d.wrapperTranslateX+" "+d.wrapperTranslateY+") rotate("+d.wrapperRotate+" 18 18) scale("+d.wrapperScale+")",fill:d.wrapperColor,rx:d.isCircle?36:6}),i.createElement("g",{transform:"translate("+d.faceTranslateX+" "+d.faceTranslateY+") rotate("+d.faceRotate+" 18 18)"},d.isMouthOpen?i.createElement("path",{d:"M15 "+(19+d.mouthSpread)+"c2 1 4 1 6 0",stroke:d.faceColor,fill:"none",strokeLinecap:"round"}):i.createElement("path",{d:"M13,"+(19+d.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:d.faceColor}),i.createElement("rect",{x:14-d.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:d.faceColor}),i.createElement("rect",{x:20+d.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:d.faceColor}))))},sunset:function(e){var t=e.name,r=e.colors,a=e.title,c=e.square,h=e.size,o=l(e,["name","colors","title","square","size"]),f=function(e,t){var r=n(e),l=t&&t.length;return Array.from({length:4},(function(e,i){return s(r+i,t,l)}))}(t,r),m=t.replace(/\s/g,""),d=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:h,height:h},o),a&&i.createElement("title",null,t),i.createElement("mask",{id:d,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:c?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(d,")")},i.createElement("path",{fill:"url(#gradient_paint0_linear_"+m+")",d:"M0 0h80v40H0z"}),i.createElement("path",{fill:"url(#gradient_paint1_linear_"+m+")",d:"M0 40h80v40H0z"})),i.createElement("defs",null,i.createElement("linearGradient",{id:"gradient_paint0_linear_"+m,x1:40,y1:0,x2:40,y2:40,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:f[0]}),i.createElement("stop",{offset:1,stopColor:f[1]})),i.createElement("linearGradient",{id:"gradient_paint1_linear_"+m,x1:40,y1:40,x2:40,y2:80,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:f[2]}),i.createElement("stop",{offset:1,stopColor:f[3]}))))},marble:f},d={geometric:"beam",abstract:"bauhaus"},u=function(e){var t=e.variant,r=void 0===t?"marble":t,i=e.colors,n=void 0===i?["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]:i,c=e.name,h=void 0===c?"Clara Barton":c,o=e.title,s=void 0!==o&&o,u=e.size,g=e.square,w=void 0!==g&&g,E=l(e,["variant","colors","name","title","size","square"]),p=m[d[r]||r]||f;return a.a.createElement(p,Object.assign({colors:n,name:h,title:s,size:u,square:w},E))};t.default=u}])}));

/***/ }),

/***/ 552285:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ ArrowUpFromLine)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const ArrowUpFromLine = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("ArrowUpFromLine", [
    [
        "path",
        {
            d: "m18 9-6-6-6 6",
            key: "kcunyi"
        }
    ],
    [
        "path",
        {
            d: "M12 3v14",
            key: "7cf3v8"
        }
    ],
    [
        "path",
        {
            d: "M5 21h14",
            key: "11awu3"
        }
    ]
]);
 //# sourceMappingURL=arrow-up-from-line.js.map


/***/ }),

/***/ 537925:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Blend)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Blend = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Blend", [
    [
        "circle",
        {
            cx: "9",
            cy: "9",
            r: "7",
            key: "p2h5vp"
        }
    ],
    [
        "circle",
        {
            cx: "15",
            cy: "15",
            r: "7",
            key: "19ennj"
        }
    ]
]);
 //# sourceMappingURL=blend.js.map


/***/ }),

/***/ 427434:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Blocks)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Blocks = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Blocks", [
    [
        "rect",
        {
            width: "7",
            height: "7",
            x: "14",
            y: "3",
            rx: "1",
            key: "6d4xhi"
        }
    ],
    [
        "path",
        {
            d: "M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",
            key: "1fpvtg"
        }
    ]
]);
 //# sourceMappingURL=blocks.js.map


/***/ }),

/***/ 401633:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ CirclePlus)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const CirclePlus = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("CirclePlus", [
    [
        "circle",
        {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }
    ],
    [
        "path",
        {
            d: "M8 12h8",
            key: "1wcyev"
        }
    ],
    [
        "path",
        {
            d: "M12 8v8",
            key: "napkw2"
        }
    ]
]);
 //# sourceMappingURL=circle-plus.js.map


/***/ }),

/***/ 990082:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ CircleUser)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const CircleUser = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("CircleUser", [
    [
        "circle",
        {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }
    ],
    [
        "circle",
        {
            cx: "12",
            cy: "10",
            r: "3",
            key: "ilqhr7"
        }
    ],
    [
        "path",
        {
            d: "M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",
            key: "154egf"
        }
    ]
]);
 //# sourceMappingURL=circle-user.js.map


/***/ }),

/***/ 638817:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Cog)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Cog = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Cog", [
    [
        "path",
        {
            d: "M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",
            key: "sobvz5"
        }
    ],
    [
        "path",
        {
            d: "M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",
            key: "11i496"
        }
    ],
    [
        "path",
        {
            d: "M12 2v2",
            key: "tus03m"
        }
    ],
    [
        "path",
        {
            d: "M12 22v-2",
            key: "1osdcq"
        }
    ],
    [
        "path",
        {
            d: "m17 20.66-1-1.73",
            key: "eq3orb"
        }
    ],
    [
        "path",
        {
            d: "M11 10.27 7 3.34",
            key: "16pf9h"
        }
    ],
    [
        "path",
        {
            d: "m20.66 17-1.73-1",
            key: "sg0v6f"
        }
    ],
    [
        "path",
        {
            d: "m3.34 7 1.73 1",
            key: "1ulond"
        }
    ],
    [
        "path",
        {
            d: "M14 12h8",
            key: "4f43i9"
        }
    ],
    [
        "path",
        {
            d: "M2 12h2",
            key: "1t8f8n"
        }
    ],
    [
        "path",
        {
            d: "m20.66 7-1.73 1",
            key: "1ow05n"
        }
    ],
    [
        "path",
        {
            d: "m3.34 17 1.73-1",
            key: "nuk764"
        }
    ],
    [
        "path",
        {
            d: "m17 3.34-1 1.73",
            key: "2wel8s"
        }
    ],
    [
        "path",
        {
            d: "m11 13.73-4 6.93",
            key: "794ttg"
        }
    ]
]);
 //# sourceMappingURL=cog.js.map


/***/ }),

/***/ 875677:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Copy)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Copy = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Copy", [
    [
        "rect",
        {
            width: "14",
            height: "14",
            x: "8",
            y: "8",
            rx: "2",
            ry: "2",
            key: "17jyea"
        }
    ],
    [
        "path",
        {
            d: "M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",
            key: "zix9uf"
        }
    ]
]);
 //# sourceMappingURL=copy.js.map


/***/ }),

/***/ 695164:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ CreditCard)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const CreditCard = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("CreditCard", [
    [
        "rect",
        {
            width: "20",
            height: "14",
            x: "2",
            y: "5",
            rx: "2",
            key: "ynyp8z"
        }
    ],
    [
        "line",
        {
            x1: "2",
            x2: "22",
            y1: "10",
            y2: "10",
            key: "1b3vmo"
        }
    ]
]);
 //# sourceMappingURL=credit-card.js.map


/***/ }),

/***/ 453779:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ GlobeLock)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const GlobeLock = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("GlobeLock", [
    [
        "path",
        {
            d: "M15.686 15A14.5 14.5 0 0 1 12 22a14.5 14.5 0 0 1 0-20 10 10 0 1 0 9.542 13",
            key: "qkt0x6"
        }
    ],
    [
        "path",
        {
            d: "M2 12h8.5",
            key: "ovaggd"
        }
    ],
    [
        "path",
        {
            d: "M20 6V4a2 2 0 1 0-4 0v2",
            key: "1of5e8"
        }
    ],
    [
        "rect",
        {
            width: "8",
            height: "5",
            x: "14",
            y: "6",
            rx: "1",
            key: "1fmf51"
        }
    ]
]);
 //# sourceMappingURL=globe-lock.js.map


/***/ }),

/***/ 415140:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Link)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Link = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Link", [
    [
        "path",
        {
            d: "M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",
            key: "1cjeqo"
        }
    ],
    [
        "path",
        {
            d: "M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",
            key: "19qd67"
        }
    ]
]);
 //# sourceMappingURL=link.js.map


/***/ }),

/***/ 65433:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ LogOut)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const LogOut = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("LogOut", [
    [
        "path",
        {
            d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",
            key: "1uf3rs"
        }
    ],
    [
        "polyline",
        {
            points: "16 17 21 12 16 7",
            key: "1gabdz"
        }
    ],
    [
        "line",
        {
            x1: "21",
            x2: "9",
            y1: "12",
            y2: "12",
            key: "1uyos4"
        }
    ]
]);
 //# sourceMappingURL=log-out.js.map


/***/ }),

/***/ 117059:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ MessageCircleQuestion)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const MessageCircleQuestion = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("MessageCircleQuestion", [
    [
        "path",
        {
            d: "M7.9 20A9 9 0 1 0 4 16.1L2 22Z",
            key: "vv11sd"
        }
    ],
    [
        "path",
        {
            d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",
            key: "1u773s"
        }
    ],
    [
        "path",
        {
            d: "M12 17h.01",
            key: "p32p05"
        }
    ]
]);
 //# sourceMappingURL=message-circle-question.js.map


/***/ }),

/***/ 76446:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ MessageCircle)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const MessageCircle = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("MessageCircle", [
    [
        "path",
        {
            d: "M7.9 20A9 9 0 1 0 4 16.1L2 22Z",
            key: "vv11sd"
        }
    ]
]);
 //# sourceMappingURL=message-circle.js.map


/***/ }),

/***/ 593517:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ PanelLeftClose)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const PanelLeftClose = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("PanelLeftClose", [
    [
        "rect",
        {
            width: "18",
            height: "18",
            x: "3",
            y: "3",
            rx: "2",
            key: "afitv7"
        }
    ],
    [
        "path",
        {
            d: "M9 3v18",
            key: "fh3hqa"
        }
    ],
    [
        "path",
        {
            d: "m16 15-3-3 3-3",
            key: "14y99z"
        }
    ]
]);
 //# sourceMappingURL=panel-left-close.js.map


/***/ }),

/***/ 168185:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ PanelLeftOpen)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const PanelLeftOpen = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("PanelLeftOpen", [
    [
        "rect",
        {
            width: "18",
            height: "18",
            x: "3",
            y: "3",
            rx: "2",
            key: "afitv7"
        }
    ],
    [
        "path",
        {
            d: "M9 3v18",
            key: "fh3hqa"
        }
    ],
    [
        "path",
        {
            d: "m14 9 3 3-3 3",
            key: "8010ee"
        }
    ]
]);
 //# sourceMappingURL=panel-left-open.js.map


/***/ }),

/***/ 133328:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Rocket)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Rocket = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Rocket", [
    [
        "path",
        {
            d: "M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",
            key: "m3kijz"
        }
    ],
    [
        "path",
        {
            d: "m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",
            key: "1fmvmk"
        }
    ],
    [
        "path",
        {
            d: "M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",
            key: "1f8sc4"
        }
    ],
    [
        "path",
        {
            d: "M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",
            key: "qeys4"
        }
    ]
]);
 //# sourceMappingURL=rocket.js.map


/***/ }),

/***/ 800087:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Trash2)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Trash2 = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Trash2", [
    [
        "path",
        {
            d: "M3 6h18",
            key: "d0wm0j"
        }
    ],
    [
        "path",
        {
            d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",
            key: "4alrt4"
        }
    ],
    [
        "path",
        {
            d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",
            key: "v07s0e"
        }
    ],
    [
        "line",
        {
            x1: "10",
            x2: "10",
            y1: "11",
            y2: "17",
            key: "1uufr5"
        }
    ],
    [
        "line",
        {
            x1: "14",
            x2: "14",
            y1: "11",
            y2: "17",
            key: "xtxkd"
        }
    ]
]);
 //# sourceMappingURL=trash-2.js.map


/***/ }),

/***/ 721964:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Trash)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Trash = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Trash", [
    [
        "path",
        {
            d: "M3 6h18",
            key: "d0wm0j"
        }
    ],
    [
        "path",
        {
            d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",
            key: "4alrt4"
        }
    ],
    [
        "path",
        {
            d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",
            key: "v07s0e"
        }
    ]
]);
 //# sourceMappingURL=trash.js.map


/***/ }),

/***/ 766008:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/

(function(root, factory)
{
	/* globals define */
	if (true)
	{
		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	}
	else {}
	// in strict mode we cannot access arguments.callee, so we need a named reference to
	// stringify the factory method for the blob worker
	// eslint-disable-next-line func-name
}(this, function moduleFactory()
{
	'use strict';

	var global = (function() {
		// alternative method, similar to `Function('return this')()`
		// but without using `eval` (which is disabled when
		// using Content Security Policy).

		if (typeof self !== 'undefined') { return self; }
		if (typeof window !== 'undefined') { return window; }
		if (typeof global !== 'undefined') { return global; }

		// When running tests none of the above have been defined
		return {};
	})();


	function getWorkerBlob() {
		var URL = global.URL || global.webkitURL || null;
		var code = moduleFactory.toString();
		return Papa.BLOB_URL || (Papa.BLOB_URL = URL.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ", '(', code, ')();'], {type: 'text/javascript'})));
	}

	var IS_WORKER = !global.document && !!global.postMessage,
		IS_PAPA_WORKER = global.IS_PAPA_WORKER || false;

	var workers = {}, workerIdCounter = 0;

	var Papa = {};

	Papa.parse = CsvToJson;
	Papa.unparse = JsonToCsv;

	Papa.RECORD_SEP = String.fromCharCode(30);
	Papa.UNIT_SEP = String.fromCharCode(31);
	Papa.BYTE_ORDER_MARK = '\ufeff';
	Papa.BAD_DELIMITERS = ['\r', '\n', '"', Papa.BYTE_ORDER_MARK];
	Papa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;
	Papa.NODE_STREAM_INPUT = 1;

	// Configurable chunk sizes for local and remote files, respectively
	Papa.LocalChunkSize = 1024 * 1024 * 10;	// 10 MB
	Papa.RemoteChunkSize = 1024 * 1024 * 5;	// 5 MB
	Papa.DefaultDelimiter = ',';			// Used if not specified and detection fails

	// Exposed for testing and development only
	Papa.Parser = Parser;
	Papa.ParserHandle = ParserHandle;
	Papa.NetworkStreamer = NetworkStreamer;
	Papa.FileStreamer = FileStreamer;
	Papa.StringStreamer = StringStreamer;
	Papa.ReadableStreamStreamer = ReadableStreamStreamer;
	if (typeof PAPA_BROWSER_CONTEXT === 'undefined') {
		Papa.DuplexStreamStreamer = DuplexStreamStreamer;
	}

	if (global.jQuery)
	{
		var $ = global.jQuery;
		$.fn.parse = function(options)
		{
			var config = options.config || {};
			var queue = [];

			this.each(function(idx)
			{
				var supported = $(this).prop('tagName').toUpperCase() === 'INPUT'
								&& $(this).attr('type').toLowerCase() === 'file'
								&& global.FileReader;

				if (!supported || !this.files || this.files.length === 0)
					return true;	// continue to next input element

				for (var i = 0; i < this.files.length; i++)
				{
					queue.push({
						file: this.files[i],
						inputElem: this,
						instanceConfig: $.extend({}, config)
					});
				}
			});

			parseNextFile();	// begin parsing
			return this;		// maintains chainability


			function parseNextFile()
			{
				if (queue.length === 0)
				{
					if (isFunction(options.complete))
						options.complete();
					return;
				}

				var f = queue[0];

				if (isFunction(options.before))
				{
					var returned = options.before(f.file, f.inputElem);

					if (typeof returned === 'object')
					{
						if (returned.action === 'abort')
						{
							error('AbortError', f.file, f.inputElem, returned.reason);
							return;	// Aborts all queued files immediately
						}
						else if (returned.action === 'skip')
						{
							fileComplete();	// parse the next file in the queue, if any
							return;
						}
						else if (typeof returned.config === 'object')
							f.instanceConfig = $.extend(f.instanceConfig, returned.config);
					}
					else if (returned === 'skip')
					{
						fileComplete();	// parse the next file in the queue, if any
						return;
					}
				}

				// Wrap up the user's complete callback, if any, so that ours also gets executed
				var userCompleteFunc = f.instanceConfig.complete;
				f.instanceConfig.complete = function(results)
				{
					if (isFunction(userCompleteFunc))
						userCompleteFunc(results, f.file, f.inputElem);
					fileComplete();
				};

				Papa.parse(f.file, f.instanceConfig);
			}

			function error(name, file, elem, reason)
			{
				if (isFunction(options.error))
					options.error({name: name}, file, elem, reason);
			}

			function fileComplete()
			{
				queue.splice(0, 1);
				parseNextFile();
			}
		};
	}


	if (IS_PAPA_WORKER)
	{
		global.onmessage = workerThreadReceivedMessage;
	}




	function CsvToJson(_input, _config)
	{
		_config = _config || {};
		var dynamicTyping = _config.dynamicTyping || false;
		if (isFunction(dynamicTyping)) {
			_config.dynamicTypingFunction = dynamicTyping;
			// Will be filled on first row call
			dynamicTyping = {};
		}
		_config.dynamicTyping = dynamicTyping;

		_config.transform = isFunction(_config.transform) ? _config.transform : false;

		if (_config.worker && Papa.WORKERS_SUPPORTED)
		{
			var w = newWorker();

			w.userStep = _config.step;
			w.userChunk = _config.chunk;
			w.userComplete = _config.complete;
			w.userError = _config.error;

			_config.step = isFunction(_config.step);
			_config.chunk = isFunction(_config.chunk);
			_config.complete = isFunction(_config.complete);
			_config.error = isFunction(_config.error);
			delete _config.worker;	// prevent infinite loop

			w.postMessage({
				input: _input,
				config: _config,
				workerId: w.id
			});

			return;
		}

		var streamer = null;
		if (_input === Papa.NODE_STREAM_INPUT && typeof PAPA_BROWSER_CONTEXT === 'undefined')
		{
			// create a node Duplex stream for use
			// with .pipe
			streamer = new DuplexStreamStreamer(_config);
			return streamer.getStream();
		}
		else if (typeof _input === 'string')
		{
			_input = stripBom(_input);
			if (_config.download)
				streamer = new NetworkStreamer(_config);
			else
				streamer = new StringStreamer(_config);
		}
		else if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))
		{
			streamer = new ReadableStreamStreamer(_config);
		}
		else if ((global.File && _input instanceof File) || _input instanceof Object)	// ...Safari. (see issue #106)
			streamer = new FileStreamer(_config);

		return streamer.stream(_input);

		// Strip character from UTF-8 BOM encoded files that cause issue parsing the file
		function stripBom(string) {
			if (string.charCodeAt(0) === 0xfeff) {
				return string.slice(1);
			}
			return string;
		}
	}






	function JsonToCsv(_input, _config)
	{
		// Default configuration

		/** whether to surround every datum with quotes */
		var _quotes = false;

		/** whether to write headers */
		var _writeHeader = true;

		/** delimiting character(s) */
		var _delimiter = ',';

		/** newline character(s) */
		var _newline = '\r\n';

		/** quote character */
		var _quoteChar = '"';

		/** escaped quote character, either "" or <config.escapeChar>" */
		var _escapedQuote = _quoteChar + _quoteChar;

		/** whether to skip empty lines */
		var _skipEmptyLines = false;

		/** the columns (keys) we expect when we unparse objects */
		var _columns = null;

		/** whether to prevent outputting cells that can be parsed as formulae by spreadsheet software (Excel and LibreOffice) */
		var _escapeFormulae = false;

		unpackConfig();

		var quoteCharRegex = new RegExp(escapeRegExp(_quoteChar), 'g');

		if (typeof _input === 'string')
			_input = JSON.parse(_input);

		if (Array.isArray(_input))
		{
			if (!_input.length || Array.isArray(_input[0]))
				return serialize(null, _input, _skipEmptyLines);
			else if (typeof _input[0] === 'object')
				return serialize(_columns || Object.keys(_input[0]), _input, _skipEmptyLines);
		}
		else if (typeof _input === 'object')
		{
			if (typeof _input.data === 'string')
				_input.data = JSON.parse(_input.data);

			if (Array.isArray(_input.data))
			{
				if (!_input.fields)
					_input.fields = _input.meta && _input.meta.fields || _columns;

				if (!_input.fields)
					_input.fields =  Array.isArray(_input.data[0])
						? _input.fields
						: typeof _input.data[0] === 'object'
							? Object.keys(_input.data[0])
							: [];

				if (!(Array.isArray(_input.data[0])) && typeof _input.data[0] !== 'object')
					_input.data = [_input.data];	// handles input like [1,2,3] or ['asdf']
			}

			return serialize(_input.fields || [], _input.data || [], _skipEmptyLines);
		}

		// Default (any valid paths should return before this)
		throw new Error('Unable to serialize unrecognized input');


		function unpackConfig()
		{
			if (typeof _config !== 'object')
				return;

			if (typeof _config.delimiter === 'string'
                && !Papa.BAD_DELIMITERS.filter(function(value) { return _config.delimiter.indexOf(value) !== -1; }).length)
			{
				_delimiter = _config.delimiter;
			}

			if (typeof _config.quotes === 'boolean'
				|| typeof _config.quotes === 'function'
				|| Array.isArray(_config.quotes))
				_quotes = _config.quotes;

			if (typeof _config.skipEmptyLines === 'boolean'
				|| typeof _config.skipEmptyLines === 'string')
				_skipEmptyLines = _config.skipEmptyLines;

			if (typeof _config.newline === 'string')
				_newline = _config.newline;

			if (typeof _config.quoteChar === 'string')
				_quoteChar = _config.quoteChar;

			if (typeof _config.header === 'boolean')
				_writeHeader = _config.header;

			if (Array.isArray(_config.columns)) {

				if (_config.columns.length === 0) throw new Error('Option columns is empty');

				_columns = _config.columns;
			}

			if (_config.escapeChar !== undefined) {
				_escapedQuote = _config.escapeChar + _quoteChar;
			}

			if (typeof _config.escapeFormulae === 'boolean' || _config.escapeFormulae instanceof RegExp) {
				_escapeFormulae = _config.escapeFormulae instanceof RegExp ? _config.escapeFormulae : /^[=+\-@\t\r].*$/;
			}
		}

		/** The double for loop that iterates the data and writes out a CSV string including header row */
		function serialize(fields, data, skipEmptyLines)
		{
			var csv = '';

			if (typeof fields === 'string')
				fields = JSON.parse(fields);
			if (typeof data === 'string')
				data = JSON.parse(data);

			var hasHeader = Array.isArray(fields) && fields.length > 0;
			var dataKeyedByField = !(Array.isArray(data[0]));

			// If there a header row, write it first
			if (hasHeader && _writeHeader)
			{
				for (var i = 0; i < fields.length; i++)
				{
					if (i > 0)
						csv += _delimiter;
					csv += safe(fields[i], i);
				}
				if (data.length > 0)
					csv += _newline;
			}

			// Then write out the data
			for (var row = 0; row < data.length; row++)
			{
				var maxCol = hasHeader ? fields.length : data[row].length;

				var emptyLine = false;
				var nullLine = hasHeader ? Object.keys(data[row]).length === 0 : data[row].length === 0;
				if (skipEmptyLines && !hasHeader)
				{
					emptyLine = skipEmptyLines === 'greedy' ? data[row].join('').trim() === '' : data[row].length === 1 && data[row][0].length === 0;
				}
				if (skipEmptyLines === 'greedy' && hasHeader) {
					var line = [];
					for (var c = 0; c < maxCol; c++) {
						var cx = dataKeyedByField ? fields[c] : c;
						line.push(data[row][cx]);
					}
					emptyLine = line.join('').trim() === '';
				}
				if (!emptyLine)
				{
					for (var col = 0; col < maxCol; col++)
					{
						if (col > 0 && !nullLine)
							csv += _delimiter;
						var colIdx = hasHeader && dataKeyedByField ? fields[col] : col;
						csv += safe(data[row][colIdx], col);
					}
					if (row < data.length - 1 && (!skipEmptyLines || (maxCol > 0 && !nullLine)))
					{
						csv += _newline;
					}
				}
			}
			return csv;
		}

		/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */
		function safe(str, col)
		{
			if (typeof str === 'undefined' || str === null)
				return '';

			if (str.constructor === Date)
				return JSON.stringify(str).slice(1, 25);

			var needsQuotes = false;

			if (_escapeFormulae && typeof str === "string" && _escapeFormulae.test(str)) {
				str = "'" + str;
				needsQuotes = true;
			}

			var escapedQuoteStr = str.toString().replace(quoteCharRegex, _escapedQuote);

			needsQuotes = needsQuotes
							|| _quotes === true
							|| (typeof _quotes === 'function' && _quotes(str, col))
							|| (Array.isArray(_quotes) && _quotes[col])
							|| hasAny(escapedQuoteStr, Papa.BAD_DELIMITERS)
							|| escapedQuoteStr.indexOf(_delimiter) > -1
							|| escapedQuoteStr.charAt(0) === ' '
							|| escapedQuoteStr.charAt(escapedQuoteStr.length - 1) === ' ';

			return needsQuotes ? _quoteChar + escapedQuoteStr + _quoteChar : escapedQuoteStr;
		}

		function hasAny(str, substrings)
		{
			for (var i = 0; i < substrings.length; i++)
				if (str.indexOf(substrings[i]) > -1)
					return true;
			return false;
		}
	}

	/** ChunkStreamer is the base prototype for various streamer implementations. */
	function ChunkStreamer(config)
	{
		this._handle = null;
		this._finished = false;
		this._completed = false;
		this._halted = false;
		this._input = null;
		this._baseIndex = 0;
		this._partialLine = '';
		this._rowCount = 0;
		this._start = 0;
		this._nextChunk = null;
		this.isFirstChunk = true;
		this._completeResults = {
			data: [],
			errors: [],
			meta: {}
		};
		replaceConfig.call(this, config);

		this.parseChunk = function(chunk, isFakeChunk)
		{
			// First chunk pre-processing
			if (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))
			{
				var modifiedChunk = this._config.beforeFirstChunk(chunk);
				if (modifiedChunk !== undefined)
					chunk = modifiedChunk;
			}
			this.isFirstChunk = false;
			this._halted = false;

			// Rejoin the line we likely just split in two by chunking the file
			var aggregate = this._partialLine + chunk;
			this._partialLine = '';

			var results = this._handle.parse(aggregate, this._baseIndex, !this._finished);

			if (this._handle.paused() || this._handle.aborted()) {
				this._halted = true;
				return;
			}

			var lastIndex = results.meta.cursor;

			if (!this._finished)
			{
				this._partialLine = aggregate.substring(lastIndex - this._baseIndex);
				this._baseIndex = lastIndex;
			}

			if (results && results.data)
				this._rowCount += results.data.length;

			var finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);

			if (IS_PAPA_WORKER)
			{
				global.postMessage({
					results: results,
					workerId: Papa.WORKER_ID,
					finished: finishedIncludingPreview
				});
			}
			else if (isFunction(this._config.chunk) && !isFakeChunk)
			{
				this._config.chunk(results, this._handle);
				if (this._handle.paused() || this._handle.aborted()) {
					this._halted = true;
					return;
				}
				results = undefined;
				this._completeResults = undefined;
			}

			if (!this._config.step && !this._config.chunk) {
				this._completeResults.data = this._completeResults.data.concat(results.data);
				this._completeResults.errors = this._completeResults.errors.concat(results.errors);
				this._completeResults.meta = results.meta;
			}

			if (!this._completed && finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted)) {
				this._config.complete(this._completeResults, this._input);
				this._completed = true;
			}

			if (!finishedIncludingPreview && (!results || !results.meta.paused))
				this._nextChunk();

			return results;
		};

		this._sendError = function(error)
		{
			if (isFunction(this._config.error))
				this._config.error(error);
			else if (IS_PAPA_WORKER && this._config.error)
			{
				global.postMessage({
					workerId: Papa.WORKER_ID,
					error: error,
					finished: false
				});
			}
		};

		function replaceConfig(config)
		{
			// Deep-copy the config so we can edit it
			var configCopy = copy(config);
			configCopy.chunkSize = parseInt(configCopy.chunkSize);	// parseInt VERY important so we don't concatenate strings!
			if (!config.step && !config.chunk)
				configCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196
			this._handle = new ParserHandle(configCopy);
			this._handle.streamer = this;
			this._config = configCopy;	// persist the copy to the caller
		}
	}


	function NetworkStreamer(config)
	{
		config = config || {};
		if (!config.chunkSize)
			config.chunkSize = Papa.RemoteChunkSize;
		ChunkStreamer.call(this, config);

		var xhr;

		if (IS_WORKER)
		{
			this._nextChunk = function()
			{
				this._readChunk();
				this._chunkLoaded();
			};
		}
		else
		{
			this._nextChunk = function()
			{
				this._readChunk();
			};
		}

		this.stream = function(url)
		{
			this._input = url;
			this._nextChunk();	// Starts streaming
		};

		this._readChunk = function()
		{
			if (this._finished)
			{
				this._chunkLoaded();
				return;
			}

			xhr = new XMLHttpRequest();

			if (this._config.withCredentials)
			{
				xhr.withCredentials = this._config.withCredentials;
			}

			if (!IS_WORKER)
			{
				xhr.onload = bindFunction(this._chunkLoaded, this);
				xhr.onerror = bindFunction(this._chunkError, this);
			}

			xhr.open(this._config.downloadRequestBody ? 'POST' : 'GET', this._input, !IS_WORKER);
			// Headers can only be set when once the request state is OPENED
			if (this._config.downloadRequestHeaders)
			{
				var headers = this._config.downloadRequestHeaders;

				for (var headerName in headers)
				{
					xhr.setRequestHeader(headerName, headers[headerName]);
				}
			}

			if (this._config.chunkSize)
			{
				var end = this._start + this._config.chunkSize - 1;	// minus one because byte range is inclusive
				xhr.setRequestHeader('Range', 'bytes=' + this._start + '-' + end);
			}

			try {
				xhr.send(this._config.downloadRequestBody);
			}
			catch (err) {
				this._chunkError(err.message);
			}

			if (IS_WORKER && xhr.status === 0)
				this._chunkError();
		};

		this._chunkLoaded = function()
		{
			if (xhr.readyState !== 4)
				return;

			if (xhr.status < 200 || xhr.status >= 400)
			{
				this._chunkError();
				return;
			}

			// Use chunckSize as it may be a diference on reponse lentgh due to characters with more than 1 byte
			this._start += this._config.chunkSize ? this._config.chunkSize : xhr.responseText.length;
			this._finished = !this._config.chunkSize || this._start >= getFileSize(xhr);
			this.parseChunk(xhr.responseText);
		};

		this._chunkError = function(errorMessage)
		{
			var errorText = xhr.statusText || errorMessage;
			this._sendError(new Error(errorText));
		};

		function getFileSize(xhr)
		{
			var contentRange = xhr.getResponseHeader('Content-Range');
			if (contentRange === null) { // no content range, then finish!
				return -1;
			}
			return parseInt(contentRange.substring(contentRange.lastIndexOf('/') + 1));
		}
	}
	NetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);
	NetworkStreamer.prototype.constructor = NetworkStreamer;


	function FileStreamer(config)
	{
		config = config || {};
		if (!config.chunkSize)
			config.chunkSize = Papa.LocalChunkSize;
		ChunkStreamer.call(this, config);

		var reader, slice;

		// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862
		// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76
		var usingAsyncReader = typeof FileReader !== 'undefined';	// Safari doesn't consider it a function - see issue #105

		this.stream = function(file)
		{
			this._input = file;
			slice = file.slice || file.webkitSlice || file.mozSlice;

			if (usingAsyncReader)
			{
				reader = new FileReader();		// Preferred method of reading files, even in workers
				reader.onload = bindFunction(this._chunkLoaded, this);
				reader.onerror = bindFunction(this._chunkError, this);
			}
			else
				reader = new FileReaderSync();	// Hack for running in a web worker in Firefox

			this._nextChunk();	// Starts streaming
		};

		this._nextChunk = function()
		{
			if (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))
				this._readChunk();
		};

		this._readChunk = function()
		{
			var input = this._input;
			if (this._config.chunkSize)
			{
				var end = Math.min(this._start + this._config.chunkSize, this._input.size);
				input = slice.call(input, this._start, end);
			}
			var txt = reader.readAsText(input, this._config.encoding);
			if (!usingAsyncReader)
				this._chunkLoaded({ target: { result: txt } });	// mimic the async signature
		};

		this._chunkLoaded = function(event)
		{
			// Very important to increment start each time before handling results
			this._start += this._config.chunkSize;
			this._finished = !this._config.chunkSize || this._start >= this._input.size;
			this.parseChunk(event.target.result);
		};

		this._chunkError = function()
		{
			this._sendError(reader.error);
		};

	}
	FileStreamer.prototype = Object.create(ChunkStreamer.prototype);
	FileStreamer.prototype.constructor = FileStreamer;


	function StringStreamer(config)
	{
		config = config || {};
		ChunkStreamer.call(this, config);

		var remaining;
		this.stream = function(s)
		{
			remaining = s;
			return this._nextChunk();
		};
		this._nextChunk = function()
		{
			if (this._finished) return;
			var size = this._config.chunkSize;
			var chunk;
			if(size) {
				chunk = remaining.substring(0, size);
				remaining = remaining.substring(size);
			} else {
				chunk = remaining;
				remaining = '';
			}
			this._finished = !remaining;
			return this.parseChunk(chunk);
		};
	}
	StringStreamer.prototype = Object.create(StringStreamer.prototype);
	StringStreamer.prototype.constructor = StringStreamer;


	function ReadableStreamStreamer(config)
	{
		config = config || {};

		ChunkStreamer.call(this, config);

		var queue = [];
		var parseOnData = true;
		var streamHasEnded = false;

		this.pause = function()
		{
			ChunkStreamer.prototype.pause.apply(this, arguments);
			this._input.pause();
		};

		this.resume = function()
		{
			ChunkStreamer.prototype.resume.apply(this, arguments);
			this._input.resume();
		};

		this.stream = function(stream)
		{
			this._input = stream;

			this._input.on('data', this._streamData);
			this._input.on('end', this._streamEnd);
			this._input.on('error', this._streamError);
		};

		this._checkIsFinished = function()
		{
			if (streamHasEnded && queue.length === 1) {
				this._finished = true;
			}
		};

		this._nextChunk = function()
		{
			this._checkIsFinished();
			if (queue.length)
			{
				this.parseChunk(queue.shift());
			}
			else
			{
				parseOnData = true;
			}
		};

		this._streamData = bindFunction(function(chunk)
		{
			try
			{
				queue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));

				if (parseOnData)
				{
					parseOnData = false;
					this._checkIsFinished();
					this.parseChunk(queue.shift());
				}
			}
			catch (error)
			{
				this._streamError(error);
			}
		}, this);

		this._streamError = bindFunction(function(error)
		{
			this._streamCleanUp();
			this._sendError(error);
		}, this);

		this._streamEnd = bindFunction(function()
		{
			this._streamCleanUp();
			streamHasEnded = true;
			this._streamData('');
		}, this);

		this._streamCleanUp = bindFunction(function()
		{
			this._input.removeListener('data', this._streamData);
			this._input.removeListener('end', this._streamEnd);
			this._input.removeListener('error', this._streamError);
		}, this);
	}
	ReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);
	ReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;


	function DuplexStreamStreamer(_config) {
		var Duplex = (__webpack_require__(927910).Duplex);
		var config = copy(_config);
		var parseOnWrite = true;
		var writeStreamHasFinished = false;
		var parseCallbackQueue = [];
		var stream = null;

		this._onCsvData = function(results)
		{
			var data = results.data;
			if (!stream.push(data) && !this._handle.paused()) {
				// the writeable consumer buffer has filled up
				// so we need to pause until more items
				// can be processed
				this._handle.pause();
			}
		};

		this._onCsvComplete = function()
		{
			// node will finish the read stream when
			// null is pushed
			stream.push(null);
		};

		config.step = bindFunction(this._onCsvData, this);
		config.complete = bindFunction(this._onCsvComplete, this);
		ChunkStreamer.call(this, config);

		this._nextChunk = function()
		{
			if (writeStreamHasFinished && parseCallbackQueue.length === 1) {
				this._finished = true;
			}
			if (parseCallbackQueue.length) {
				parseCallbackQueue.shift()();
			} else {
				parseOnWrite = true;
			}
		};

		this._addToParseQueue = function(chunk, callback)
		{
			// add to queue so that we can indicate
			// completion via callback
			// node will automatically pause the incoming stream
			// when too many items have been added without their
			// callback being invoked
			parseCallbackQueue.push(bindFunction(function() {
				this.parseChunk(typeof chunk === 'string' ? chunk : chunk.toString(config.encoding));
				if (isFunction(callback)) {
					return callback();
				}
			}, this));
			if (parseOnWrite) {
				parseOnWrite = false;
				this._nextChunk();
			}
		};

		this._onRead = function()
		{
			if (this._handle.paused()) {
				// the writeable consumer can handle more data
				// so resume the chunk parsing
				this._handle.resume();
			}
		};

		this._onWrite = function(chunk, encoding, callback)
		{
			this._addToParseQueue(chunk, callback);
		};

		this._onWriteComplete = function()
		{
			writeStreamHasFinished = true;
			// have to write empty string
			// so parser knows its done
			this._addToParseQueue('');
		};

		this.getStream = function()
		{
			return stream;
		};
		stream = new Duplex({
			readableObjectMode: true,
			decodeStrings: false,
			read: bindFunction(this._onRead, this),
			write: bindFunction(this._onWrite, this)
		});
		stream.once('finish', bindFunction(this._onWriteComplete, this));
	}
	if (typeof PAPA_BROWSER_CONTEXT === 'undefined') {
		DuplexStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);
		DuplexStreamStreamer.prototype.constructor = DuplexStreamStreamer;
	}


	// Use one ParserHandle per entire CSV file or string
	function ParserHandle(_config)
	{
		// One goal is to minimize the use of regular expressions...
		var MAX_FLOAT = Math.pow(2, 53);
		var MIN_FLOAT = -MAX_FLOAT;
		var FLOAT = /^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/;
		var ISO_DATE = /^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/;
		var self = this;
		var _stepCounter = 0;	// Number of times step was called (number of rows parsed)
		var _rowCounter = 0;	// Number of rows that have been parsed so far
		var _input;				// The input being parsed
		var _parser;			// The core parser being used
		var _paused = false;	// Whether we are paused or not
		var _aborted = false;	// Whether the parser has aborted or not
		var _delimiterError;	// Temporary state between delimiter detection and processing results
		var _fields = [];		// Fields are from the header row of the input, if there is one
		var _results = {		// The last results returned from the parser
			data: [],
			errors: [],
			meta: {}
		};

		if (isFunction(_config.step))
		{
			var userStep = _config.step;
			_config.step = function(results)
			{
				_results = results;

				if (needsHeaderRow())
					processResults();
				else	// only call user's step function after header row
				{
					processResults();

					// It's possbile that this line was empty and there's no row here after all
					if (_results.data.length === 0)
						return;

					_stepCounter += results.data.length;
					if (_config.preview && _stepCounter > _config.preview)
						_parser.abort();
					else {
						_results.data = _results.data[0];
						userStep(_results, self);
					}
				}
			};
		}

		/**
		 * Parses input. Most users won't need, and shouldn't mess with, the baseIndex
		 * and ignoreLastRow parameters. They are used by streamers (wrapper functions)
		 * when an input comes in multiple chunks, like from a file.
		 */
		this.parse = function(input, baseIndex, ignoreLastRow)
		{
			var quoteChar = _config.quoteChar || '"';
			if (!_config.newline)
				_config.newline = guessLineEndings(input, quoteChar);

			_delimiterError = false;
			if (!_config.delimiter)
			{
				var delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines, _config.comments, _config.delimitersToGuess);
				if (delimGuess.successful)
					_config.delimiter = delimGuess.bestDelimiter;
				else
				{
					_delimiterError = true;	// add error after parsing (otherwise it would be overwritten)
					_config.delimiter = Papa.DefaultDelimiter;
				}
				_results.meta.delimiter = _config.delimiter;
			}
			else if(isFunction(_config.delimiter))
			{
				_config.delimiter = _config.delimiter(input);
				_results.meta.delimiter = _config.delimiter;
			}

			var parserConfig = copy(_config);
			if (_config.preview && _config.header)
				parserConfig.preview++;	// to compensate for header row

			_input = input;
			_parser = new Parser(parserConfig);
			_results = _parser.parse(_input, baseIndex, ignoreLastRow);
			processResults();
			return _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });
		};

		this.paused = function()
		{
			return _paused;
		};

		this.pause = function()
		{
			_paused = true;
			_parser.abort();

			// If it is streaming via "chunking", the reader will start appending correctly already so no need to substring,
			// otherwise we can get duplicate content within a row
			_input = isFunction(_config.chunk) ? "" : _input.substring(_parser.getCharIndex());
		};

		this.resume = function()
		{
			if(self.streamer._halted) {
				_paused = false;
				self.streamer.parseChunk(_input, true);
			} else {
				// Bugfix: #636 In case the processing hasn't halted yet
				// wait for it to halt in order to resume
				setTimeout(self.resume, 3);
			}
		};

		this.aborted = function()
		{
			return _aborted;
		};

		this.abort = function()
		{
			_aborted = true;
			_parser.abort();
			_results.meta.aborted = true;
			if (isFunction(_config.complete))
				_config.complete(_results);
			_input = '';
		};

		function testEmptyLine(s) {
			return _config.skipEmptyLines === 'greedy' ? s.join('').trim() === '' : s.length === 1 && s[0].length === 0;
		}

		function testFloat(s) {
			if (FLOAT.test(s)) {
				var floatValue = parseFloat(s);
				if (floatValue > MIN_FLOAT && floatValue < MAX_FLOAT) {
					return true;
				}
			}
			return false;
		}

		function processResults()
		{
			if (_results && _delimiterError)
			{
				addError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \'' + Papa.DefaultDelimiter + '\'');
				_delimiterError = false;
			}

			if (_config.skipEmptyLines)
			{
				_results.data = _results.data.filter(function(d) {
					return !testEmptyLine(d);
				});
			}

			if (needsHeaderRow())
				fillHeaderFields();

			return applyHeaderAndDynamicTypingAndTransformation();
		}

		function needsHeaderRow()
		{
			return _config.header && _fields.length === 0;
		}

		function fillHeaderFields()
		{
			if (!_results)
				return;

			function addHeader(header, i)
			{
				if (isFunction(_config.transformHeader))
					header = _config.transformHeader(header, i);

				_fields.push(header);
			}

			if (Array.isArray(_results.data[0]))
			{
				for (var i = 0; needsHeaderRow() && i < _results.data.length; i++)
					_results.data[i].forEach(addHeader);

				_results.data.splice(0, 1);
			}
			// if _results.data[0] is not an array, we are in a step where _results.data is the row.
			else
				_results.data.forEach(addHeader);
		}

		function shouldApplyDynamicTyping(field) {
			// Cache function values to avoid calling it for each row
			if (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {
				_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);
			}
			return (_config.dynamicTyping[field] || _config.dynamicTyping) === true;
		}

		function parseDynamic(field, value)
		{
			if (shouldApplyDynamicTyping(field))
			{
				if (value === 'true' || value === 'TRUE')
					return true;
				else if (value === 'false' || value === 'FALSE')
					return false;
				else if (testFloat(value))
					return parseFloat(value);
				else if (ISO_DATE.test(value))
					return new Date(value);
				else
					return (value === '' ? null : value);
			}
			return value;
		}

		function applyHeaderAndDynamicTypingAndTransformation()
		{
			if (!_results || (!_config.header && !_config.dynamicTyping && !_config.transform))
				return _results;

			function processRow(rowSource, i)
			{
				var row = _config.header ? {} : [];

				var j;
				for (j = 0; j < rowSource.length; j++)
				{
					var field = j;
					var value = rowSource[j];

					if (_config.header)
						field = j >= _fields.length ? '__parsed_extra' : _fields[j];

					if (_config.transform)
						value = _config.transform(value,field);

					value = parseDynamic(field, value);

					if (field === '__parsed_extra')
					{
						row[field] = row[field] || [];
						row[field].push(value);
					}
					else
						row[field] = value;
				}


				if (_config.header)
				{
					if (j > _fields.length)
						addError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, _rowCounter + i);
					else if (j < _fields.length)
						addError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, _rowCounter + i);
				}

				return row;
			}

			var incrementBy = 1;
			if (!_results.data.length || Array.isArray(_results.data[0]))
			{
				_results.data = _results.data.map(processRow);
				incrementBy = _results.data.length;
			}
			else
				_results.data = processRow(_results.data, 0);


			if (_config.header && _results.meta)
				_results.meta.fields = _fields;

			_rowCounter += incrementBy;
			return _results;
		}

		function guessDelimiter(input, newline, skipEmptyLines, comments, delimitersToGuess) {
			var bestDelim, bestDelta, fieldCountPrevRow, maxFieldCount;

			delimitersToGuess = delimitersToGuess || [',', '\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];

			for (var i = 0; i < delimitersToGuess.length; i++) {
				var delim = delimitersToGuess[i];
				var delta = 0, avgFieldCount = 0, emptyLinesCount = 0;
				fieldCountPrevRow = undefined;

				var preview = new Parser({
					comments: comments,
					delimiter: delim,
					newline: newline,
					preview: 10
				}).parse(input);

				for (var j = 0; j < preview.data.length; j++) {
					if (skipEmptyLines && testEmptyLine(preview.data[j])) {
						emptyLinesCount++;
						continue;
					}
					var fieldCount = preview.data[j].length;
					avgFieldCount += fieldCount;

					if (typeof fieldCountPrevRow === 'undefined') {
						fieldCountPrevRow = fieldCount;
						continue;
					}
					else if (fieldCount > 0) {
						delta += Math.abs(fieldCount - fieldCountPrevRow);
						fieldCountPrevRow = fieldCount;
					}
				}

				if (preview.data.length > 0)
					avgFieldCount /= (preview.data.length - emptyLinesCount);

				if ((typeof bestDelta === 'undefined' || delta <= bestDelta)
					&& (typeof maxFieldCount === 'undefined' || avgFieldCount > maxFieldCount) && avgFieldCount > 1.99) {
					bestDelta = delta;
					bestDelim = delim;
					maxFieldCount = avgFieldCount;
				}
			}

			_config.delimiter = bestDelim;

			return {
				successful: !!bestDelim,
				bestDelimiter: bestDelim
			};
		}

		function guessLineEndings(input, quoteChar)
		{
			input = input.substring(0, 1024 * 1024);	// max length 1 MB
			// Replace all the text inside quotes
			var re = new RegExp(escapeRegExp(quoteChar) + '([^]*?)' + escapeRegExp(quoteChar), 'gm');
			input = input.replace(re, '');

			var r = input.split('\r');

			var n = input.split('\n');

			var nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);

			if (r.length === 1 || nAppearsFirst)
				return '\n';

			var numWithN = 0;
			for (var i = 0; i < r.length; i++)
			{
				if (r[i][0] === '\n')
					numWithN++;
			}

			return numWithN >= r.length / 2 ? '\r\n' : '\r';
		}

		function addError(type, code, msg, row)
		{
			var error = {
				type: type,
				code: code,
				message: msg
			};
			if(row !== undefined) {
				error.row = row;
			}
			_results.errors.push(error);
		}
	}

	/** https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions */
	function escapeRegExp(string)
	{
		return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); // $& means the whole matched string
	}

	/** The core parser implements speedy and correct CSV parsing */
	function Parser(config)
	{
		// Unpack the config object
		config = config || {};
		var delim = config.delimiter;
		var newline = config.newline;
		var comments = config.comments;
		var step = config.step;
		var preview = config.preview;
		var fastMode = config.fastMode;
		var quoteChar;
		if (config.quoteChar === undefined || config.quoteChar === null) {
			quoteChar = '"';
		} else {
			quoteChar = config.quoteChar;
		}
		var escapeChar = quoteChar;
		if (config.escapeChar !== undefined) {
			escapeChar = config.escapeChar;
		}

		// Delimiter must be valid
		if (typeof delim !== 'string'
			|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)
			delim = ',';

		// Comment character must be valid
		if (comments === delim)
			throw new Error('Comment character same as delimiter');
		else if (comments === true)
			comments = '#';
		else if (typeof comments !== 'string'
			|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)
			comments = false;

		// Newline must be valid: \r, \n, or \r\n
		if (newline !== '\n' && newline !== '\r' && newline !== '\r\n')
			newline = '\n';

		// We're gonna need these at the Parser scope
		var cursor = 0;
		var aborted = false;

		this.parse = function(input, baseIndex, ignoreLastRow)
		{
			// For some reason, in Chrome, this speeds things up (!?)
			if (typeof input !== 'string')
				throw new Error('Input must be a string');

			// We don't need to compute some of these every time parse() is called,
			// but having them in a more local scope seems to perform better
			var inputLen = input.length,
				delimLen = delim.length,
				newlineLen = newline.length,
				commentsLen = comments.length;
			var stepIsFunction = isFunction(step);

			// Establish starting state
			cursor = 0;
			var data = [], errors = [], row = [], lastCursor = 0;

			if (!input)
				return returnable();

			// Rename headers if there are duplicates
			if (config.header && !baseIndex)
			{
				var firstLine = input.split(newline)[0];
				var headers = firstLine.split(delim);
				var separator = '_';
				var headerMap = [];
				var headerCount = {};
				var duplicateHeaders = false;

				for (var j in headers) {
					var header = headers[j];
					if (isFunction(config.transformHeader))
						header = config.transformHeader(header, j);
					var headerName = header;

					var count = headerCount[header] || 0;
					if (count > 0) {
						duplicateHeaders = true;
						headerName = header + separator + count;
					}
					headerCount[header] = count + 1;
					// In case it already exists, we add more separtors
					while (headerMap.includes(headerName)) {
						headerName = headerName + separator + count;
					}
					headerMap.push(headerName);
				}
				if (duplicateHeaders) {
					var editedInput = input.split(newline);
					editedInput[0] = headerMap.join(delim);
					input = editedInput.join(newline);
				}
			}
			if (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))
			{
				var rows = input.split(newline);
				for (var i = 0; i < rows.length; i++)
				{
					row = rows[i];
					cursor += row.length;
					if (i !== rows.length - 1)
						cursor += newline.length;
					else if (ignoreLastRow)
						return returnable();
					if (comments && row.substring(0, commentsLen) === comments)
						continue;
					if (stepIsFunction)
					{
						data = [];
						pushRow(row.split(delim));
						doStep();
						if (aborted)
							return returnable();
					}
					else
						pushRow(row.split(delim));
					if (preview && i >= preview)
					{
						data = data.slice(0, preview);
						return returnable(true);
					}
				}
				return returnable();
			}

			var nextDelim = input.indexOf(delim, cursor);
			var nextNewline = input.indexOf(newline, cursor);
			var quoteCharRegex = new RegExp(escapeRegExp(escapeChar) + escapeRegExp(quoteChar), 'g');
			var quoteSearch = input.indexOf(quoteChar, cursor);

			// Parser loop
			for (;;)
			{
				// Field has opening quote
				if (input[cursor] === quoteChar)
				{
					// Start our search for the closing quote where the cursor is
					quoteSearch = cursor;

					// Skip the opening quote
					cursor++;

					for (;;)
					{
						// Find closing quote
						quoteSearch = input.indexOf(quoteChar, quoteSearch + 1);

						//No other quotes are found - no other delimiters
						if (quoteSearch === -1)
						{
							if (!ignoreLastRow) {
								// No closing quote... what a pity
								errors.push({
									type: 'Quotes',
									code: 'MissingQuotes',
									message: 'Quoted field unterminated',
									row: data.length,	// row has yet to be inserted
									index: cursor
								});
							}
							return finish();
						}

						// Closing quote at EOF
						if (quoteSearch === inputLen - 1)
						{
							var value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);
							return finish(value);
						}

						// If this quote is escaped, it's part of the data; skip it
						// If the quote character is the escape character, then check if the next character is the escape character
						if (quoteChar === escapeChar &&  input[quoteSearch + 1] === escapeChar)
						{
							quoteSearch++;
							continue;
						}

						// If the quote character is not the escape character, then check if the previous character was the escape character
						if (quoteChar !== escapeChar && quoteSearch !== 0 && input[quoteSearch - 1] === escapeChar)
						{
							continue;
						}

						if(nextDelim !== -1 && nextDelim < (quoteSearch + 1)) {
							nextDelim = input.indexOf(delim, (quoteSearch + 1));
						}
						if(nextNewline !== -1 && nextNewline < (quoteSearch + 1)) {
							nextNewline = input.indexOf(newline, (quoteSearch + 1));
						}
						// Check up to nextDelim or nextNewline, whichever is closest
						var checkUpTo = nextNewline === -1 ? nextDelim : Math.min(nextDelim, nextNewline);
						var spacesBetweenQuoteAndDelimiter = extraSpaces(checkUpTo);

						// Closing quote followed by delimiter or 'unnecessary spaces + delimiter'
						if (input.substr(quoteSearch + 1 + spacesBetweenQuoteAndDelimiter, delimLen) === delim)
						{
							row.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));
							cursor = quoteSearch + 1 + spacesBetweenQuoteAndDelimiter + delimLen;

							// If char after following delimiter is not quoteChar, we find next quote char position
							if (input[quoteSearch + 1 + spacesBetweenQuoteAndDelimiter + delimLen] !== quoteChar)
							{
								quoteSearch = input.indexOf(quoteChar, cursor);
							}
							nextDelim = input.indexOf(delim, cursor);
							nextNewline = input.indexOf(newline, cursor);
							break;
						}

						var spacesBetweenQuoteAndNewLine = extraSpaces(nextNewline);

						// Closing quote followed by newline or 'unnecessary spaces + newLine'
						if (input.substring(quoteSearch + 1 + spacesBetweenQuoteAndNewLine, quoteSearch + 1 + spacesBetweenQuoteAndNewLine + newlineLen) === newline)
						{
							row.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));
							saveRow(quoteSearch + 1 + spacesBetweenQuoteAndNewLine + newlineLen);
							nextDelim = input.indexOf(delim, cursor);	// because we may have skipped the nextDelim in the quoted field
							quoteSearch = input.indexOf(quoteChar, cursor);	// we search for first quote in next line

							if (stepIsFunction)
							{
								doStep();
								if (aborted)
									return returnable();
							}

							if (preview && data.length >= preview)
								return returnable(true);

							break;
						}


						// Checks for valid closing quotes are complete (escaped quotes or quote followed by EOF/delimiter/newline) -- assume these quotes are part of an invalid text string
						errors.push({
							type: 'Quotes',
							code: 'InvalidQuotes',
							message: 'Trailing quote on quoted field is malformed',
							row: data.length,	// row has yet to be inserted
							index: cursor
						});

						quoteSearch++;
						continue;

					}

					continue;
				}

				// Comment found at start of new line
				if (comments && row.length === 0 && input.substring(cursor, cursor + commentsLen) === comments)
				{
					if (nextNewline === -1)	// Comment ends at EOF
						return returnable();
					cursor = nextNewline + newlineLen;
					nextNewline = input.indexOf(newline, cursor);
					nextDelim = input.indexOf(delim, cursor);
					continue;
				}

				// Next delimiter comes before next newline, so we've reached end of field
				if (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))
				{
					row.push(input.substring(cursor, nextDelim));
					cursor = nextDelim + delimLen;
					// we look for next delimiter char
					nextDelim = input.indexOf(delim, cursor);
					continue;
				}

				// End of row
				if (nextNewline !== -1)
				{
					row.push(input.substring(cursor, nextNewline));
					saveRow(nextNewline + newlineLen);

					if (stepIsFunction)
					{
						doStep();
						if (aborted)
							return returnable();
					}

					if (preview && data.length >= preview)
						return returnable(true);

					continue;
				}

				break;
			}


			return finish();


			function pushRow(row)
			{
				data.push(row);
				lastCursor = cursor;
			}

			/**
             * checks if there are extra spaces after closing quote and given index without any text
             * if Yes, returns the number of spaces
             */
			function extraSpaces(index) {
				var spaceLength = 0;
				if (index !== -1) {
					var textBetweenClosingQuoteAndIndex = input.substring(quoteSearch + 1, index);
					if (textBetweenClosingQuoteAndIndex && textBetweenClosingQuoteAndIndex.trim() === '') {
						spaceLength = textBetweenClosingQuoteAndIndex.length;
					}
				}
				return spaceLength;
			}

			/**
			 * Appends the remaining input from cursor to the end into
			 * row, saves the row, calls step, and returns the results.
			 */
			function finish(value)
			{
				if (ignoreLastRow)
					return returnable();
				if (typeof value === 'undefined')
					value = input.substring(cursor);
				row.push(value);
				cursor = inputLen;	// important in case parsing is paused
				pushRow(row);
				if (stepIsFunction)
					doStep();
				return returnable();
			}

			/**
			 * Appends the current row to the results. It sets the cursor
			 * to newCursor and finds the nextNewline. The caller should
			 * take care to execute user's step function and check for
			 * preview and end parsing if necessary.
			 */
			function saveRow(newCursor)
			{
				cursor = newCursor;
				pushRow(row);
				row = [];
				nextNewline = input.indexOf(newline, cursor);
			}

			/** Returns an object with the results, errors, and meta. */
			function returnable(stopped)
			{
				return {
					data: data,
					errors: errors,
					meta: {
						delimiter: delim,
						linebreak: newline,
						aborted: aborted,
						truncated: !!stopped,
						cursor: lastCursor + (baseIndex || 0)
					}
				};
			}

			/** Executes the user's step function and resets data & errors. */
			function doStep()
			{
				step(returnable());
				data = [];
				errors = [];
			}
		};

		/** Sets the abort flag */
		this.abort = function()
		{
			aborted = true;
		};

		/** Gets the cursor position */
		this.getCharIndex = function()
		{
			return cursor;
		};
	}


	function newWorker()
	{
		if (!Papa.WORKERS_SUPPORTED)
			return false;

		var workerUrl = getWorkerBlob();
		var w = new global.Worker(workerUrl);
		w.onmessage = mainThreadReceivedMessage;
		w.id = workerIdCounter++;
		workers[w.id] = w;
		return w;
	}

	/** Callback when main thread receives a message */
	function mainThreadReceivedMessage(e)
	{
		var msg = e.data;
		var worker = workers[msg.workerId];
		var aborted = false;

		if (msg.error)
			worker.userError(msg.error, msg.file);
		else if (msg.results && msg.results.data)
		{
			var abort = function() {
				aborted = true;
				completeWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });
			};

			var handle = {
				abort: abort,
				pause: notImplemented,
				resume: notImplemented
			};

			if (isFunction(worker.userStep))
			{
				for (var i = 0; i < msg.results.data.length; i++)
				{
					worker.userStep({
						data: msg.results.data[i],
						errors: msg.results.errors,
						meta: msg.results.meta
					}, handle);
					if (aborted)
						break;
				}
				delete msg.results;	// free memory ASAP
			}
			else if (isFunction(worker.userChunk))
			{
				worker.userChunk(msg.results, handle, msg.file);
				delete msg.results;
			}
		}

		if (msg.finished && !aborted)
			completeWorker(msg.workerId, msg.results);
	}

	function completeWorker(workerId, results) {
		var worker = workers[workerId];
		if (isFunction(worker.userComplete))
			worker.userComplete(results);
		worker.terminate();
		delete workers[workerId];
	}

	function notImplemented() {
		throw new Error('Not implemented.');
	}

	/** Callback when worker thread receives a message */
	function workerThreadReceivedMessage(e)
	{
		var msg = e.data;

		if (typeof Papa.WORKER_ID === 'undefined' && msg)
			Papa.WORKER_ID = msg.workerId;

		if (typeof msg.input === 'string')
		{
			global.postMessage({
				workerId: Papa.WORKER_ID,
				results: Papa.parse(msg.input, msg.config),
				finished: true
			});
		}
		else if ((global.File && msg.input instanceof File) || msg.input instanceof Object)	// thank you, Safari (see issue #106)
		{
			var results = Papa.parse(msg.input, msg.config);
			if (results)
				global.postMessage({
					workerId: Papa.WORKER_ID,
					results: results,
					finished: true
				});
		}
	}

	/** Makes a deep copy of an array or object (mostly) */
	function copy(obj)
	{
		if (typeof obj !== 'object' || obj === null)
			return obj;
		var cpy = Array.isArray(obj) ? [] : {};
		for (var key in obj)
			cpy[key] = copy(obj[key]);
		return cpy;
	}

	function bindFunction(f, self)
	{
		return function() { f.apply(self, arguments); };
	}

	function isFunction(func)
	{
		return typeof func === 'function';
	}

	return Papa;
}));


/***/ }),

/***/ 471918:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   o: () => (/* binding */ ZInvite)
/* harmony export */ });
/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99922);

const ZInvite = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(),
    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullable(),
    organizationId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    creatorId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    acceptorId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullable(),
    createdAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.date(),
    expiresAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.date(),
    role: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
        "owner",
        "manager",
        "member",
        "billing"
    ]),
    teamIds: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string())
});


/***/ }),

/***/ 915139:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HJ: () => (/* binding */ getFormattedDateTimeString),
/* harmony export */   Qr: () => (/* binding */ isValidDateString),
/* harmony export */   zM: () => (/* binding */ formatDateWithOrdinal)
/* harmony export */ });
/* unused harmony exports diffInDays, getMonthName, getOrdinalDate */
const monthNames = [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December"
];
// Helper function to calculate difference in days between two dates
const diffInDays = (date1, date2)=>{
    const diffTime = Math.abs(date2.getTime() - date1.getTime());
    return Math.floor(diffTime / (1000 * 60 * 60 * 24));
};
// Helper function to get the month name
const getMonthName = (monthIndex)=>{
    return monthNames[monthIndex];
};
const formatDateWithOrdinal = (date)=>{
    const getOrdinalSuffix = (day)=>{
        const suffixes = [
            "th",
            "st",
            "nd",
            "rd"
        ];
        const relevantDigits = day < 30 ? day % 20 : day % 30;
        return suffixes[relevantDigits <= 3 ? relevantDigits : 0];
    };
    const dayOfWeekNames = [
        "Sunday",
        "Monday",
        "Tuesday",
        "Wednesday",
        "Thursday",
        "Friday",
        "Saturday"
    ];
    const dayOfWeek = dayOfWeekNames[date.getDay()];
    const day = date.getDate();
    const monthIndex = date.getMonth();
    const year = date.getFullYear();
    return `${dayOfWeek}, ${monthNames[monthIndex]} ${day}${getOrdinalSuffix(day)}, ${year}`;
};
// Helper function to format the date with an ordinal suffix
const getOrdinalDate = (date)=>{
    const j = date % 10, k = date % 100;
    if (j === 1 && k !== 11) {
        return date + "st";
    }
    if (j === 2 && k !== 12) {
        return date + "nd";
    }
    if (j === 3 && k !== 13) {
        return date + "rd";
    }
    return date + "th";
};
const isValidDateString = (value)=>{
    const regex = /^(?:\d{4}-\d{2}-\d{2}|\d{2}-\d{2}-\d{4})$/;
    if (!regex.test(value)) {
        return false;
    }
    const date = new Date(value);
    return date;
};
const getFormattedDateTimeString = (date)=>{
    const options = {
        year: "numeric",
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        hour12: false
    };
    return new Intl.DateTimeFormat("en-CA", options).format(date).replace(",", "");
};


/***/ }),

/***/ 880105:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mp: () => (/* binding */ ZOrganizationRole)
/* harmony export */ });
/* unused harmony exports ZMembershipRole, ZMembership, ZMember, ZMembershipUpdateInput */
/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99922);

const ZMembershipRole = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
    "owner",
    "admin",
    "editor",
    "developer",
    "viewer"
]);
const ZOrganizationRole = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
    "owner",
    "manager",
    "member",
    "billing"
]);
const ZMembership = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    organizationId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    userId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    accepted: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),
    role: ZOrganizationRole
});
const ZMember = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullable(),
    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(),
    userId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    accepted: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),
    role: ZOrganizationRole
});
const ZMembershipUpdateInput = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    role: ZOrganizationRole
});


/***/ }),

/***/ 959777:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B$: () => (/* binding */ ZUserPassword),
/* harmony export */   b5: () => (/* binding */ ZUserObjective),
/* harmony export */   pE: () => (/* binding */ ZUserName),
/* harmony export */   qf: () => (/* binding */ ZUser)
/* harmony export */ });
/* unused harmony exports ZUserLocale, ZUserNotificationSettings, ZUserEmail, ZUserUpdateInput, ZUserCreateInput */
/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99922);

const ZRole = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
    "project_manager",
    "engineer",
    "founder",
    "marketing_specialist",
    "other"
]);
const ZUserLocale = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
    "en-US",
    "de-DE",
    "pt-BR",
    "fr-FR"
]);
const ZUserObjective = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
    "increase_conversion",
    "improve_user_retention",
    "increase_user_adoption",
    "sharpen_marketing_messaging",
    "support_sales",
    "other"
]);
const ZUserNotificationSettings = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    alert: zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()),
    weeklySummary: zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()),
    unsubscribedOrganizationIds: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()).optional()
});
const ZUserName = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().trim().min(1, {
    message: "Name should be at least 1 character long"
}).regex(/^[\p{L}\p{M}\s'\d-]+$/u, "Invalid name format");
const ZUserEmail = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email({
    message: "Invalid email"
});
const ZUserPassword = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(8).regex(/^(?=.*[A-Z])(?=.*\d).*$/);
const ZUser = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    name: ZUserName,
    email: ZUserEmail,
    emailVerified: zod__WEBPACK_IMPORTED_MODULE_0__.z.date().nullable(),
    imageUrl: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url().nullable(),
    twoFactorEnabled: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),
    identityProvider: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
        "email",
        "google",
        "github",
        "azuread",
        "openid"
    ]),
    createdAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.date(),
    updatedAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.date(),
    role: ZRole.nullable(),
    objective: ZUserObjective.nullable(),
    notificationSettings: ZUserNotificationSettings,
    locale: ZUserLocale
});
const ZUserUpdateInput = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    name: ZUserName.optional(),
    email: ZUserEmail.optional(),
    emailVerified: zod__WEBPACK_IMPORTED_MODULE_0__.z.date().nullish(),
    password: ZUserPassword.optional(),
    role: ZRole.optional(),
    objective: ZUserObjective.nullish(),
    imageUrl: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullish(),
    notificationSettings: ZUserNotificationSettings.optional(),
    locale: ZUserLocale.optional()
});
const ZUserCreateInput = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    name: ZUserName,
    email: ZUserEmail,
    password: ZUserPassword.optional(),
    emailVerified: zod__WEBPACK_IMPORTED_MODULE_0__.z.date().optional(),
    role: ZRole.optional(),
    objective: ZUserObjective.nullish(),
    identityProvider: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
        "email",
        "google",
        "github",
        "azuread",
        "openid"
    ]).optional(),
    identityProviderAccountId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),
    locale: ZUserLocale.optional()
});


/***/ }),

/***/ 841068:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OrganizationSettingsNavbar: () => (/* binding */ OrganizationSettingsNavbar)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const OrganizationSettingsNavbar = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call OrganizationSettingsNavbar() from the server but OrganizationSettingsNavbar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/(organization)/components/OrganizationSettingsNavbar.tsx",
"OrganizationSettingsNavbar",
);

/***/ }),

/***/ 17753:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_auth_lib_authOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(136015);
/* harmony import */ var _tolgee_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(186184);
/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(963302);
/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _formbricks_lib_organization_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(353687);
/* harmony import */ var _formbricks_lib_project_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(529987);






const Layout = async (props)=>{
    const params = await props.params;
    const { children } = props;
    const t = await (0,_tolgee_server__WEBPACK_IMPORTED_MODULE_2__/* .getTranslate */ .r)();
    const [organization, project, session] = await Promise.all([
        (0,_formbricks_lib_organization_service__WEBPACK_IMPORTED_MODULE_4__/* .getOrganizationByEnvironmentId */ .TK)(params.environmentId),
        (0,_formbricks_lib_project_service__WEBPACK_IMPORTED_MODULE_5__/* .getProjectByEnvironmentId */ .bq)(params.environmentId),
        (0,next_auth__WEBPACK_IMPORTED_MODULE_3__.getServerSession)(_modules_auth_lib_authOptions__WEBPACK_IMPORTED_MODULE_1__/* .authOptions */ .N)
    ]);
    if (!organization) {
        throw new Error(t("common.organization_not_found"));
    }
    if (!project) {
        throw new Error(t("common.project_not_found"));
    }
    if (!session) {
        throw new Error(t("common.session_not_found"));
    }
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: children
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Layout);


/***/ }),

/***/ 866104:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ page)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(891069);
// EXTERNAL MODULE: ./app/(app)/environments/[environmentId]/settings/(organization)/components/OrganizationSettingsNavbar.tsx
var OrganizationSettingsNavbar = __webpack_require__(841068);
// EXTERNAL MODULE: ./modules/auth/lib/authOptions.ts + 8 modules
var authOptions = __webpack_require__(136015);
// EXTERNAL MODULE: ./modules/ee/license-check/lib/utils.ts + 1 modules
var utils = __webpack_require__(532077);
// EXTERNAL MODULE: ./app/(app)/environments/[environmentId]/settings/components/SettingsCard.tsx
var SettingsCard = __webpack_require__(42304);
// EXTERNAL MODULE: ./modules/ee/teams/team-list/components/teams-table.tsx
var teams_table = __webpack_require__(821490);
// EXTERNAL MODULE: external "@prisma/client"
var client_ = __webpack_require__(896330);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js
var react = __webpack_require__(922728);
// EXTERNAL MODULE: ../../packages/database/src/index.ts + 1 modules
var src = __webpack_require__(527610);
// EXTERNAL MODULE: ../../packages/lib/cache.ts
var cache = __webpack_require__(794356);
// EXTERNAL MODULE: ../../packages/lib/project/cache.ts
var project_cache = __webpack_require__(236730);
// EXTERNAL MODULE: ../../packages/lib/utils/validate.ts
var validate = __webpack_require__(860988);
// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(733735);
// EXTERNAL MODULE: ../../packages/types/errors.ts
var errors = __webpack_require__(470641);
;// ./modules/ee/teams/team-list/lib/project.ts









const getProjectsByOrganizationId = (0,react.cache)(async (organizationId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            common/* ZString */.eI
        ]);
        try {
            const projects = await src/* prisma */.z.project.findMany({
                where: {
                    organizationId
                },
                select: {
                    id: true,
                    name: true
                }
            });
            return projects.map((project)=>({
                    id: project.id,
                    name: project.name
                }));
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                console.error(error);
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw new errors/* UnknownError */.Bk("Error while fetching projects");
        }
    }, [
        `getProjectsByOrganizationId-${organizationId}`
    ], {
        tags: [
            project_cache/* projectCache */.E.tag.byOrganizationId(organizationId)
        ]
    })());

// EXTERNAL MODULE: ../../node_modules/next/cache.js
var next_cache = __webpack_require__(87863);
;// ./lib/cache/organization.ts

const organization_organizationCache = {
    tag: {
        byId (id) {
            return `organizations-${id}`;
        },
        byUserId (userId) {
            return `users-${userId}-organizations`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-organizations`;
        },
        byCount () {
            return "organizations-count";
        }
    },
    revalidate: ({ id, userId, environmentId, count })=>{
        if (id) {
            (0,next_cache.revalidateTag)(organization_organizationCache.tag.byId(id));
        }
        if (userId) {
            (0,next_cache.revalidateTag)(organization_organizationCache.tag.byUserId(userId));
        }
        if (environmentId) {
            (0,next_cache.revalidateTag)(organization_organizationCache.tag.byEnvironmentId(environmentId));
        }
        if (count) {
            (0,next_cache.revalidateTag)(organization_organizationCache.tag.byCount());
        }
    }
};

// EXTERNAL MODULE: ./lib/cache/team.ts
var team = __webpack_require__(441215);
// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(545198);
;// ./modules/ee/teams/project-teams/types/team.ts


const ZTeamPermission = lib.z.enum([
    "read",
    "readWrite",
    "manage"
]);
const ZProjectTeam = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    memberCount: lib.z.number(),
    permission: ZTeamPermission
});
const TOrganizationTeam = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string()
});

// EXTERNAL MODULE: ../../packages/types/memberships.ts
var memberships = __webpack_require__(715521);
;// ./modules/ee/teams/team-list/types/team.ts




const ZTeamRole = lib.z.enum([
    "admin",
    "contributor"
]);
const ZUserTeam = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    userRole: ZTeamRole,
    memberCount: lib.z.number()
});
const ZOtherTeam = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    memberCount: lib.z.number()
});
const ZOrganizationTeam = lib.z.object({
    id: lib.z.string().cuid2(),
    name: lib.z.string()
});
const ZTeamDetails = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    organizationId: common/* ZId */.i4,
    members: lib.z.array(lib.z.object({
        userId: common/* ZId */.i4,
        name: lib.z.string(),
        role: ZTeamRole
    })),
    projects: lib.z.array(lib.z.object({
        projectId: common/* ZId */.i4,
        projectName: lib.z.string(),
        permission: ZTeamPermission
    }))
});
const ZOrganizationMember = lib.z.object({
    id: common/* ZId */.i4,
    name: lib.z.string(),
    role: memberships/* ZOrganizationRole */.mp
});
const team_ZTeamSettingsFormSchema = lib.z.object({
    name: lib.z.string().trim().min(1, "Team name is required"),
    members: lib.z.array(lib.z.object({
        userId: lib.z.string().trim().min(1, "Please select a member"),
        role: ZTeamRole
    })).min(1, {
        message: "Please add at least one member"
    }),
    projects: lib.z.array(lib.z.object({
        projectId: lib.z.string().trim().min(1, "Please select a project"),
        permission: ZTeamPermission
    })).min(1, {
        message: "Please add at least one project"
    })
});
const ZTeamMember = lib.z.object({
    role: ZTeamRole,
    id: lib.z.string(),
    name: lib.z.string(),
    email: lib.z.string(),
    isRoleEditable: lib.z.boolean()
});
const ZTeam = lib.z.object({
    id: lib.z.string(),
    name: lib.z.string({
        message: "Team name is required"
    }).trim().min(1, {
        message: "Team name must be at least 1 character long"
    }),
    teamUsers: lib.z.array(ZTeamMember)
});

// EXTERNAL MODULE: ../../packages/lib/user/cache.ts
var user_cache = __webpack_require__(323798);
;// ./modules/ee/teams/team-list/lib/team.ts














const getTeamsByOrganizationId = (0,react.cache)(async (organizationId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            common/* ZId */.i4
        ]);
        try {
            const teams = await src/* prisma */.z.team.findMany({
                where: {
                    organizationId
                },
                select: {
                    id: true,
                    name: true
                }
            });
            const projectTeams = teams.map((team)=>({
                    id: team.id,
                    name: team.name
                }));
            return projectTeams;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getTeamsByOrganizationId-${organizationId}`
    ], {
        tags: [
            team/* teamCache */.g.tag.byOrganizationId(organizationId)
        ]
    })());
const getUserTeams = (0,react.cache)(async (userId, organizationId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            userId,
            lib.z.string()
        ], [
            organizationId,
            common/* ZId */.i4
        ]);
        try {
            const teams = await src/* prisma */.z.team.findMany({
                where: {
                    organizationId,
                    teamUsers: {
                        some: {
                            userId
                        }
                    }
                },
                select: {
                    id: true,
                    name: true,
                    teamUsers: {
                        where: {
                            userId
                        },
                        select: {
                            role: true
                        }
                    },
                    _count: {
                        select: {
                            teamUsers: true
                        }
                    }
                }
            });
            const userTeams = teams.map((team)=>({
                    id: team.id,
                    name: team.name,
                    userRole: team.teamUsers[0].role,
                    memberCount: team._count.teamUsers
                }));
            return userTeams;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getUserTeams-${userId}-${organizationId}`
    ], {
        tags: [
            team/* teamCache */.g.tag.byUserId(userId),
            user_cache/* userCache */.g.tag.byId(userId),
            team/* teamCache */.g.tag.byOrganizationId(organizationId)
        ]
    })());
const getOtherTeams = (0,react.cache)(async (userId, organizationId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            userId,
            lib.z.string()
        ], [
            organizationId,
            common/* ZId */.i4
        ]);
        try {
            const teams = await src/* prisma */.z.team.findMany({
                where: {
                    organizationId,
                    teamUsers: {
                        none: {
                            userId
                        }
                    }
                },
                select: {
                    id: true,
                    name: true,
                    _count: {
                        select: {
                            teamUsers: true
                        }
                    }
                }
            });
            const otherTeams = teams.map((team)=>({
                    id: team.id,
                    name: team.name,
                    memberCount: team._count.teamUsers
                }));
            return otherTeams;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getOtherTeams-${userId}-${organizationId}`
    ], {
        tags: [
            team/* teamCache */.g.tag.byUserId(userId),
            user_cache/* userCache */.g.tag.byId(userId),
            team/* teamCache */.g.tag.byOrganizationId(organizationId)
        ]
    })());
const getTeams = (0,react.cache)(async (userId, organizationId)=>(0,cache/* cache */.P)(async ()=>{
        const membership = await src/* prisma */.z.membership.findUnique({
            where: {
                userId_organizationId: {
                    userId,
                    organizationId
                }
            },
            select: {
                role: true
            }
        });
        if (!membership) {
            throw new errors/* ResourceNotFoundError */.CE("Membership", null);
        }
        const userTeams = await getUserTeams(userId, organizationId);
        let otherTeams = await getOtherTeams(userId, organizationId);
        return {
            userTeams,
            otherTeams
        };
    }, [
        `getTeams-${userId}-${organizationId}`
    ], {
        tags: [
            team/* teamCache */.g.tag.byUserId(userId),
            user_cache/* userCache */.g.tag.byId(userId),
            team/* teamCache */.g.tag.byOrganizationId(organizationId)
        ]
    })());
const createTeam = async (organizationId, name)=>{
    validateInputs([
        organizationId,
        ZId
    ], [
        name,
        z.string()
    ]);
    try {
        const doesTeamExist = await prisma.team.findFirst({
            where: {
                name,
                organizationId
            }
        });
        if (doesTeamExist) {
            throw new InvalidInputError("Team name already exists");
        }
        if (name.length < 1) {
            throw new InvalidInputError("Team name must be at least 1 character long");
        }
        const team = await prisma.team.create({
            data: {
                name,
                organizationId
            },
            select: {
                id: true
            }
        });
        teamCache.revalidate({
            organizationId
        });
        return team.id;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        throw error;
    }
};
const getTeamDetails = (0,react.cache)(async (teamId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            teamId,
            common/* ZId */.i4
        ]);
        try {
            const team = await src/* prisma */.z.team.findUnique({
                where: {
                    id: teamId
                },
                select: {
                    id: true,
                    name: true,
                    organizationId: true,
                    teamUsers: {
                        select: {
                            userId: true,
                            role: true,
                            user: {
                                select: {
                                    name: true
                                }
                            }
                        }
                    },
                    projectTeams: {
                        select: {
                            projectId: true,
                            project: {
                                select: {
                                    name: true
                                }
                            },
                            permission: true
                        }
                    }
                }
            });
            if (!team) {
                return null;
            }
            return {
                id: team.id,
                name: team.name,
                organizationId: team.organizationId,
                members: team.teamUsers.map((teamUser)=>({
                        userId: teamUser.userId,
                        name: teamUser.user.name,
                        role: teamUser.role
                    })),
                projects: team.projectTeams.map((projectTeam)=>({
                        projectId: projectTeam.projectId,
                        projectName: projectTeam.project.name,
                        permission: projectTeam.permission
                    }))
            };
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getTeamDetails-${teamId}`
    ], {
        tags: [
            team/* teamCache */.g.tag.byId(teamId)
        ]
    })());
const deleteTeam = async (teamId)=>{
    validateInputs([
        teamId,
        ZId
    ]);
    try {
        const deletedTeam = await prisma.team.delete({
            where: {
                id: teamId
            },
            select: {
                organizationId: true,
                projectTeams: {
                    select: {
                        projectId: true
                    }
                }
            }
        });
        teamCache.revalidate({
            id: teamId,
            organizationId: deletedTeam.organizationId
        });
        for (const projectTeam of deletedTeam.projectTeams){
            teamCache.revalidate({
                projectId: projectTeam.projectId
            });
        }
        return true;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        throw error;
    }
};
const updateTeamDetails = async (teamId, data)=>{
    validateInputs([
        teamId,
        ZId
    ], [
        data,
        ZTeamSettingsFormSchema
    ]);
    try {
        const { name, members, projects } = data;
        const team = await prisma.team.findUnique({
            where: {
                id: teamId
            }
        });
        if (!team) {
            throw new ResourceNotFoundError("Team", teamId);
        }
        const currentTeamDetails = await getTeamDetails(teamId);
        if (!currentTeamDetails) {
            throw new Error("Team not found");
        }
        // Check that all users exist within the organization's membership.
        const userIds = members.map((m)=>m.userId);
        if (userIds.length > 0) {
            const orgUsersCount = await prisma.membership.count({
                where: {
                    userId: {
                        in: userIds
                    },
                    organizationId: team.organizationId
                }
            });
            if (orgUsersCount !== userIds.length) {
                throw new Error("Some specified users do not belong to the organization's membership.");
            }
        }
        // Check that all specified projects belong to the same organization.
        const projectIds = projects.map((p)=>p.projectId);
        if (projectIds.length > 0) {
            const orgProjectsCount = await prisma.project.count({
                where: {
                    id: {
                        in: projectIds
                    },
                    organizationId: team.organizationId
                }
            });
            if (orgProjectsCount !== projectIds.length) {
                throw new Error("Some specified projects do not belong to the organization.");
            }
        }
        // Arrays for tracking member changes
        const deletedMembers = [];
        // Arrays for tracking project changes
        const deletedProjects = [];
        // Determine deleted members (in current but not in new)
        for (const cm of currentTeamDetails.members){
            if (!members.some((m)=>m.userId === cm.userId)) {
                deletedMembers.push(cm.userId);
            }
        }
        // Determine deleted projects (in current but not in new)
        for (const cp of currentTeamDetails.projects){
            if (!projects.some((p)=>p.projectId === cp.projectId)) {
                deletedProjects.push(cp.projectId);
            }
        }
        // Now build the payload using the arrays computed above
        const payload = {
            name: currentTeamDetails.name !== name ? name : undefined,
            teamUsers: {
                deleteMany: {
                    userId: {
                        in: deletedMembers
                    }
                },
                upsert: members.map((m)=>({
                        where: {
                            teamId_userId: {
                                teamId,
                                userId: m.userId
                            }
                        },
                        update: {
                            role: m.role
                        },
                        create: {
                            userId: m.userId,
                            role: m.role
                        }
                    }))
            },
            projectTeams: {
                deleteMany: {
                    projectId: {
                        in: deletedProjects
                    }
                },
                upsert: projects.map((p)=>({
                        where: {
                            projectId_teamId: {
                                teamId,
                                projectId: p.projectId
                            }
                        },
                        update: {
                            permission: p.permission
                        },
                        create: {
                            projectId: p.projectId,
                            permission: p.permission
                        }
                    }))
            }
        };
        await prisma.team.update({
            where: {
                id: teamId
            },
            data: payload
        });
        const changedUserIds = [
            ...members.map((m)=>m.userId),
            ...deletedMembers
        ];
        const changedProjectIds = [
            ...projects.map((p)=>p.projectId),
            ...deletedProjects
        ];
        for (const userId of changedUserIds){
            teamCache.revalidate({
                userId
            });
            projectCache.revalidate({
                userId
            });
        }
        for (const projectId of changedProjectIds){
            teamCache.revalidate({
                projectId
            });
            projectCache.revalidate({
                id: projectId
            });
        }
        teamCache.revalidate({
            id: teamId,
            organizationId: team.organizationId
        });
        projectCache.revalidate({
            organizationId: team.organizationId
        });
        const changedEnvironmentIds = await prisma.environment.findMany({
            where: {
                projectId: {
                    in: changedProjectIds
                }
            },
            select: {
                id: true
            }
        });
        for (const environment of changedEnvironmentIds){
            organizationCache.revalidate({
                environmentId: environment.id
            });
        }
        return true;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        throw error;
    }
};

;// ./lib/cache/membership.ts

const membership_membershipCache = {
    tag: {
        byOrganizationId (organizationId) {
            return `organizations-${organizationId}-memberships`;
        },
        byUserId (userId) {
            return `users-${userId}-memberships`;
        }
    },
    revalidate: ({ organizationId, userId })=>{
        if (organizationId) {
            (0,next_cache.revalidateTag)(membership_membershipCache.tag.byOrganizationId(organizationId));
        }
        if (userId) {
            (0,next_cache.revalidateTag)(membership_membershipCache.tag.byUserId(userId));
        }
    }
};

// EXTERNAL MODULE: ../../packages/lib/constants.ts
var constants = __webpack_require__(836919);
;// ./modules/organization/settings/teams/lib/membership.ts












const getMembershipByOrganizationId = (0,react.cache)(async (organizationId, page)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            common/* ZString */.eI
        ], [
            page,
            common/* ZOptionalNumber */.Wo
        ]);
        try {
            const membersData = await src/* prisma */.z.membership.findMany({
                where: {
                    organizationId
                },
                select: {
                    user: {
                        select: {
                            name: true,
                            email: true
                        }
                    },
                    userId: true,
                    accepted: true,
                    role: true
                },
                take: page ? constants/* ITEMS_PER_PAGE */.re : undefined,
                skip: page ? constants/* ITEMS_PER_PAGE */.re * (page - 1) : undefined
            });
            const members = membersData.map((member)=>{
                return {
                    name: member.user?.name || "",
                    email: member.user?.email || "",
                    userId: member.userId,
                    accepted: member.accepted,
                    role: member.role
                };
            });
            return members;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                console.error(error);
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw new errors/* UnknownError */.Bk("Error while fetching members");
        }
    }, [
        `getMembershipByOrganizationId-${organizationId}-${page}`
    ], {
        tags: [
            membership_membershipCache.tag.byOrganizationId(organizationId)
        ]
    })());
const getOrganizationOwnerCount = (0,react.cache)(async (organizationId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            common/* ZString */.eI
        ]);
        try {
            const ownersCount = await src/* prisma */.z.membership.count({
                where: {
                    organizationId,
                    role: "owner"
                }
            });
            return ownersCount;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getOrganizationOwnerCount-${organizationId}`
    ], {
        tags: [
            membership_membershipCache.tag.byOrganizationId(organizationId)
        ]
    })());
const deleteMembership = async (userId, organizationId)=>{
    validateInputs([
        userId,
        ZString
    ], [
        organizationId,
        ZString
    ]);
    try {
        const deletedTeamMemberships = await prisma.teamUser.findMany({
            where: {
                userId,
                team: {
                    organizationId
                }
            }
        });
        await prisma.$transaction([
            prisma.teamUser.deleteMany({
                where: {
                    userId,
                    team: {
                        organizationId
                    }
                }
            }),
            prisma.membership.delete({
                where: {
                    userId_organizationId: {
                        organizationId,
                        userId
                    }
                }
            })
        ]);
        teamCache.revalidate({
            userId,
            organizationId
        });
        deletedTeamMemberships.forEach((teamMembership)=>{
            teamCache.revalidate({
                id: teamMembership.teamId
            });
        });
        organizationCache.revalidate({
            userId
        });
        membershipCache.revalidate({
            userId,
            organizationId
        });
        return deletedTeamMemberships;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        throw error;
    }
};
const getMembershipsByUserId = (0,react.cache)(async (userId, page)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            userId,
            common/* ZString */.eI
        ], [
            page,
            common/* ZOptionalNumber */.Wo
        ]);
        try {
            const memberships = await src/* prisma */.z.membership.findMany({
                where: {
                    userId
                },
                take: page ? constants/* ITEMS_PER_PAGE */.re : undefined,
                skip: page ? constants/* ITEMS_PER_PAGE */.re * (page - 1) : undefined
            });
            return memberships;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getMembershipsByUserId-${userId}-${page}`
    ], {
        tags: [
            membership_membershipCache.tag.byUserId(userId)
        ]
    })());
const getMembersByOrganizationId = (0,react.cache)(async (organizationId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            common/* ZString */.eI
        ]);
        try {
            const membersData = await src/* prisma */.z.membership.findMany({
                where: {
                    organizationId
                },
                select: {
                    user: {
                        select: {
                            name: true
                        }
                    },
                    role: true,
                    userId: true
                }
            });
            const members = membersData.map((member)=>{
                return {
                    id: member.userId,
                    name: member.user?.name || "",
                    role: member.role
                };
            });
            return members;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getMembersByOrganizationId-${organizationId}`
    ], {
        tags: [
            membership_membershipCache.tag.byOrganizationId(organizationId)
        ]
    })());

// EXTERNAL MODULE: ./modules/ui/components/upgrade-prompt/index.tsx
var upgrade_prompt = __webpack_require__(353959);
// EXTERNAL MODULE: ./tolgee/server.tsx + 2 modules
var server = __webpack_require__(186184);
;// ./modules/ee/teams/team-list/components/teams-view.tsx









const TeamsView = async ({ organizationId, membershipRole, currentUserId, canDoRoleManagement, environmentId })=>{
    const t = await (0,server/* getTranslate */.r)();
    const [teams, orgMembers, orgProjects] = await Promise.all([
        getTeams(currentUserId, organizationId),
        getMembersByOrganizationId(organizationId),
        getProjectsByOrganizationId(organizationId)
    ]);
    if (!teams) {
        throw new Error(t("common.teams_not_found"));
    }
    const buttons = [
        {
            text: t("common.start_free_trial"),
            href: constants/* IS_FORMBRICKS_CLOUD */.Si ? `/environments/${environmentId}/settings/billing` : "https://formbricks.com/docs/self-hosting/license#30-day-trial-license-request"
        },
        {
            text: t("common.learn_more"),
            href: "https://formbricks.com/docs/self-hosting/license"
        }
    ];
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(SettingsCard.SettingsCard, {
        title: t("environments.settings.teams.teams"),
        description: t("environments.settings.teams.teams_description"),
        children: canDoRoleManagement ? /*#__PURE__*/ (0,react_jsx_runtime.jsx)(teams_table.TeamsTable, {
            teams: teams,
            membershipRole: membershipRole,
            organizationId: organizationId,
            orgMembers: orgMembers,
            orgProjects: orgProjects,
            currentUserId: currentUserId
        }) : /*#__PURE__*/ (0,react_jsx_runtime.jsx)(upgrade_prompt/* UpgradePrompt */.d, {
            title: t("environments.settings.teams.unlock_teams_title"),
            description: t("environments.settings.teams.unlock_teams_description"),
            buttons: buttons
        })
    });
};

// EXTERNAL MODULE: ./modules/organization/settings/teams/components/edit-memberships/members-info.tsx
var members_info = __webpack_require__(844378);
// EXTERNAL MODULE: ./lib/cache/invite.ts
var invite = __webpack_require__(349083);
;// ./modules/organization/settings/teams/lib/invite.ts










const resendInvite = async (inviteId)=>{
    try {
        const invite = await prisma.invite.findUnique({
            where: {
                id: inviteId
            },
            select: {
                email: true,
                name: true,
                creator: true
            }
        });
        if (!invite) {
            throw new ResourceNotFoundError("Invite", inviteId);
        }
        const updatedInvite = await prisma.invite.update({
            where: {
                id: inviteId
            },
            data: {
                expiresAt: new Date(Date.now() + 1000 * 60 * 60 * 24 * 7)
            },
            select: {
                id: true,
                email: true,
                name: true,
                organizationId: true
            }
        });
        inviteCache.revalidate({
            id: updatedInvite.id,
            organizationId: updatedInvite.organizationId
        });
        return {
            email: updatedInvite.email,
            name: updatedInvite.name
        };
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        throw error;
    }
};
const getInvitesByOrganizationId = (0,react.cache)(async (organizationId, page)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            organizationId,
            lib.z.string()
        ], [
            page,
            lib.z.number().optional()
        ]);
        try {
            const invites = await src/* prisma */.z.invite.findMany({
                where: {
                    organizationId
                },
                select: {
                    expiresAt: true,
                    role: true,
                    email: true,
                    name: true,
                    id: true,
                    createdAt: true
                },
                take: page ? constants/* ITEMS_PER_PAGE */.re : undefined,
                skip: page ? constants/* ITEMS_PER_PAGE */.re * (page - 1) : undefined
            });
            return invites;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getInvitesByOrganizationId-${organizationId}-${page}`
    ], {
        tags: [
            invite/* inviteCache */.i.tag.byOrganizationId(organizationId)
        ]
    })());
const inviteUser = async ({ invitee, organizationId, currentUserId })=>{
    try {
        const { name, email, role, teamIds } = invitee;
        const existingInvite = await prisma.invite.findFirst({
            where: {
                email,
                organizationId
            }
        });
        if (existingInvite) {
            throw new InvalidInputError("Invite already exists");
        }
        const user = await prisma.user.findUnique({
            where: {
                email
            }
        });
        if (user) {
            const member = await getMembershipByUserIdOrganizationId(user.id, organizationId);
            if (member) {
                throw new InvalidInputError("User is already a member of this organization");
            }
        }
        const teamIdsSet = new Set(teamIds);
        if (teamIdsSet.size !== teamIds.length) {
            throw new ValidationError("teamIds must be unique");
        }
        const teams = await prisma.team.findMany({
            where: {
                id: {
                    in: teamIds
                },
                organizationId
            }
        });
        if (teams.length !== teamIds.length) {
            throw new ValidationError("Invalid teamIds");
        }
        const expiresIn = 7 * 24 * 60 * 60 * 1000; // 7 days
        const expiresAt = new Date(Date.now() + expiresIn);
        const invite = await prisma.invite.create({
            data: {
                email,
                name,
                organization: {
                    connect: {
                        id: organizationId
                    }
                },
                creator: {
                    connect: {
                        id: currentUserId
                    }
                },
                acceptor: user ? {
                    connect: {
                        id: user.id
                    }
                } : undefined,
                role,
                expiresAt,
                teamIds: {
                    set: teamIds
                }
            }
        });
        inviteCache.revalidate({
            id: invite.id,
            organizationId: invite.organizationId
        });
        return invite.id;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        throw error;
    }
};
const deleteInvite = async (inviteId)=>{
    try {
        const invite = await prisma.invite.delete({
            where: {
                id: inviteId
            },
            select: {
                id: true,
                organizationId: true
            }
        });
        if (!invite) {
            throw new ResourceNotFoundError("Invite", inviteId);
        }
        inviteCache.revalidate({
            id: invite.id,
            organizationId: invite.organizationId
        });
        return true;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        throw error;
    }
};
const getInvite = (0,react.cache)(async (inviteId)=>(0,cache/* cache */.P)(async ()=>{
        try {
            const invite = await src/* prisma */.z.invite.findUnique({
                where: {
                    id: inviteId
                },
                select: {
                    email: true,
                    creator: {
                        select: {
                            name: true
                        }
                    }
                }
            });
            return invite;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `teams-getInvite-${inviteId}`
    ], {
        tags: [
            invite/* inviteCache */.i.tag.byId(inviteId)
        ]
    })());

;// ./modules/organization/settings/teams/components/edit-memberships/edit-memberships.tsx






const EditMemberships = async ({ organization, currentUserId, role, canDoRoleManagement })=>{
    const members = await getMembershipByOrganizationId(organization.id);
    const invites = await getInvitesByOrganizationId(organization.id);
    const t = await (0,server/* getTranslate */.r)();
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
            className: "rounded-lg border border-slate-200",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    className: "grid h-12 grid-cols-5 content-center rounded-t-lg bg-slate-100 px-4 text-left text-sm font-semibold text-slate-900",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "col-span-1",
                            children: t("common.full_name")
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "col-span-1 text-center",
                            children: t("common.email")
                        }),
                        canDoRoleManagement && /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "col-span-1 text-center",
                            children: t("common.role")
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "col-span-1 text-center",
                            children: t("common.status")
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "col-span-1"
                        })
                    ]
                }),
                role && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(members_info.MembersInfo, {
                    organization: organization,
                    currentUserId: currentUserId,
                    invites: invites ?? [],
                    members: members ?? [],
                    currentUserRole: role,
                    canDoRoleManagement: canDoRoleManagement,
                    isFormbricksCloud: constants/* IS_FORMBRICKS_CLOUD */.Si
                })
            ]
        })
    });
};

;// ./modules/organization/settings/teams/components/edit-memberships/index.ts


// EXTERNAL MODULE: ./modules/organization/settings/teams/components/edit-memberships/organization-actions.tsx
var organization_actions = __webpack_require__(185779);
// EXTERNAL MODULE: ../../packages/lib/membership/utils.ts
var membership_utils = __webpack_require__(159570);
;// ./modules/organization/settings/teams/components/members-view.tsx











const MembersLoading = ()=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
        className: "px-2",
        children: Array.from(Array(2)).map((_, index)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                className: "mt-4",
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                    className: `h-8 w-80 animate-pulse rounded-full bg-slate-200`
                })
            }, index))
    });
const MembersView = async ({ membershipRole, organization, currentUserId, environmentId, canDoRoleManagement })=>{
    const t = await (0,server/* getTranslate */.r)();
    const { isOwner, isManager } = (0,membership_utils/* getAccessFlags */.c)(membershipRole);
    const isOwnerOrManager = isManager || isOwner;
    const userMemberships = await getMembershipsByUserId(currentUserId);
    const isLeaveOrganizationDisabled = userMemberships.length <= 1;
    const isMultiOrgEnabled = await (0,utils/* getIsMultiOrgEnabled */.pn)();
    let teams = [];
    if (canDoRoleManagement) {
        teams = await getTeamsByOrganizationId(organization.id) ?? [];
        if (!teams) {
            throw new Error(t("common.teams_not_found"));
        }
    }
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(SettingsCard.SettingsCard, {
        title: t("environments.settings.general.manage_members"),
        description: t("environments.settings.general.manage_members_description"),
        children: [
            membershipRole && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(organization_actions.OrganizationActions, {
                organization: organization,
                isOwnerOrManager: isOwnerOrManager,
                role: membershipRole,
                isLeaveOrganizationDisabled: isLeaveOrganizationDisabled,
                isInviteDisabled: constants/* INVITE_DISABLED */.br,
                canDoRoleManagement: canDoRoleManagement,
                isFormbricksCloud: constants/* IS_FORMBRICKS_CLOUD */.Si,
                environmentId: environmentId,
                isMultiOrgEnabled: isMultiOrgEnabled,
                teams: teams
            }),
            membershipRole && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(react.Suspense, {
                fallback: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(MembersLoading, {}),
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(EditMemberships, {
                    canDoRoleManagement: canDoRoleManagement,
                    organization: organization,
                    currentUserId: currentUserId,
                    role: membershipRole
                })
            })
        ]
    });
};

// EXTERNAL MODULE: ./modules/ui/components/page-content-wrapper/index.tsx
var page_content_wrapper = __webpack_require__(746219);
// EXTERNAL MODULE: ./modules/ui/components/page-header/index.tsx
var page_header = __webpack_require__(109053);
// EXTERNAL MODULE: ../../node_modules/next-auth/index.js
var next_auth = __webpack_require__(963302);
// EXTERNAL MODULE: ../../packages/lib/membership/service.ts
var service = __webpack_require__(377968);
// EXTERNAL MODULE: ../../packages/lib/organization/service.ts
var organization_service = __webpack_require__(353687);
;// ./modules/organization/settings/teams/page.tsx













const TeamsPage = async (props)=>{
    const params = await props.params;
    const t = await (0,server/* getTranslate */.r)();
    const session = await (0,next_auth.getServerSession)(authOptions/* authOptions */.N);
    if (!session) {
        throw new Error(t("common.session_not_found"));
    }
    const organization = await (0,organization_service/* getOrganizationByEnvironmentId */.TK)(params.environmentId);
    if (!organization) {
        throw new Error(t("common.organization_not_found"));
    }
    const canDoRoleManagement = await (0,utils/* getRoleManagementPermission */.rQ)(organization);
    const currentUserMembership = await (0,service/* getMembershipByUserIdOrganizationId */.Y)(session?.user.id, organization.id);
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(page_content_wrapper/* PageContentWrapper */.s, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(page_header/* PageHeader */.z, {
                pageTitle: t("environments.settings.general.organization_settings"),
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(OrganizationSettingsNavbar.OrganizationSettingsNavbar, {
                    environmentId: params.environmentId,
                    isFormbricksCloud: constants/* IS_FORMBRICKS_CLOUD */.Si,
                    membershipRole: currentUserMembership?.role,
                    activeId: "teams"
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(MembersView, {
                membershipRole: currentUserMembership?.role,
                organization: organization,
                currentUserId: session.user.id,
                environmentId: params.environmentId,
                canDoRoleManagement: canDoRoleManagement
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(TeamsView, {
                organizationId: organization.id,
                membershipRole: currentUserMembership?.role,
                currentUserId: session.user.id,
                canDoRoleManagement: canDoRoleManagement,
                environmentId: params.environmentId
            })
        ]
    });
};

;// ./app/(app)/environments/[environmentId]/settings/(organization)/teams/page.tsx

/* harmony default export */ const page = (TeamsPage);


/***/ }),

/***/ 42304:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SettingsCard: () => (/* binding */ SettingsCard)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const SettingsCard = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call SettingsCard() from the server but SettingsCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/settings/components/SettingsCard.tsx",
"SettingsCard",
);

/***/ }),

/***/ 349083:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ inviteCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87863);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const inviteCache = {
    tag: {
        byId (id) {
            return `invites-${id}`;
        },
        byOrganizationId (organizationId) {
            return `organizations-${organizationId}-invites`;
        }
    },
    revalidate ({ id, organizationId }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (organizationId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byOrganizationId(organizationId));
        }
    }
};


/***/ }),

/***/ 821490:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TeamsTable: () => (/* binding */ TeamsTable)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const TeamsTable = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call TeamsTable() from the server but TeamsTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/ee/teams/team-list/components/teams-table.tsx",
"TeamsTable",
);

/***/ }),

/***/ 844378:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MembersInfo: () => (/* binding */ MembersInfo)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const MembersInfo = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call MembersInfo() from the server but MembersInfo is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/organization/settings/teams/components/edit-memberships/members-info.tsx",
"MembersInfo",
);

/***/ }),

/***/ 185779:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OrganizationActions: () => (/* binding */ OrganizationActions)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const OrganizationActions = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call OrganizationActions() from the server but OrganizationActions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/organization/settings/teams/components/edit-memberships/organization-actions.tsx",
"OrganizationActions",
);

/***/ }),

/***/ 746219:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   s: () => (/* binding */ PageContentWrapper)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(598597);


const PageContentWrapper = ({ children, className })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("h-full space-y-6 p-6", className),
        children: children
    });
};


/***/ }),

/***/ 109053:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   z: () => (/* binding */ PageHeader)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(598597);


const PageHeader = ({ cta, pageTitle, children })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: "border-b border-slate-200",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "flex items-center justify-between space-x-4 pb-4",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", {
                        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("text-3xl font-bold capitalize text-slate-800"),
                        children: pageTitle
                    }),
                    cta
                ]
            }),
            children
        ]
    });
};


/***/ }),

/***/ 353959:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ UpgradePrompt)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(474292);
/* harmony import */ var _barrel_optimize_names_KeyIcon_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(580685);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(853648);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);




const UpgradePrompt = ({ title, description, buttons })=>{
    const [primaryButton, secondaryButton] = buttons;
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: "flex w-full flex-col items-center gap-6 p-6",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                className: "rounded-md border border-slate-200 p-3",
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_KeyIcon_lucide_react__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A, {
                    className: "h-6 w-6 text-slate-900"
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "flex max-w-[80%] flex-col items-center gap-2 text-center",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                        className: "text-xl font-semibold text-slate-900",
                        children: title
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                        className: "text-sm text-slate-500",
                        children: description
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "flex gap-3",
                children: [
                    primaryButton.href ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        asChild: true,
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                            href: primaryButton.href,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            children: primaryButton.text
                        })
                    }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        onClick: primaryButton.onClick,
                        children: primaryButton.text
                    }),
                    secondaryButton.href ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        variant: "secondary",
                        asChild: true,
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                            href: secondaryButton.href,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            children: secondaryButton.text
                        })
                    }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        variant: "secondary",
                        onClick: secondaryButton.onClick,
                        children: secondaryButton.text
                    })
                ]
            })
        ]
    });
};


/***/ }),

/***/ 580685:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Key)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(652793);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Key = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Key", [
    [
        "path",
        {
            d: "m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",
            key: "g0fldk"
        }
    ],
    [
        "path",
        {
            d: "m21 2-9.6 9.6",
            key: "1j0ho8"
        }
    ],
    [
        "circle",
        {
            cx: "7.5",
            cy: "15.5",
            r: "5.5",
            key: "yqb3hr"
        }
    ]
]);
 //# sourceMappingURL=key.js.map


/***/ }),

/***/ 598597:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cn: () => (/* binding */ cn)
/* harmony export */ });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(966190);
/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(263798);


const cn = (...inputs)=>{
    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__/* .twMerge */ .QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__/* .clsx */ .$)(inputs));
};


/***/ }),

/***/ 38431:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ getAccessFlags)
/* harmony export */ });
const getAccessFlags = (role)=>{
    const isOwner = role === "owner";
    const isManager = role === "manager";
    const isBilling = role === "billing";
    const isMember = role === "member";
    return {
        isManager,
        isOwner,
        isBilling,
        isMember
    };
};


/***/ }),

/***/ 809391:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (/* binding */ usePrevious)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891616);
// packages/react/use-previous/src/usePrevious.tsx

function usePrevious(value) {
  const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef({ value, previous: value });
  return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {
    if (ref.current.value !== value) {
      ref.current.previous = ref.current.value;
      ref.current.value = value;
    }
    return ref.current.previous;
  }, [value]);
}

//# sourceMappingURL=index.mjs.map


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [8079,3073,7863,5069,255,9759,6626,5570,1238,2021,9069,2195,7762,1469,5294,4900,6911,2075,1659,5667,6689,2446,9726,497,4218,9325,8785,3798,2415,6397,3687,7864,8046,8235,5752,3840,9160,4660,8310,1612,8015,2171], () => (__webpack_exec__(385795)));
module.exports = __webpack_exports__;

})();
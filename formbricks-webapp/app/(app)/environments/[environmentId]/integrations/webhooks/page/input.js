(() => {
var exports = {};
exports.id = 1810;
exports.ids = [1810];
exports.modules = {

/***/ 191043:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ 741000:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/s3-presigned-post");

/***/ }),

/***/ 531701:
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/s3-request-presigner");

/***/ }),

/***/ 896330:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ 560483:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client/scripts/default-index.js");

/***/ }),

/***/ 710846:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.prod.js");

/***/ }),

/***/ 419121:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ 903295:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ 529294:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ 663033:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ 912412:
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ 979428:
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ 455511:
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ 594735:
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ 629021:
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ 79748:
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ 781630:
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ 55591:
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ 491645:
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ 321820:
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ 333873:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 111723:
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ 927910:
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ 134631:
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ 583997:
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ 379551:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 328354:
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ 173566:
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ 74075:
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ 504573:
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ 977598:
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ 973024:
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ 937067:
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ 344708:
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ 777030:
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ 176760:
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ 1708:
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ 157075:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ 337830:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ 173136:
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ 257975:
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ 638522:
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ 528557:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   routeModule: () => (/* binding */ routeModule),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(290735);
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(291232);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(272914);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(240085);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if(["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
const module0 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 86397));
const module1 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 836653));
const module2 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 956791));
const module3 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module4 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module5 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 524160));
const module6 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module7 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module8 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 830691));
const page9 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 210821));


// We inject the tree and pages here so that we can use them in the route
// module.
const tree = {
        children: [
        '',
        {
        children: [
        '(app)',
        {
        children: [
        'environments',
        {
        children: [
        '[environmentId]',
        {
        children: [
        'integrations',
        {
        children: [
        'webhooks',
        {
        children: ['__PAGE__', {}, {
          page: [page9, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/integrations/webhooks/page.tsx"],
          
        }]
      },
        {
        
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module8, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/layout.tsx"],
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module5, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/layout.tsx"],
'forbidden': [module6, "next/dist/client/components/forbidden-error"],
'unauthorized': [module7, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      },
        {
        'layout': [module0, "/Users/kdy1/projects/formbricks/apps/web/app/layout.tsx"],
'error': [module1, "/Users/kdy1/projects/formbricks/apps/web/app/error.tsx"],
'not-found': [module2, "/Users/kdy1/projects/formbricks/apps/web/app/not-found.tsx"],
'forbidden': [module3, "next/dist/client/components/forbidden-error"],
'unauthorized': [module4, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      }.children;
const pages = ["/Users/kdy1/projects/formbricks/apps/web/app/(app)/environments/[environmentId]/integrations/webhooks/page.tsx"];


const __next_app_require__ = __webpack_require__
const __next_app_load_chunk__ = () => Promise.resolve()
const __next_app__ = {
    require: __next_app_require__,
    loadChunk: __next_app_load_chunk__
};

// Create and export the route module that will be consumed.
const routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({
    definition: {
        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,
        page: "/(app)/environments/[environmentId]/integrations/webhooks/page",
        pathname: "/environments/[environmentId]/integrations/webhooks",
        // The following aren't used in production.
        bundlePath: '',
        filename: '',
        appPaths: []
    },
    userland: {
        loaderTree: tree
    }
});

//# sourceMappingURL=app-page.js.map

/***/ }),

/***/ 275053:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "7f11f2efac37ac84796e6cb223722dbe2e808e177f": () => (/* reexport */ services/* getResponse */.mi),
  "7f12957c3365cc2950bdc48f0118f82439eb6c23ec": () => (/* reexport */ services/* getSurvey */.Dp),
  "7f20db167926d501ff62b9525526548773c8a436d4": () => (/* reexport */ services/* isTeamPartOfOrganization */.l5),
  "7f2431fc3b8c6c124a1868f9a0b34d77983cdb9649": () => (/* reexport */ actions/* getLatestStableFbReleaseAction */.aX),
  "7f24b3d27813511aef08364975a20983e61a3dde87": () => (/* reexport */ actions/* getActiveInactiveSurveysAction */.bN),
  "7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1": () => (/* reexport */ testEndpointAction),
  "7f36cf02b548a01d85112f587591e8c1e8390fa538": () => (/* reexport */ services/* isProjectPartOfOrganization */.Xj),
  "7f46e9808e4d954284435145940483d8d766cfe98d": () => (/* reexport */ createWebhookAction),
  "7f4f2c9c8b657cf906e9a25e65dafac6ec65967916": () => (/* reexport */ services/* getWebhook */.O0),
  "7f540889be00b7aa8c6ff1edc5cd79ece876954fd3": () => (/* reexport */ services/* getInvite */.I_),
  "7f60061b4b6be335eaa2facd1c5d8129b87f6923f4": () => (/* reexport */ services/* getActionClass */.Bx),
  "7f607ac975565ce495ac2952cf2bd35183ca9684ec": () => (/* reexport */ actions/* updateActionClassAction */.gn),
  "7f670a0537f96de8b5156e1b206124b2a990484370": () => (/* reexport */ services/* getApiKey */.CG),
  "7f74bd40a1f82de833915085152910f3ebd525b356": () => (/* reexport */ services/* getTeam */.Uo),
  "7f82763127a11eaaa934ce7fb0ffd1f148bfd60c06": () => (/* reexport */ actions/* deleteActionClassAction */.ir),
  "7fa0fcf7aa6985e7b6d4965dc6a88e4f982b27e2ce": () => (/* reexport */ deleteWebhookAction),
  "7fb9a3e6cbebea226c9a3678f31bfebf532ca7321e": () => (/* reexport */ services/* getResponseNote */.Wy),
  "7fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1": () => (/* reexport */ services/* getTag */.bH),
  "7fc6abb0838b6422ef7e81141fd6603883cd1990cf": () => (/* reexport */ services/* getDocument */.YE),
  "7fc856fe5dd5f698d2f54dacf4280d447336780427": () => (/* reexport */ services/* getLanguage */.Z0),
  "7fcda0e6bf50febdf861015e25ebdf74068a488dde": () => (/* reexport */ services/* getContact */.bl),
  "7fcfea9518c327899180b23cb3055005ba65cdef33": () => (/* reexport */ services/* getIntegration */.rg),
  "7fdb06c584a2145e0f48be9ead409fc7f774731fde": () => (/* reexport */ services/* getEnvironment */.uc),
  "7fdcbaf3445e783557d350b55d91be1398fafca7d3": () => (/* reexport */ services/* getInsight */.zv),
  "7fe763f2c0d5f307cc75c26f23c693a54ac24a3112": () => (/* reexport */ services/* getProject */.U1),
  "7ff27151c29d7402abd744ae983a2c25b016ccf26f": () => (/* reexport */ organization_actions/* createOrganizationAction */.s),
  "7ffb22c619704253744e9b5fea4eccca8b0808fb64": () => (/* reexport */ services/* getSegment */.kn),
  "7ffc4e7cb10c53227d0d8093ea20ba93e6bdf12e68": () => (/* reexport */ updateWebhookAction)
});

// EXTERNAL MODULE: ./app/(app)/environments/[environmentId]/actions/actions.ts
var actions = __webpack_require__(933166);
// EXTERNAL MODULE: ./lib/utils/services.ts
var services = __webpack_require__(883212);
// EXTERNAL MODULE: ./modules/organization/actions.ts
var organization_actions = __webpack_require__(57841);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js
var server_reference = __webpack_require__(286055);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/app-render/encryption.js
var encryption = __webpack_require__(770767);
// EXTERNAL MODULE: ./lib/utils/action-client.ts
var action_client = __webpack_require__(308046);
// EXTERNAL MODULE: ./lib/utils/action-client-middleware.ts
var action_client_middleware = __webpack_require__(729455);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(440388);
// EXTERNAL MODULE: ./lib/cache/webhook.ts
var webhook = __webpack_require__(638234);
;// ./modules/integrations/webhooks/lib/utils.ts
const validWebHookURL = (urlInput)=>{
    const trimmedInput = urlInput.trim();
    if (!trimmedInput) {
        return {
            valid: false,
            error: "Please enter a URL"
        };
    }
    try {
        const url = new URL(trimmedInput);
        if (url.protocol !== "https:") {
            return {
                valid: false,
                error: "URL must start with https://"
            };
        }
        const domainError = "Please enter a complete URL with a valid domain (e.g., https://formbricks.com)";
        const multipleSlashesPattern = /(?<!:)\/\/+/;
        if (multipleSlashesPattern.test(trimmedInput)) {
            return {
                valid: false,
                error: domainError
            };
        }
        const validDomainPattern = /^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        if (!validDomainPattern.test(url.hostname)) {
            return {
                valid: false,
                error: domainError
            };
        }
        return {
            valid: true
        };
    } catch (error) {
        return {
            valid: false,
            error: "Invalid URL format. Please enter a complete URL including https://"
        };
    }
};
const isDiscordWebhook = (urlString)=>{
    const url = new URL(urlString);
    const DISCORD_WEBHOOK_URL_PATTERN = /^https:\/\/discord\.com\/api\/webhooks\/\d+\/.+$/;
    return DISCORD_WEBHOOK_URL_PATTERN.test(url.toString());
};

// EXTERNAL MODULE: external "@prisma/client"
var client_ = __webpack_require__(896330);
// EXTERNAL MODULE: ../../packages/database/src/index.ts + 1 modules
var src = __webpack_require__(482859);
// EXTERNAL MODULE: ../../packages/types/errors.ts
var errors = __webpack_require__(207798);
;// ./modules/integrations/webhooks/lib/webhook.ts








const updateWebhook = async (webhookId, webhookInput)=>{
    try {
        const updatedWebhook = await src/* prisma */.z.webhook.update({
            where: {
                id: webhookId
            },
            data: {
                name: webhookInput.name,
                url: webhookInput.url,
                triggers: webhookInput.triggers,
                surveyIds: webhookInput.surveyIds || []
            }
        });
        webhook/* webhookCache */.Q.revalidate({
            id: updatedWebhook.id,
            environmentId: updatedWebhook.environmentId,
            source: updatedWebhook.source
        });
        return true;
    } catch (error) {
        if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
            throw new errors/* DatabaseError */.a$(error.message);
        }
        throw error;
    }
};
const deleteWebhook = async (id)=>{
    try {
        let deletedWebhook = await src/* prisma */.z.webhook.delete({
            where: {
                id
            }
        });
        webhook/* webhookCache */.Q.revalidate({
            id: deletedWebhook.id,
            environmentId: deletedWebhook.environmentId,
            source: deletedWebhook.source
        });
        return true;
    } catch (error) {
        if (error instanceof client_.Prisma.PrismaClientKnownRequestError && error.code === "P2025") {
            throw new errors/* ResourceNotFoundError */.CE("Webhook", id);
        }
        throw new errors/* DatabaseError */.a$(`Database error when deleting webhook with ID ${id}`);
    }
};
const createWebhook = async (environmentId, webhookInput)=>{
    try {
        if (isDiscordWebhook(webhookInput.url)) {
            throw new errors/* UnknownError */.Bk("Discord webhooks are currently not supported.");
        }
        const createdWebhook = await src/* prisma */.z.webhook.create({
            data: {
                ...webhookInput,
                surveyIds: webhookInput.surveyIds || [],
                environment: {
                    connect: {
                        id: environmentId
                    }
                }
            }
        });
        webhook/* webhookCache */.Q.revalidate({
            id: createdWebhook.id,
            environmentId: createdWebhook.environmentId,
            source: createdWebhook.source
        });
        return true;
    } catch (error) {
        if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
            throw new errors/* DatabaseError */.a$(error.message);
        }
        if (!(error instanceof errors/* InvalidInputError */.oC)) {
            throw new errors/* DatabaseError */.a$(`Database error when creating webhook for environment ${environmentId}`);
        }
        throw error;
    }
};
const getWebhooks = (environmentId)=>cache(async ()=>{
        validateInputs([
            environmentId,
            ZId
        ]);
        try {
            const webhooks = await prisma.webhook.findMany({
                where: {
                    environmentId: environmentId
                },
                orderBy: {
                    createdAt: "desc"
                }
            });
            return webhooks;
        } catch (error) {
            if (error instanceof Prisma.PrismaClientKnownRequestError) {
                throw new DatabaseError(error.message);
            }
            throw error;
        }
    }, [
        `getWebhooks-${environmentId}`
    ], {
        tags: [
            webhookCache.tag.byEnvironmentId(environmentId)
        ]
    })();
const testEndpoint = async (url)=>{
    try {
        const controller = new AbortController();
        const timeout = setTimeout(()=>controller.abort(), 5000);
        if (isDiscordWebhook(url)) {
            throw new errors/* UnknownError */.Bk("Discord webhooks are currently not supported.");
        }
        const response = await fetch(url, {
            method: "POST",
            body: JSON.stringify({
                event: "testEndpoint"
            }),
            headers: {
                "Content-Type": "application/json"
            },
            signal: controller.signal
        });
        clearTimeout(timeout);
        const statusCode = response.status;
        if (statusCode >= 200 && statusCode < 300) {
            return true;
        } else {
            const errorMessage = await response.text().then((text)=>text.substring(0, 1000) // Limit error message size
            );
            throw new errors/* UnknownError */.Bk(`Request failed with status code ${statusCode}: ${errorMessage}`);
        }
    } catch (error) {
        if (error.name === "AbortError") {
            throw new errors/* UnknownError */.Bk("Request timed out after 5 seconds");
        }
        if (error instanceof errors/* UnknownError */.Bk) {
            throw error;
        }
        throw new errors/* UnknownError */.Bk(`Error while fetching the URL: ${error.message}`);
    }
};

// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(283131);
;// ../../packages/database/zod/webhooks.ts

const ZWebhook = lib.z.object({
    id: lib.z.string().cuid2(),
    name: lib.z.string().nullable(),
    createdAt: lib.z.date(),
    updatedAt: lib.z.date(),
    url: lib.z.string().url(),
    source: lib.z.enum([
        "user",
        "zapier",
        "make",
        "n8n"
    ]),
    environmentId: lib.z.string().cuid2(),
    triggers: lib.z.array(lib.z.enum([
        "responseFinished",
        "responseCreated",
        "responseUpdated"
    ])),
    surveyIds: lib.z.array(lib.z.string().cuid2())
});

;// ./modules/integrations/webhooks/types/webhooks.ts

const ZWebhookInput = ZWebhook.partial({
    name: true,
    source: true,
    surveyIds: true
}).pick({
    name: true,
    source: true,
    surveyIds: true,
    triggers: true,
    url: true
});

// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(552224);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js
var action_validate = __webpack_require__(429931);
;// ./modules/integrations/webhooks/actions.ts
/* __next_internal_action_entry_do_not_use__ {"7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1":"testEndpointAction","7f46e9808e4d954284435145940483d8d766cfe98d":"createWebhookAction","7fa0fcf7aa6985e7b6d4965dc6a88e4f982b27e2ce":"deleteWebhookAction","7ffc4e7cb10c53227d0d8093ea20ba93e6bdf12e68":"updateWebhookAction"} */ 








const ZCreateWebhookAction = lib.z.object({
    environmentId: common/* ZId */.i4,
    webhookInput: ZWebhookInput
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ createWebhookAction = action_client/* authenticatedActionClient */.D.schema(ZCreateWebhookAction).action(async ({ ctx, parsedInput })=>{
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: await (0,helper/* getOrganizationIdFromEnvironmentId */.X_)(parsedInput.environmentId),
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            },
            {
                type: "projectTeam",
                minPermission: "read",
                projectId: await (0,helper/* getProjectIdFromEnvironmentId */.DU)(parsedInput.environmentId)
            }
        ]
    });
    return await createWebhook(parsedInput.environmentId, parsedInput.webhookInput);
});
const ZDeleteWebhookAction = lib.z.object({
    id: common/* ZId */.i4
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ deleteWebhookAction = action_client/* authenticatedActionClient */.D.schema(ZDeleteWebhookAction).action(async ({ ctx, parsedInput })=>{
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: await (0,helper/* getOrganizationIdFromWebhookId */.Vd)(parsedInput.id),
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            },
            {
                type: "projectTeam",
                minPermission: "readWrite",
                projectId: await (0,helper/* getProjectIdFromWebhookId */.lp)(parsedInput.id)
            }
        ]
    });
    return await deleteWebhook(parsedInput.id);
});
const ZUpdateWebhookAction = lib.z.object({
    webhookId: common/* ZId */.i4,
    webhookInput: ZWebhookInput
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ updateWebhookAction = action_client/* authenticatedActionClient */.D.schema(ZUpdateWebhookAction).action(async ({ ctx, parsedInput })=>{
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: await (0,helper/* getOrganizationIdFromWebhookId */.Vd)(parsedInput.webhookId),
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            },
            {
                type: "projectTeam",
                minPermission: "readWrite",
                projectId: await (0,helper/* getProjectIdFromWebhookId */.lp)(parsedInput.webhookId)
            }
        ]
    });
    return await updateWebhook(parsedInput.webhookId, parsedInput.webhookInput);
});
const ZTestEndpointAction = lib.z.object({
    url: lib.z.string()
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ testEndpointAction = action_client/* authenticatedActionClient */.D.schema(ZTestEndpointAction).action(async ({ parsedInput })=>{
    return testEndpoint(parsedInput.url);
});

(0,action_validate/* ensureServerEntryExports */.D)([
    createWebhookAction,
    deleteWebhookAction,
    updateWebhookAction,
    testEndpointAction
]);
(0,server_reference/* registerServerReference */.A)(createWebhookAction, "7f46e9808e4d954284435145940483d8d766cfe98d", null);
(0,server_reference/* registerServerReference */.A)(deleteWebhookAction, "7fa0fcf7aa6985e7b6d4965dc6a88e4f982b27e2ce", null);
(0,server_reference/* registerServerReference */.A)(updateWebhookAction, "7ffc4e7cb10c53227d0d8093ea20ba93e6bdf12e68", null);
(0,server_reference/* registerServerReference */.A)(testEndpointAction, "7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1", null);

;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fapp%2F(app)%2Fenvironments%2F%5BenvironmentId%5D%2Factions%2Factions.ts%22%2C%5B%5B%227f2431fc3b8c6c124a1868f9a0b34d77983cdb9649%22%2C%22getLatestStableFbReleaseAction%22%5D%2C%5B%227f24b3d27813511aef08364975a20983e61a3dde87%22%2C%22getActiveInactiveSurveysAction%22%5D%2C%5B%227f607ac975565ce495ac2952cf2bd35183ca9684ec%22%2C%22updateActionClassAction%22%5D%2C%5B%227f82763127a11eaaa934ce7fb0ffd1f148bfd60c06%22%2C%22deleteActionClassAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Flib%2Futils%2Fservices.ts%22%2C%5B%5B%227f11f2efac37ac84796e6cb223722dbe2e808e177f%22%2C%22getResponse%22%5D%2C%5B%227f12957c3365cc2950bdc48f0118f82439eb6c23ec%22%2C%22getSurvey%22%5D%2C%5B%227f20db167926d501ff62b9525526548773c8a436d4%22%2C%22isTeamPartOfOrganization%22%5D%2C%5B%227f36cf02b548a01d85112f587591e8c1e8390fa538%22%2C%22isProjectPartOfOrganization%22%5D%2C%5B%227f4f2c9c8b657cf906e9a25e65dafac6ec65967916%22%2C%22getWebhook%22%5D%2C%5B%227f540889be00b7aa8c6ff1edc5cd79ece876954fd3%22%2C%22getInvite%22%5D%2C%5B%227f60061b4b6be335eaa2facd1c5d8129b87f6923f4%22%2C%22getActionClass%22%5D%2C%5B%227f670a0537f96de8b5156e1b206124b2a990484370%22%2C%22getApiKey%22%5D%2C%5B%227f74bd40a1f82de833915085152910f3ebd525b356%22%2C%22getTeam%22%5D%2C%5B%227fb9a3e6cbebea226c9a3678f31bfebf532ca7321e%22%2C%22getResponseNote%22%5D%2C%5B%227fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1%22%2C%22getTag%22%5D%2C%5B%227fc6abb0838b6422ef7e81141fd6603883cd1990cf%22%2C%22getDocument%22%5D%2C%5B%227fc856fe5dd5f698d2f54dacf4280d447336780427%22%2C%22getLanguage%22%5D%2C%5B%227fcda0e6bf50febdf861015e25ebdf74068a488dde%22%2C%22getContact%22%5D%2C%5B%227fcfea9518c327899180b23cb3055005ba65cdef33%22%2C%22getIntegration%22%5D%2C%5B%227fdb06c584a2145e0f48be9ead409fc7f774731fde%22%2C%22getEnvironment%22%5D%2C%5B%227fdcbaf3445e783557d350b55d91be1398fafca7d3%22%2C%22getInsight%22%5D%2C%5B%227fe763f2c0d5f307cc75c26f23c693a54ac24a3112%22%2C%22getProject%22%5D%2C%5B%227ffb22c619704253744e9b5fea4eccca8b0808fb64%22%2C%22getSegment%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Forganization%2Factions.ts%22%2C%5B%5B%227ff27151c29d7402abd744ae983a2c25b016ccf26f%22%2C%22createOrganizationAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Fintegrations%2Fwebhooks%2Factions.ts%22%2C%5B%5B%227f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1%22%2C%22testEndpointAction%22%5D%2C%5B%227f46e9808e4d954284435145940483d8d766cfe98d%22%2C%22createWebhookAction%22%5D%2C%5B%227fa0fcf7aa6985e7b6d4965dc6a88e4f982b27e2ce%22%2C%22deleteWebhookAction%22%5D%2C%5B%227ffc4e7cb10c53227d0d8093ea20ba93e6bdf12e68%22%2C%22updateWebhookAction%22%5D%5D%5D%5D&__client_imported__=true!































/***/ }),

/***/ 855924:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 507779));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 607056));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 698717));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 628723));


/***/ }),

/***/ 158132:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 715786));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 361192));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 361225));
;
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 434131));


/***/ }),

/***/ 715786:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  AddWebhookButton: () => (/* binding */ AddWebhookButton)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx
var components_button = __webpack_require__(248852);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/webhook.js
var webhook = __webpack_require__(858191);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
// EXTERNAL MODULE: ./modules/integrations/webhooks/components/survey-checkbox-group.tsx
var survey_checkbox_group = __webpack_require__(994067);
// EXTERNAL MODULE: ./modules/integrations/webhooks/components/trigger-checkbox-group.tsx
var trigger_checkbox_group = __webpack_require__(613989);
// EXTERNAL MODULE: ./modules/integrations/webhooks/lib/utils.ts
var utils = __webpack_require__(652199);
// EXTERNAL MODULE: ./modules/ui/components/input/index.tsx
var input = __webpack_require__(438624);
// EXTERNAL MODULE: ./modules/ui/components/label/index.tsx
var label = __webpack_require__(61330);
// EXTERNAL MODULE: ./modules/ui/components/modal/index.tsx
var modal = __webpack_require__(383207);
// EXTERNAL MODULE: ../../node_modules/clsx/dist/clsx.mjs
var clsx = __webpack_require__(553626);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.js
var navigation = __webpack_require__(470207);
// EXTERNAL MODULE: ../../node_modules/react-hook-form/dist/index.esm.mjs
var index_esm = __webpack_require__(200667);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1&name=testEndpointAction!
var next_flight_server_reference_proxy_loaderid_7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1_name_testEndpointAction_ = __webpack_require__(600618);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f46e9808e4d954284435145940483d8d766cfe98d&name=createWebhookAction!

const createWebhookAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f46e9808e4d954284435145940483d8d766cfe98d", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "createWebhookAction")
;// ./modules/integrations/webhooks/components/add-webhook-modal.tsx
/* __next_internal_client_entry_do_not_use__ AddWebhookModal auto */ 
















const AddWebhookModal = ({ environmentId, surveys, open, setOpen })=>{
    const router = (0,navigation.useRouter)();
    const { handleSubmit, reset, register, formState: { isSubmitting } } = (0,index_esm/* useForm */.mN)();
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [testEndpointInput, setTestEndpointInput] = (0,react.useState)("");
    const [hittingEndpoint, setHittingEndpoint] = (0,react.useState)(false);
    const [endpointAccessible, setEndpointAccessible] = (0,react.useState)();
    const [selectedTriggers, setSelectedTriggers] = (0,react.useState)([]);
    const [selectedSurveys, setSelectedSurveys] = (0,react.useState)([]);
    const [selectedAllSurveys, setSelectedAllSurveys] = (0,react.useState)(false);
    const [creatingWebhook, setCreatingWebhook] = (0,react.useState)(false);
    const handleTestEndpoint = async (sendSuccessToast)=>{
        try {
            const { valid, error } = (0,utils/* validWebHookURL */.Z)(testEndpointInput);
            if (!valid) {
                dist/* default */.Ay.error(error ?? t("common.something_went_wrong_please_try_again"));
                return;
            }
            setHittingEndpoint(true);
            const testEndpointActionResult = await (0,next_flight_server_reference_proxy_loaderid_7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1_name_testEndpointAction_/* testEndpointAction */.s)({
                url: testEndpointInput
            });
            if (!testEndpointActionResult?.data) {
                const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(testEndpointActionResult);
                throw new Error(errorMessage);
            }
            setHittingEndpoint(false);
            if (sendSuccessToast) dist/* default */.Ay.success(t("environments.integrations.webhooks.endpoint_pinged"));
            setEndpointAccessible(true);
            return true;
        } catch (err) {
            setHittingEndpoint(false);
            dist/* default */.Ay.error(`${t("environments.integrations.webhooks.endpoint_pinged_error")} \n ${err.message.length < 250 ? `${t("common.error")}:  ${err.message}` : t("environments.integrations.webhooks.please_check_console")}`, {
                className: err.message.length < 250 ? "break-all" : ""
            });
            console.error(t("environments.integrations.webhooks.webhook_test_failed_due_to"), err.message);
            setEndpointAccessible(false);
            return false;
        }
    };
    const handleSelectAllSurveys = ()=>{
        setSelectedAllSurveys(!selectedAllSurveys);
        setSelectedSurveys([]);
    };
    const handleSelectedSurveyChange = (surveyId)=>{
        setSelectedSurveys((prevSelectedSurveys)=>prevSelectedSurveys.includes(surveyId) ? prevSelectedSurveys.filter((id)=>id !== surveyId) : [
                ...prevSelectedSurveys,
                surveyId
            ]);
    };
    const handleCheckboxChange = (selectedValue)=>{
        setSelectedTriggers((prevValues)=>prevValues.includes(selectedValue) ? prevValues.filter((value)=>value !== selectedValue) : [
                ...prevValues,
                selectedValue
            ]);
    };
    const submitWebhook = async (data)=>{
        if (!isSubmitting) {
            try {
                setCreatingWebhook(true);
                if (!testEndpointInput || testEndpointInput === "") {
                    throw new Error(t("environments.integrations.webhooks.please_enter_a_url"));
                }
                if (selectedTriggers.length === 0) {
                    throw new Error(t("common.please_select_at_least_one_trigger"));
                }
                if (!selectedAllSurveys && selectedSurveys.length === 0) {
                    throw new Error(t("common.please_select_at_least_one_survey"));
                }
                if ((0,utils/* isDiscordWebhook */.W)(testEndpointInput)) {
                    throw new Error(t("environments.integrations.webhooks.discord_webhook_not_supported"));
                }
                const endpointHitSuccessfully = await handleTestEndpoint(false);
                if (!endpointHitSuccessfully) return;
                const updatedData = {
                    name: data.name,
                    url: testEndpointInput,
                    source: "user",
                    triggers: selectedTriggers,
                    surveyIds: selectedSurveys
                };
                const createWebhookActionResult = await createWebhookAction({
                    environmentId,
                    webhookInput: updatedData
                });
                if (createWebhookActionResult?.data) {
                    router.refresh();
                    setOpenWithStates(false);
                    dist/* default */.Ay.success(t("environments.integrations.webhooks.webhook_added_successfully"));
                } else {
                    const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(createWebhookActionResult);
                    dist/* default */.Ay.error(errorMessage);
                }
            } catch (e) {
                dist/* default */.Ay.error(e.message);
            } finally{
                setCreatingWebhook(false);
            }
        }
    };
    const setOpenWithStates = (isOpen)=>{
        setOpen(isOpen);
        reset();
        setTestEndpointInput("");
        setEndpointAccessible(undefined);
        setSelectedSurveys([]);
        setSelectedTriggers([]);
        setSelectedAllSurveys(false);
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(modal/* Modal */.a, {
        open: open,
        setOpen: setOpenWithStates,
        noPadding: true,
        closeOnOutsideClick: true,
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
            className: "flex h-full flex-col rounded-lg",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                    className: "rounded-t-lg bg-slate-100",
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "flex w-full items-center justify-between p-6",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                            className: "flex items-center space-x-2",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                    className: "mr-1.5 h-6 w-6 text-slate-500",
                                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(webhook/* default */.A, {})
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                            className: "text-xl font-medium text-slate-700",
                                            children: t("environments.integrations.webhooks.add_webhook")
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                            className: "text-sm text-slate-500",
                                            children: t("environments.integrations.webhooks.add_webhook_description")
                                        })
                                    ]
                                })
                            ]
                        })
                    })
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("form", {
                    onSubmit: handleSubmit(submitWebhook),
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "flex justify-between rounded-lg p-6",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                className: "w-full space-y-4",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                        className: "col-span-1",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                                htmlFor: "name",
                                                children: t("common.name")
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                                className: "mt-1 flex",
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                                                    type: "text",
                                                    id: "name",
                                                    ...register("name"),
                                                    placeholder: t("environments.integrations.webhooks.webhook_name_placeholder")
                                                })
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                        className: "col-span-1",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                                htmlFor: "URL",
                                                children: t("common.url")
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                                className: "mt-1 flex",
                                                children: [
                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                                                        type: "url",
                                                        id: "URL",
                                                        value: testEndpointInput,
                                                        onChange: (e)=>{
                                                            setTestEndpointInput(e.target.value);
                                                        },
                                                        className: (0,clsx/* default */.A)(endpointAccessible === true ? "border-green-500 bg-green-50" : endpointAccessible === false ? "border-red-200 bg-red-50" : endpointAccessible === undefined ? "border-slate-200 bg-white" : null),
                                                        placeholder: t("environments.integrations.webhooks.webhook_url_placeholder")
                                                    }),
                                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                                        type: "button",
                                                        variant: "secondary",
                                                        loading: hittingEndpoint,
                                                        className: "ml-2 whitespace-nowrap",
                                                        disabled: testEndpointInput.trim() === "",
                                                        onClick: ()=>{
                                                            handleTestEndpoint(true);
                                                        },
                                                        children: t("environments.integrations.webhooks.test_endpoint")
                                                    })
                                                ]
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                                htmlFor: "Triggers",
                                                children: t("environments.integrations.webhooks.triggers")
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(trigger_checkbox_group/* TriggerCheckboxGroup */.j, {
                                                selectedTriggers: selectedTriggers,
                                                onCheckboxChange: handleCheckboxChange,
                                                allowChanges: true
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                                htmlFor: "Surveys",
                                                children: t("common.surveys")
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(survey_checkbox_group/* SurveyCheckboxGroup */.n, {
                                                surveys: surveys,
                                                selectedSurveys: selectedSurveys,
                                                selectedAllSurveys: selectedAllSurveys,
                                                onSelectAllSurveys: handleSelectAllSurveys,
                                                onSelectedSurveyChange: handleSelectedSurveyChange,
                                                allowChanges: true
                                            })
                                        ]
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "flex justify-end border-t border-slate-200 p-6",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                className: "flex space-x-2",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                        type: "button",
                                        variant: "ghost",
                                        onClick: ()=>{
                                            setOpenWithStates(false);
                                        },
                                        children: t("common.cancel")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                        type: "submit",
                                        loading: creatingWebhook,
                                        children: t("environments.integrations.webhooks.add_webhook")
                                    })
                                ]
                            })
                        })
                    ]
                })
            ]
        })
    });
};

;// ./modules/integrations/webhooks/components/add-webhook-button.tsx
/* __next_internal_client_entry_do_not_use__ AddWebhookButton auto */ 





const AddWebhookButton = ({ environment, surveys })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [isAddWebhookModalOpen, setAddWebhookModalOpen] = (0,react.useState)(false);
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                size: "sm",
                onClick: ()=>{
                    setAddWebhookModalOpen(true);
                },
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(webhook/* default */.A, {
                        className: "mr-2 h-5 w-5 text-white"
                    }),
                    t("environments.integrations.webhooks.add_webhook")
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(AddWebhookModal, {
                environmentId: environment.id,
                surveys: surveys,
                open: isAddWebhookModalOpen,
                setOpen: setAddWebhookModalOpen
            })
        ]
    });
};


/***/ }),

/***/ 994067:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   n: () => (/* binding */ SurveyCheckboxGroup)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_checkbox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(879387);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* __next_internal_client_entry_do_not_use__ SurveyCheckboxGroup auto */ 



const SurveyCheckboxGroup = ({ surveys, selectedSurveys, selectedAllSurveys, onSelectAllSurveys, onSelectedSurveyChange, allowChanges })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: "mt-1 max-h-[15vh] overflow-y-auto rounded-lg border border-slate-200",
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "grid content-center rounded-lg bg-slate-50 p-3 text-left text-sm text-slate-900",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "my-1 flex items-center space-x-2",
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", {
                        htmlFor: "allSurveys",
                        className: `flex items-center ${selectedAllSurveys ? "font-semibold" : ""} ${!allowChanges ? "cursor-not-allowed opacity-50" : "cursor-pointer"}`,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_checkbox__WEBPACK_IMPORTED_MODULE_1__/* .Checkbox */ .S, {
                                type: "button",
                                id: "allSurveys",
                                className: "bg-white",
                                value: "",
                                checked: selectedAllSurveys,
                                onCheckedChange: onSelectAllSurveys,
                                disabled: !allowChanges
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                className: "ml-2",
                                children: t("environments.integrations.webhooks.all_current_and_new_surveys")
                            })
                        ]
                    })
                }),
                surveys.map((survey)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "my-1 flex items-center space-x-2",
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", {
                            htmlFor: survey.id,
                            className: `flex items-center ${selectedAllSurveys || !allowChanges ? "cursor-not-allowed opacity-50" : "cursor-pointer"}`,
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_checkbox__WEBPACK_IMPORTED_MODULE_1__/* .Checkbox */ .S, {
                                    type: "button",
                                    id: survey.id,
                                    value: survey.id,
                                    className: "bg-white",
                                    checked: selectedSurveys.includes(survey.id) && !selectedAllSurveys,
                                    disabled: selectedAllSurveys || !allowChanges,
                                    onCheckedChange: ()=>{
                                        if (allowChanges) {
                                            onSelectedSurveyChange(survey.id);
                                        }
                                    }
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                    className: "ml-2",
                                    children: survey.name
                                })
                            ]
                        })
                    }, survey.id))
            ]
        })
    });
};


/***/ }),

/***/ 613989:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   j: () => (/* binding */ TriggerCheckboxGroup)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_checkbox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(879387);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* __next_internal_client_entry_do_not_use__ TriggerCheckboxGroup auto */ 



const triggers = [
    {
        title: "environments.integrations.webhooks.response_created",
        value: "responseCreated"
    },
    {
        title: "environments.integrations.webhooks.response_updated",
        value: "responseUpdated"
    },
    {
        title: "environments.integrations.webhooks.response_finished",
        value: "responseFinished"
    }
];
const TriggerCheckboxGroup = ({ selectedTriggers, onCheckboxChange, allowChanges })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: "mt-1 rounded-lg border border-slate-200",
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            className: "grid content-center rounded-lg bg-slate-50 p-3 text-left text-sm text-slate-900",
            children: triggers.map((trigger)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "my-1 flex items-center space-x-2",
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", {
                        htmlFor: trigger.value,
                        className: `flex ${!allowChanges ? "cursor-not-allowed opacity-50" : "cursor-pointer"} items-center`,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_checkbox__WEBPACK_IMPORTED_MODULE_1__/* .Checkbox */ .S, {
                                type: "button",
                                id: trigger.value,
                                value: trigger.value,
                                className: "bg-white",
                                checked: selectedTriggers.includes(trigger.value),
                                onCheckedChange: ()=>{
                                    if (allowChanges) {
                                        onCheckboxChange(trigger.value);
                                    }
                                },
                                disabled: !allowChanges
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                className: "ml-2",
                                children: t(trigger.title)
                            })
                        ]
                    })
                }, trigger.value))
        })
    });
};


/***/ }),

/***/ 361192:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebhookRowData: () => (/* binding */ WebhookRowData)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_badge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(661989);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(397674);
/* harmony import */ var _formbricks_lib_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(775453);
/* harmony import */ var _formbricks_lib_utils_strings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(92018);
/* __next_internal_client_entry_do_not_use__ WebhookRowData auto */ 




const renderSelectedSurveysText = (webhook, allSurveys)=>{
    if (webhook.surveyIds.length === 0) {
        const allSurveyNames = allSurveys.map((survey)=>survey.name);
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
            className: "text-slate-400",
            children: allSurveyNames.join(", ")
        });
    } else {
        const selectedSurveyNames = webhook.surveyIds.map((surveyId)=>{
            const survey = allSurveys.find((survey)=>survey.id === surveyId);
            return survey ? survey.name : "";
        });
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
            className: "text-slate-400",
            children: selectedSurveyNames.join(", ")
        });
    }
};
const renderSelectedTriggersText = (webhook, t)=>{
    if (webhook.triggers.length === 0) {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
            className: "text-slate-400",
            children: "No Triggers"
        });
    } else {
        let cleanedTriggers = webhook.triggers.map((trigger)=>{
            if (trigger === "responseCreated") {
                return t("environments.integrations.webhooks.response_created");
            } else if (trigger === "responseUpdated") {
                return t("environments.integrations.webhooks.response_updated");
            } else if (trigger === "responseFinished") {
                return t("environments.integrations.webhooks.response_finished");
            } else {
                return trigger;
            }
        });
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
            className: "text-slate-400",
            children: cleanedTriggers.sort((a, b)=>{
                const triggerOrder = {
                    "Response Created": 1,
                    "Response Updated": 2,
                    "Response Finished": 3
                };
                return triggerOrder[a] - triggerOrder[b];
            }).join(", ")
        });
    }
};
const WebhookRowData = ({ webhook, surveys, locale })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_2__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: "mt-2 grid h-auto grid-cols-12 content-center rounded-lg py-2 hover:bg-slate-100",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                className: "col-span-3 flex items-center truncate pl-6 text-sm",
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "flex items-center",
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "text-left",
                        children: webhook.name ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: "text-left",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                    className: "font-medium text-slate-900",
                                    children: webhook.name
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                    className: "text-xs text-slate-400",
                                    children: webhook.url
                                })
                            ]
                        }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "font-medium text-slate-900",
                            children: webhook.url
                        })
                    })
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                className: "col-span-1 my-auto text-center text-sm text-slate-800",
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_badge__WEBPACK_IMPORTED_MODULE_1__/* .Badge */ .E, {
                    type: "gray",
                    size: "tiny",
                    text: (0,_formbricks_lib_utils_strings__WEBPACK_IMPORTED_MODULE_3__/* .capitalizeFirstLetter */ .Zr)(webhook.source) || t("common.user")
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                className: "col-span-4 my-auto text-center text-sm text-slate-800",
                children: renderSelectedSurveysText(webhook, surveys)
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                className: "col-span-2 my-auto text-center text-sm text-slate-800",
                children: renderSelectedTriggersText(webhook, t)
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                className: "col-span-2 my-auto whitespace-nowrap text-center text-sm text-slate-500",
                children: (0,_formbricks_lib_time__WEBPACK_IMPORTED_MODULE_4__/* .timeSince */ ._D)(webhook.createdAt.toString(), locale)
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                className: "text-center"
            })
        ]
    });
};


/***/ }),

/***/ 361225:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  WebhookTable: () => (/* binding */ WebhookTable)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ./modules/ui/components/label/index.tsx
var label = __webpack_require__(61330);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../packages/lib/time.ts
var time = __webpack_require__(775453);
// EXTERNAL MODULE: ../../packages/lib/utils/strings.ts
var strings = __webpack_require__(92018);
;// ./modules/integrations/webhooks/components/webhook-overview-tab.tsx
/* __next_internal_client_entry_do_not_use__ WebhookOverviewTab auto */ 




const getSurveyNamesForWebhook = (webhook, allSurveys)=>{
    if (webhook.surveyIds.length === 0) {
        return allSurveys.map((survey)=>survey.name);
    } else {
        return webhook.surveyIds.map((surveyId)=>{
            const survey = allSurveys.find((survey)=>survey.id === surveyId);
            return survey ? survey.name : "";
        });
    }
};
const convertTriggerIdToName = (triggerId, t)=>{
    switch(triggerId){
        case "responseCreated":
            return t("environments.integrations.webhooks.response_created");
        case "responseUpdated":
            return t("environments.integrations.webhooks.response_updated");
        case "responseFinished":
            return t("environments.integrations.webhooks.response_finished");
        default:
            return triggerId;
    }
};
const WebhookOverviewTab = ({ webhook, surveys })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        className: "grid grid-cols-3 pb-2",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "col-span-2 space-y-4 pr-6",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                className: "text-slate-500",
                                children: t("common.name")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                className: "truncate text-sm text-slate-900",
                                children: webhook.name ? webhook.name : "-"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                className: "text-slate-500",
                                children: t("environments.integrations.webhooks.created_by_third_party")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                className: "text-sm text-slate-900",
                                children: webhook.source === "user" ? "No" : (0,strings/* capitalizeFirstLetter */.Zr)(webhook.source)
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                className: "text-slate-500",
                                children: t("common.url")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                className: "text-sm text-slate-900",
                                children: webhook.url
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                className: "text-slate-500",
                                children: t("common.surveys")
                            }),
                            getSurveyNamesForWebhook(webhook, surveys).map((surveyName, index)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                    className: "text-sm text-slate-900",
                                    children: surveyName
                                }, index))
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                className: "text-slate-500",
                                children: t("environments.integrations.webhooks.triggers")
                            }),
                            webhook.triggers.map((triggerId)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                    className: "text-sm text-slate-900",
                                    children: convertTriggerIdToName(triggerId, t)
                                }, triggerId))
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "col-span-1 space-y-3 rounded-lg border border-slate-100 bg-slate-50 p-2",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                className: "text-xs font-normal text-slate-500",
                                children: t("common.created_at")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                className: "text-xs text-slate-700",
                                children: (0,time/* convertDateTimeStringShort */.qb)(webhook.createdAt?.toString())
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                className: "text-xs font-normal text-slate-500",
                                children: t("common.updated_at")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                                className: "text-xs text-slate-700",
                                children: (0,time/* convertDateTimeStringShort */.qb)(webhook.updatedAt?.toString())
                            })
                        ]
                    })
                ]
            })
        ]
    });
};

// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
// EXTERNAL MODULE: ./modules/integrations/webhooks/components/survey-checkbox-group.tsx
var survey_checkbox_group = __webpack_require__(994067);
// EXTERNAL MODULE: ./modules/integrations/webhooks/components/trigger-checkbox-group.tsx
var trigger_checkbox_group = __webpack_require__(613989);
// EXTERNAL MODULE: ./modules/integrations/webhooks/lib/utils.ts
var utils = __webpack_require__(652199);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx
var components_button = __webpack_require__(248852);
// EXTERNAL MODULE: ./modules/ui/components/delete-dialog/index.tsx
var delete_dialog = __webpack_require__(982234);
// EXTERNAL MODULE: ./modules/ui/components/input/index.tsx
var input = __webpack_require__(438624);
// EXTERNAL MODULE: ../../node_modules/clsx/dist/clsx.mjs
var clsx = __webpack_require__(553626);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/trash.js
var trash = __webpack_require__(721964);
// EXTERNAL MODULE: ../../node_modules/next/dist/client/app-dir/link.js
var app_dir_link = __webpack_require__(36888);
var link_default = /*#__PURE__*/__webpack_require__.n(app_dir_link);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.js
var navigation = __webpack_require__(470207);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ../../node_modules/react-hook-form/dist/index.esm.mjs
var index_esm = __webpack_require__(200667);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1&name=testEndpointAction!
var next_flight_server_reference_proxy_loaderid_7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1_name_testEndpointAction_ = __webpack_require__(600618);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7ffc4e7cb10c53227d0d8093ea20ba93e6bdf12e68&name=updateWebhookAction!

const updateWebhookAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7ffc4e7cb10c53227d0d8093ea20ba93e6bdf12e68", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "updateWebhookAction")
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7fa0fcf7aa6985e7b6d4965dc6a88e4f982b27e2ce&name=deleteWebhookAction!

const deleteWebhookAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7fa0fcf7aa6985e7b6d4965dc6a88e4f982b27e2ce", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "deleteWebhookAction")
;// ./modules/integrations/webhooks/components/webhook-settings-tab.tsx
/* __next_internal_client_entry_do_not_use__ WebhookSettingsTab auto */ 

















const WebhookSettingsTab = ({ webhook, surveys, setOpen, isReadOnly })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const router = (0,navigation.useRouter)();
    const { register, handleSubmit } = (0,index_esm/* useForm */.mN)({
        defaultValues: {
            name: webhook.name,
            url: webhook.url,
            triggers: webhook.triggers,
            surveyIds: webhook.surveyIds
        }
    });
    const [openDeleteDialog, setOpenDeleteDialog] = (0,react.useState)(false);
    const [isUpdatingWebhook, setIsUpdatingWebhook] = (0,react.useState)(false);
    const [selectedTriggers, setSelectedTriggers] = (0,react.useState)(webhook.triggers);
    const [selectedSurveys, setSelectedSurveys] = (0,react.useState)(webhook.surveyIds);
    const [testEndpointInput, setTestEndpointInput] = (0,react.useState)(webhook.url);
    const [endpointAccessible, setEndpointAccessible] = (0,react.useState)();
    const [hittingEndpoint, setHittingEndpoint] = (0,react.useState)(false);
    const [selectedAllSurveys, setSelectedAllSurveys] = (0,react.useState)(webhook.surveyIds.length === 0);
    const handleTestEndpoint = async (sendSuccessToast)=>{
        try {
            const { valid, error } = (0,utils/* validWebHookURL */.Z)(testEndpointInput);
            if (!valid) {
                dist/* toast */.oR.error(error ?? t("common.something_went_wrong_please_try_again"));
                return;
            }
            setHittingEndpoint(true);
            const testEndpointActionResult = await (0,next_flight_server_reference_proxy_loaderid_7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1_name_testEndpointAction_/* testEndpointAction */.s)({
                url: testEndpointInput
            });
            if (!testEndpointActionResult?.data) {
                const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(testEndpointActionResult);
                throw new Error(errorMessage);
            }
            setHittingEndpoint(false);
            if (sendSuccessToast) dist/* toast */.oR.success(t("environments.integrations.webhooks.endpoint_pinged"));
            setEndpointAccessible(true);
            return true;
        } catch (err) {
            setHittingEndpoint(false);
            dist/* toast */.oR.error(`${t("environments.integrations.webhooks.endpoint_pinged_error")} \n ${err.message.length < 250 ? `${t("common.error")}:  ${err.message}` : t("environments.integrations.webhooks.please_check_console")}`, {
                className: err.message.length < 250 ? "break-all" : ""
            });
            console.error(t("environments.integrations.webhooks.webhook_test_failed_due_to"), err.message);
            setEndpointAccessible(false);
            return false;
        }
    };
    const handleSelectAllSurveys = ()=>{
        setSelectedAllSurveys(!selectedAllSurveys);
        setSelectedSurveys([]);
    };
    const handleSelectedSurveyChange = (surveyId)=>{
        setSelectedSurveys((prevSelectedSurveys)=>{
            if (prevSelectedSurveys.includes(surveyId)) {
                return prevSelectedSurveys.filter((id)=>id !== surveyId);
            } else {
                return [
                    ...prevSelectedSurveys,
                    surveyId
                ];
            }
        });
    };
    const handleCheckboxChange = (selectedValue)=>{
        setSelectedTriggers((prevValues)=>{
            if (prevValues.includes(selectedValue)) {
                return prevValues.filter((value)=>value !== selectedValue);
            } else {
                return [
                    ...prevValues,
                    selectedValue
                ];
            }
        });
    };
    const onSubmit = async (data)=>{
        if (selectedTriggers.length === 0) {
            dist/* toast */.oR.error(t("common.please_select_at_least_one_trigger"));
            return;
        }
        if (!selectedAllSurveys && selectedSurveys.length === 0) {
            dist/* toast */.oR.error(t("common.please_select_at_least_one_survey"));
            return;
        }
        const endpointHitSuccessfully = await handleTestEndpoint(false);
        if (!endpointHitSuccessfully) {
            return;
        }
        const updatedData = {
            name: data.name,
            url: data.url,
            source: data.source,
            triggers: selectedTriggers,
            surveyIds: selectedSurveys
        };
        setIsUpdatingWebhook(true);
        const updateWebhookActionResult = await updateWebhookAction({
            webhookId: webhook.id,
            webhookInput: updatedData
        });
        if (updateWebhookActionResult?.data) {
            router.refresh();
            dist/* toast */.oR.success(t("environments.integrations.webhooks.webhook_updated_successfully"));
        } else {
            const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(updateWebhookActionResult);
            dist/* toast */.oR.error(errorMessage);
        }
        setIsUpdatingWebhook(false);
        setOpen(false);
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("form", {
                className: "space-y-4",
                onSubmit: handleSubmit(onSubmit),
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        className: "col-span-1",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                htmlFor: "Name",
                                children: t("common.name")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                className: "mt-1 flex",
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                                    type: "text",
                                    id: "name",
                                    ...register("name"),
                                    disabled: isReadOnly,
                                    defaultValue: webhook.name ?? "",
                                    placeholder: t("environments.integrations.webhooks.webhook_name_placeholder")
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        className: "col-span-1",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                htmlFor: "URL",
                                children: t("common.url")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                className: "mt-1 flex",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                                        ...register("url", {
                                            value: testEndpointInput
                                        }),
                                        type: "text",
                                        value: testEndpointInput,
                                        onChange: (e)=>{
                                            setTestEndpointInput(e.target.value);
                                        },
                                        readOnly: webhook.source !== "user",
                                        className: (0,clsx/* default */.A)(webhook.source === "user" ? null : "cursor-not-allowed bg-slate-100 text-slate-500", endpointAccessible === true ? "border-green-500 bg-green-50" : endpointAccessible === false ? "border-red-200 bg-red-50" : endpointAccessible === undefined ? "border-slate-200 bg-white" : null),
                                        placeholder: t("environments.integrations.webhooks.webhook_url_placeholder")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                        type: "button",
                                        variant: "secondary",
                                        loading: hittingEndpoint,
                                        className: "ml-2 whitespace-nowrap",
                                        onClick: ()=>{
                                            handleTestEndpoint(true);
                                        },
                                        children: t("environments.integrations.webhooks.test_endpoint")
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                htmlFor: "Triggers",
                                children: t("environments.integrations.webhooks.triggers")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(trigger_checkbox_group/* TriggerCheckboxGroup */.j, {
                                selectedTriggers: selectedTriggers,
                                onCheckboxChange: handleCheckboxChange,
                                allowChanges: webhook.source === "user" && !isReadOnly
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(label/* Label */.J, {
                                htmlFor: "Surveys",
                                children: t("common.surveys")
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(survey_checkbox_group/* SurveyCheckboxGroup */.n, {
                                surveys: surveys,
                                selectedSurveys: selectedSurveys,
                                selectedAllSurveys: selectedAllSurveys,
                                onSelectAllSurveys: handleSelectAllSurveys,
                                onSelectedSurveyChange: handleSelectedSurveyChange,
                                allowChanges: webhook.source === "user" && !isReadOnly
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        className: "flex justify-between border-t border-slate-200 py-6",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                children: [
                                    webhook.source === "user" && !isReadOnly && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                                        type: "button",
                                        variant: "destructive",
                                        onClick: ()=>setOpenDeleteDialog(true),
                                        className: "mr-3",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(trash/* default */.A, {}),
                                            t("common.delete")
                                        ]
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                        variant: "secondary",
                                        asChild: true,
                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)((link_default()), {
                                            href: "https://formbricks.com/docs/api/management/webhooks",
                                            target: "_blank",
                                            children: t("common.read_docs")
                                        })
                                    })
                                ]
                            }),
                            !isReadOnly && /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                className: "flex space-x-2",
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                    type: "submit",
                                    loading: isUpdatingWebhook,
                                    children: t("common.save_changes")
                                })
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(delete_dialog/* DeleteDialog */.C, {
                open: openDeleteDialog,
                setOpen: setOpenDeleteDialog,
                deleteWhat: t("common.webhook"),
                text: t("environments.integrations.webhooks.webhook_delete_confirmation"),
                onDelete: async ()=>{
                    setOpen(false);
                    const deleteWebhookActionResult = await deleteWebhookAction({
                        id: webhook.id
                    });
                    if (deleteWebhookActionResult?.data) {
                        router.refresh();
                        dist/* toast */.oR.success(t("environments.integrations.webhooks.webhook_deleted_successfully"));
                    } else {
                        const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(deleteWebhookActionResult);
                        dist/* toast */.oR.error(errorMessage);
                    }
                }
            })
        ]
    });
};

// EXTERNAL MODULE: ./modules/ui/components/modal-with-tabs/index.tsx
var modal_with_tabs = __webpack_require__(980933);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/webhook.js
var icons_webhook = __webpack_require__(858191);
;// ./modules/integrations/webhooks/components/webhook-detail-modal.tsx
/* __next_internal_client_entry_do_not_use__ WebhookModal auto */ 





const WebhookModal = ({ open, setOpen, webhook, surveys, isReadOnly })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const tabs = [
        {
            title: t("common.overview"),
            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(WebhookOverviewTab, {
                webhook: webhook,
                surveys: surveys
            })
        },
        {
            title: t("common.settings"),
            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(WebhookSettingsTab, {
                webhook: webhook,
                surveys: surveys,
                setOpen: setOpen,
                isReadOnly: isReadOnly
            })
        }
    ];
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(react_jsx_runtime.Fragment, {
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(modal_with_tabs/* ModalWithTabs */.O, {
            open: open,
            setOpen: setOpen,
            tabs: tabs,
            icon: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(icons_webhook/* default */.A, {}),
            label: webhook.name ? webhook.name : webhook.url,
            description: ""
        })
    });
};

// EXTERNAL MODULE: ./modules/ui/components/empty-space-filler/index.tsx
var empty_space_filler = __webpack_require__(443757);
;// ./modules/integrations/webhooks/components/webhook-table.tsx
/* __next_internal_client_entry_do_not_use__ WebhookTable auto */ 




const WebhookTable = ({ environment, webhooks, surveys, children: [TableHeading, webhookRows], isReadOnly })=>{
    const [isWebhookDetailModalOpen, setWebhookDetailModalOpen] = (0,react.useState)(false);
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [activeWebhook, setActiveWebhook] = (0,react.useState)({
        environmentId: environment.id,
        id: "",
        name: "",
        url: "",
        source: "user",
        triggers: [],
        surveyIds: [],
        createdAt: new Date(),
        updatedAt: new Date()
    });
    const handleOpenWebhookDetailModalClick = (e, webhook)=>{
        e.preventDefault();
        setActiveWebhook(webhook);
        setWebhookDetailModalOpen(true);
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
        children: [
            webhooks.length === 0 ? /*#__PURE__*/ (0,react_jsx_runtime.jsx)(empty_space_filler/* EmptySpaceFiller */.y, {
                type: "table",
                environment: environment,
                noWidgetRequired: true,
                emptyMessage: t("environments.integrations.webhooks.empty_webhook_message")
            }) : /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "rounded-lg border border-slate-200",
                children: [
                    TableHeading,
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                        className: "grid-cols-7",
                        children: webhooks.map((webhook, index)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)("button", {
                                onClick: (e)=>{
                                    handleOpenWebhookDetailModalClick(e, webhook);
                                },
                                className: "w-full",
                                children: webhookRows[index]
                            }, webhook.id))
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(WebhookModal, {
                open: isWebhookDetailModalOpen,
                setOpen: setWebhookDetailModalOpen,
                webhook: activeWebhook,
                surveys: surveys,
                isReadOnly: isReadOnly
            })
        ]
    });
};


/***/ }),

/***/ 652199:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ isDiscordWebhook),
/* harmony export */   Z: () => (/* binding */ validWebHookURL)
/* harmony export */ });
const validWebHookURL = (urlInput)=>{
    const trimmedInput = urlInput.trim();
    if (!trimmedInput) {
        return {
            valid: false,
            error: "Please enter a URL"
        };
    }
    try {
        const url = new URL(trimmedInput);
        if (url.protocol !== "https:") {
            return {
                valid: false,
                error: "URL must start with https://"
            };
        }
        const domainError = "Please enter a complete URL with a valid domain (e.g., https://formbricks.com)";
        const multipleSlashesPattern = /(?<!:)\/\/+/;
        if (multipleSlashesPattern.test(trimmedInput)) {
            return {
                valid: false,
                error: domainError
            };
        }
        const validDomainPattern = /^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        if (!validDomainPattern.test(url.hostname)) {
            return {
                valid: false,
                error: domainError
            };
        }
        return {
            valid: true
        };
    } catch (error) {
        return {
            valid: false,
            error: "Invalid URL format. Please enter a complete URL including https://"
        };
    }
};
const isDiscordWebhook = (urlString)=>{
    const url = new URL(urlString);
    const DISCORD_WEBHOOK_URL_PATTERN = /^https:\/\/discord\.com\/api\/webhooks\/\d+\/.+$/;
    return DISCORD_WEBHOOK_URL_PATTERN.test(url.toString());
};


/***/ }),

/***/ 661989:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ Badge)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(983773);


const Badge = ({ text, type, size, className })=>{
    const bgColor = {
        warning: "bg-amber-100",
        success: "bg-emerald-100",
        error: "bg-red-100",
        gray: "bg-slate-100"
    };
    const borderColor = {
        warning: "border-amber-200",
        success: "border-emerald-200",
        error: "border-red-200",
        gray: "border-slate-200"
    };
    const textColor = {
        warning: "text-amber-800",
        success: "text-emerald-800",
        error: "text-red-800",
        gray: "text-slate-600"
    };
    const padding = {
        tiny: "px-1.5 py-0.5",
        normal: "px-2.5 py-0.5",
        large: "px-3.5 py-1"
    };
    const textSize = size === "large" ? "text-sm" : "text-xs";
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("inline-flex cursor-default items-center rounded-full border font-medium", bgColor[type], borderColor[type], textColor[type], padding[size], textSize, className),
        children: text
    });
};


/***/ }),

/***/ 879387:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: () => (/* binding */ Checkbox)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _radix_ui_react_checkbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(20913);
/* harmony import */ var _barrel_optimize_names_Check_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(129170);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ Checkbox auto */ 




const Checkbox = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_checkbox__WEBPACK_IMPORTED_MODULE_2__/* .Root */ .bL, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("peer h-5 w-5 shrink-0 rounded-md border border-slate-300 bg-white focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:text-slate-600 dark:focus:ring-slate-400 dark:focus:ring-offset-slate-900", className),
        ...props,
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_checkbox__WEBPACK_IMPORTED_MODULE_2__/* .Indicator */ .C1, {
            className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("flex items-center justify-center"),
            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_lucide_react__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A, {
                className: "h-4 w-4"
            })
        })
    }));
Checkbox.displayName = _radix_ui_react_checkbox__WEBPACK_IMPORTED_MODULE_2__/* .Root */ .bL.displayName;



/***/ }),

/***/ 982234:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ DeleteDialog)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(248852);
/* harmony import */ var _modules_ui_components_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(383207);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* __next_internal_client_entry_do_not_use__ DeleteDialog auto */ 



const DeleteDialog = ({ open, setOpen, deleteWhat, onDelete, text, isDeleting, isSaving, useSaveInsteadOfCancel = false, onSave, children, disabled })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_modal__WEBPACK_IMPORTED_MODULE_2__/* .Modal */ .a, {
        open: open,
        setOpen: setOpen,
        title: `${t("common.delete")} ${deleteWhat}`,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
                children: text || t("common.are_you_sure_this_action_cannot_be_undone")
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                children: children
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "mt-4 space-x-2 text-right",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        loading: isSaving,
                        variant: "secondary",
                        onClick: ()=>{
                            if (useSaveInsteadOfCancel && onSave) {
                                onSave();
                            }
                            setOpen(false);
                        },
                        children: useSaveInsteadOfCancel ? t("common.save") : t("common.cancel")
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
                        variant: "destructive",
                        onClick: onDelete,
                        loading: isDeleting,
                        disabled: disabled,
                        children: t("common.delete")
                    })
                ]
            })
        ]
    });
};


/***/ }),

/***/ 443757:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   y: () => (/* binding */ EmptySpaceFiller)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_skeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(290205);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36888);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);
/* __next_internal_client_entry_do_not_use__ EmptySpaceFiller auto */ 



const EmptySpaceFiller = ({ type, environment, noWidgetRequired, emptyMessage })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    if (type === "table") {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            className: "shadow-xs group rounded-xl border border-slate-100 bg-white p-4",
            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "w-full space-y-3",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "h-16 w-full rounded-lg bg-slate-50"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: "flex h-16 w-full flex-col items-center justify-center rounded-lg bg-slate-50 text-slate-700 transition-all duration-300 ease-in-out hover:bg-slate-100",
                        children: [
                            !environment.appSetupCompleted && !noWidgetRequired && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                className: "flex w-full items-center justify-center",
                                href: `/environments/${environment.id}/project/app-connection`,
                                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                                    className: "decoration-brand-dark underline transition-all duration-300 ease-in-out",
                                    children: [
                                        t("environments.surveys.summary.install_widget"),
                                        " ",
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("strong", {
                                            children: [
                                                t("environments.surveys.summary.go_to_setup_checklist"),
                                                " "
                                            ]
                                        })
                                    ]
                                })
                            }),
                            (environment.appSetupCompleted || noWidgetRequired) && emptyMessage || t("environments.surveys.summary.waiting_for_response")
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "h-16 w-full rounded-lg bg-slate-50"
                    })
                ]
            })
        });
    }
    if (type === "response") {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "group space-y-4 rounded-lg bg-white p-6",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: "flex items-center space-x-4",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-12 w-12 flex-shrink-0 rounded-full bg-slate-100"
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-6 w-full rounded-full bg-slate-100"
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: "space-y-4",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-12 w-full rounded-full bg-slate-100"
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: "flex h-12 w-full items-center justify-center rounded-full bg-slate-50 text-sm text-slate-500 hover:bg-slate-100",
                            children: [
                                !environment.appSetupCompleted && !noWidgetRequired && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                    className: "flex h-full w-full items-center justify-center",
                                    href: `/environments/${environment.id}/project/app-connection`,
                                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                                        className: "decoration-brand-dark underline transition-all duration-300 ease-in-out",
                                        children: [
                                            t("environments.surveys.summary.install_widget"),
                                            " ",
                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("strong", {
                                                children: [
                                                    t("environments.surveys.summary.go_to_setup_checklist"),
                                                    " "
                                                ]
                                            })
                                        ]
                                    })
                                }),
                                (environment.appSetupCompleted || noWidgetRequired) && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                    className: "bg-light-background-primary-500 text-center",
                                    children: emptyMessage ?? t("environments.surveys.summary.waiting_for_response")
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-12 w-full rounded-full bg-slate-50/50"
                        })
                    ]
                })
            ]
        });
    }
    if (type === "tag") {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "group space-y-4 rounded-lg bg-white p-6",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: "flex items-center space-x-4",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-12 w-12 flex-shrink-0 rounded-full bg-slate-100"
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-6 w-full rounded-full bg-slate-100"
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: "space-y-4",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-12 w-full rounded-full bg-slate-100"
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: "flex h-12 w-full items-center justify-center rounded-full bg-slate-50 text-sm text-slate-500 hover:bg-slate-100",
                            children: [
                                !environment.appSetupCompleted && !noWidgetRequired && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                    className: "flex h-full w-full items-center justify-center",
                                    href: `/environments/${environment.id}/project/app-connection`,
                                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                                        className: "decoration-brand-dark underline transition-all duration-300 ease-in-out",
                                        children: [
                                            t("environments.surveys.summary.install_widget"),
                                            " ",
                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("strong", {
                                                children: [
                                                    t("environments.surveys.summary.go_to_setup_checklist"),
                                                    " \uD83D\uDC49"
                                                ]
                                            })
                                        ]
                                    })
                                }),
                                (environment.appSetupCompleted || noWidgetRequired) && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                    className: "text-center",
                                    children: t("environments.project.tags.empty_message")
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-12 w-full rounded-full bg-slate-50/50"
                        })
                    ]
                })
            ]
        });
    }
    if (type === "summary") {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            className: "rounded-xl border border-slate-200 bg-white shadow-sm",
            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_skeleton__WEBPACK_IMPORTED_MODULE_1__/* .Skeleton */ .E, {
                className: "group space-y-4 rounded-lg bg-white p-6",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "flex items-center space-x-4",
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                            className: "h-6 w-full rounded-full bg-slate-100"
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: "space-y-4",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: "flex gap-4",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                        className: "h-6 w-24 rounded-full bg-slate-100"
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                        className: "h-6 w-24 rounded-full bg-slate-100"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                className: "flex h-12 w-full items-center justify-center rounded-full bg-slate-50 text-sm text-slate-500 hover:bg-slate-100"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                className: "h-12 w-full rounded-full bg-slate-50/50"
                            })
                        ]
                    })
                ]
            })
        });
    }
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: "group space-y-4 rounded-lg bg-white p-6",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "flex items-center space-x-4",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "h-12 w-12 flex-shrink-0 rounded-full bg-slate-100"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "h-6 w-full rounded-full bg-slate-100"
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "space-y-4",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "h-12 w-full rounded-full bg-slate-100"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: "flex h-12 w-full items-center justify-center rounded-full bg-slate-50 text-sm text-slate-500 hover:bg-slate-100",
                        children: [
                            !environment.appSetupCompleted && !noWidgetRequired && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                className: "flex h-full w-full items-center justify-center",
                                href: `/environments/${environment.id}/project/app-connection`,
                                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                                    className: "decoration-brand-dark underline transition-all duration-300 ease-in-out",
                                    children: [
                                        t("environments.surveys.summary.install_widget"),
                                        " ",
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("strong", {
                                            children: [
                                                t("environments.surveys.summary.go_to_setup_checklist"),
                                                " \uD83D\uDC49"
                                            ]
                                        })
                                    ]
                                })
                            }),
                            (environment.appSetupCompleted || noWidgetRequired) && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                className: "text-center",
                                children: t("environments.surveys.summary.waiting_for_response")
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "h-12 w-full rounded-full bg-slate-50/50"
                    })
                ]
            })
        ]
    });
};


/***/ }),

/***/ 434131:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GoBackButton: () => (/* binding */ GoBackButton)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(248852);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(681129);
/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(470207);
/* __next_internal_client_entry_do_not_use__ GoBackButton auto */ 




const GoBackButton = ({ url })=>{
    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
        size: "sm",
        variant: "secondary",
        onClick: ()=>{
            if (url) {
                router.push(url);
                return;
            }
            router.back();
        },
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeftIcon_lucide_react__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A, {}),
            t("common.back")
        ]
    });
};


/***/ }),

/***/ 980933:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ ModalWithTabs)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(383207);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);



const ModalWithTabs = ({ open, setOpen, tabs, icon, label, description, closeOnOutsideClick, size = "lg", restrictOverflow = false })=>{
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);
    const handleTabClick = (index)=>{
        setActiveTab(index);
    };
    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{
        if (!open) {
            setActiveTab(0);
        }
    }, [
        open
    ]);
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_modal__WEBPACK_IMPORTED_MODULE_1__/* .Modal */ .a, {
        open: open,
        setOpen: setOpen,
        noPadding: true,
        closeOnOutsideClick: closeOnOutsideClick,
        size: size,
        restrictOverflow: restrictOverflow,
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "flex h-full flex-col rounded-lg",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "rounded-t-lg bg-slate-100",
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "mr-20 flex items-center justify-between truncate p-6",
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: "flex items-center space-x-2",
                            children: [
                                icon && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                    className: "mr-1.5 h-6 w-6 text-slate-500",
                                    children: icon
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    children: [
                                        label && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                            className: "text-xl font-medium text-slate-700",
                                            children: label
                                        }),
                                        description && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                                            className: "text-sm text-slate-500",
                                            children: description
                                        })
                                    ]
                                })
                            ]
                        })
                    })
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "flex h-full w-full items-center justify-center space-x-2 border-b border-slate-200 px-6",
                    children: tabs.map((tab, index)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", {
                            className: `mr-4 px-1 pb-3 pt-6 focus:outline-none ${activeTab === index ? "border-brand-dark border-b-2 font-semibold text-slate-900" : "text-slate-500 hover:text-slate-700"}`,
                            onClick: ()=>handleTabClick(index),
                            children: tab.title
                        }, index))
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "flex-1 p-6",
                    children: tabs[activeTab].children
                })
            ]
        })
    });
};


/***/ }),

/***/ 290205:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ Skeleton)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(983773);


const Skeleton = ({ className, ...props })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("animate-pulse rounded-full bg-slate-200", className),
        ...props
    });
};


/***/ }),

/***/ 547380:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.regionAPIs = void 0;
exports.regionAPIs = new Map([
    ["us", "https://api-iam.intercom.io"],
    ["eu", "https://api-iam.eu.intercom.io"],
    ["ap", "https://api-iam.au.intercom.io"]
]);


/***/ }),

/***/ 19061:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.onUserEmailSupplied = exports.showConversation = exports.showTicket = exports.startChecklist = exports.startSurvey = exports.showNews = exports.showArticle = exports.startTour = exports.getVisitorId = exports.trackEvent = exports.onUnreadCountChange = exports.onShow = exports.onHide = exports.showNewMessage = exports.showMessages = exports.showSpace = exports.show = exports.hide = exports.update = exports.shutdown = exports.boot = exports.Intercom = void 0;
const constants_1 = __webpack_require__(547380);
const instance_manager_1 = __webpack_require__(40384);
const callIntercomMethod = (method, ...args) => {
    // window is undefined on server-side and this breaks our widget
    if (typeof window !== undefined && window.Intercom) {
        window.Intercom(method, ...args);
    }
    else {
        console.warn("Please ensure Intercom is setup and running on client-side!");
    }
};
const Intercom = (props) => {
    if (typeof props !== "object") {
        console.warn("Intercom initialiser called with invalid parameters.");
        return;
    }
    const { region = "us" } = props, args = __rest(props, ["region"]);
    if (typeof window !== "undefined" && !instance_manager_1.ref) {
        window.intercomSettings = Object.assign(Object.assign({}, args), { api_base: constants_1.regionAPIs.get(region) });
        (0, instance_manager_1.init)();
    }
};
exports.Intercom = Intercom;
// Public functions that can be called from outside the module
exports["default"] = exports.Intercom;
const boot = (arg) => callIntercomMethod("boot", arg);
exports.boot = boot;
const shutdown = () => callIntercomMethod("shutdown");
exports.shutdown = shutdown;
const update = (arg) => callIntercomMethod("update", arg);
exports.update = update;
const hide = () => callIntercomMethod("hide");
exports.hide = hide;
const show = () => callIntercomMethod("show");
exports.show = show;
const showSpace = (spaceName) => callIntercomMethod("showSpace", spaceName);
exports.showSpace = showSpace;
const showMessages = () => callIntercomMethod("showMessages");
exports.showMessages = showMessages;
const showNewMessage = (prePopulatedContent) => callIntercomMethod("showNewMessage", prePopulatedContent);
exports.showNewMessage = showNewMessage;
const onHide = (callback) => callIntercomMethod("onHide", callback);
exports.onHide = onHide;
const onShow = (callback) => callIntercomMethod("onShow", callback);
exports.onShow = onShow;
const onUnreadCountChange = (callback) => callIntercomMethod("onUnreadCountChange", callback);
exports.onUnreadCountChange = onUnreadCountChange;
const trackEvent = (...args) => callIntercomMethod("trackEvent", ...args);
exports.trackEvent = trackEvent;
const getVisitorId = () => callIntercomMethod("getVisitorId");
exports.getVisitorId = getVisitorId;
const startTour = (tourId) => callIntercomMethod("startTour", tourId);
exports.startTour = startTour;
const showArticle = (articleId) => callIntercomMethod("showArticle", articleId);
exports.showArticle = showArticle;
const showNews = (newsItemId) => callIntercomMethod("showNews", newsItemId);
exports.showNews = showNews;
const startSurvey = (surveyId) => callIntercomMethod("startSurvey", surveyId);
exports.startSurvey = startSurvey;
const startChecklist = (checklistId) => callIntercomMethod("startChecklist", checklistId);
exports.startChecklist = startChecklist;
const showTicket = (ticketId) => callIntercomMethod("showTicket", ticketId);
exports.showTicket = showTicket;
const showConversation = (conversationId) => callIntercomMethod("showConversation", conversationId);
exports.showConversation = showConversation;
const onUserEmailSupplied = (callback) => callIntercomMethod("onUserEmailSupplied", callback);
exports.onUserEmailSupplied = onUserEmailSupplied;


/***/ }),

/***/ 40384:
/***/ (function(__unused_webpack_module, exports) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ref = exports.init = void 0;
const scriptElementId = "_intercom_npm_loader";
// This holds a queue of commands to be passed to the messenger widget API after it is added to the page
const queueHolder = function () {
    queueHolder.loaderQueue(arguments);
};
queueHolder.q = [];
queueHolder.loaderQueue = function (args) {
    queueHolder.q.push(args);
};
const addWidgetToPage = function () {
    var _a, _b;
    var d = document;
    if (d.getElementById(scriptElementId)) {
        // script is already in DOM
        return;
    }
    var s = d.createElement("script");
    s.type = "text/javascript";
    s.async = true;
    s.id = scriptElementId;
    s.src =
        "https://widget.intercom.io/widget/" + ((_a = window.intercomSettings) === null || _a === void 0 ? void 0 : _a.app_id);
    var x = d.getElementsByTagName("script")[0];
    (_b = x.parentNode) === null || _b === void 0 ? void 0 : _b.insertBefore(s, x);
};
const isDocumentReady = () => document.readyState === "complete" || document.readyState === "interactive";
const init = () => __awaiter(void 0, void 0, void 0, function* () {
    var w = window;
    var ic = w.Intercom;
    if (w.intercomSettings) {
        w.intercomSettings.installation_type = "npm-package";
    }
    if (typeof ic === "function") {
        ic("reattach_activator");
        ic("update", w.intercomSettings);
    }
    else {
        w.Intercom = queueHolder;
        if (isDocumentReady()) {
            addWidgetToPage();
        }
        else {
            document.addEventListener("readystatechange", function () {
                if (isDocumentReady()) {
                    addWidgetToPage();
                }
            });
            if (w.attachEvent) {
                w.attachEvent("onload", addWidgetToPage);
            }
            else {
                w.addEventListener("load", addWidgetToPage, false);
            }
        }
    }
});
exports.init = init;
exports.ref = undefined;


/***/ }),

/***/ 620394:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ ArrowUpRight)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const ArrowUpRight = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("ArrowUpRight", [
    [
        "path",
        {
            d: "M7 7h10v10",
            key: "1tivn9"
        }
    ],
    [
        "path",
        {
            d: "M7 17 17 7",
            key: "1vkiza"
        }
    ]
]);
 //# sourceMappingURL=arrow-up-right.js.map


/***/ }),

/***/ 178741:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Key)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Key = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Key", [
    [
        "path",
        {
            d: "m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",
            key: "g0fldk"
        }
    ],
    [
        "path",
        {
            d: "m21 2-9.6 9.6",
            key: "1j0ho8"
        }
    ],
    [
        "circle",
        {
            cx: "7.5",
            cy: "15.5",
            r: "5.5",
            key: "yqb3hr"
        }
    ]
]);
 //# sourceMappingURL=key.js.map


/***/ }),

/***/ 721964:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Trash)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Trash = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Trash", [
    [
        "path",
        {
            d: "M3 6h18",
            key: "d0wm0j"
        }
    ],
    [
        "path",
        {
            d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",
            key: "4alrt4"
        }
    ],
    [
        "path",
        {
            d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",
            key: "v07s0e"
        }
    ]
]);
 //# sourceMappingURL=trash.js.map


/***/ }),

/***/ 467935:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ TriangleAlert)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const TriangleAlert = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("TriangleAlert", [
    [
        "path",
        {
            d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",
            key: "wmoenq"
        }
    ],
    [
        "path",
        {
            d: "M12 9v4",
            key: "juzpu7"
        }
    ],
    [
        "path",
        {
            d: "M12 17h.01",
            key: "p32p05"
        }
    ]
]);
 //# sourceMappingURL=triangle-alert.js.map


/***/ }),

/***/ 969614:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Users)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Users = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Users", [
    [
        "path",
        {
            d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
            key: "1yyitq"
        }
    ],
    [
        "circle",
        {
            cx: "9",
            cy: "7",
            r: "4",
            key: "nufk8"
        }
    ],
    [
        "path",
        {
            d: "M22 21v-2a4 4 0 0 0-3-3.87",
            key: "kshegd"
        }
    ],
    [
        "path",
        {
            d: "M16 3.13a4 4 0 0 1 0 7.75",
            key: "1da9ce"
        }
    ]
]);
 //# sourceMappingURL=users.js.map


/***/ }),

/***/ 858191:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Webhook)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Webhook = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Webhook", [
    [
        "path",
        {
            d: "M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",
            key: "q3hayz"
        }
    ],
    [
        "path",
        {
            d: "m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",
            key: "1go1hn"
        }
    ],
    [
        "path",
        {
            d: "m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",
            key: "qlwsc0"
        }
    ]
]);
 //# sourceMappingURL=webhook.js.map


/***/ }),

/***/ 775453:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $B: () => (/* binding */ convertDateString),
/* harmony export */   Yq: () => (/* binding */ formatDate),
/* harmony export */   _D: () => (/* binding */ timeSince),
/* harmony export */   oS: () => (/* binding */ timeSinceDate),
/* harmony export */   qb: () => (/* binding */ convertDateTimeStringShort)
/* harmony export */ });
/* unused harmony exports convertDateTimeString, convertTimeString, getTodaysDateFormatted, getTodaysDateTimeFormatted, convertDatesInObject */
/* harmony import */ var _barrel_optimize_names_formatDistance_intlFormat_date_fns__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(527348);
/* harmony import */ var _barrel_optimize_names_formatDistance_intlFormat_date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(15056);
/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(154445);
/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(119472);
/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(907374);
/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(144208);


const convertDateString = (dateString)=>{
    if (!dateString) {
        return dateString;
    }
    const date = new Date(dateString);
    return (0,_barrel_optimize_names_formatDistance_intlFormat_date_fns__WEBPACK_IMPORTED_MODULE_0__/* .intlFormat */ .b)(date, {
        year: "numeric",
        month: "short",
        day: "numeric"
    }, {
        locale: "en"
    });
};
const convertDateTimeString = (dateString)=>{
    if (!dateString) {
        return dateString;
    }
    const date = new Date(dateString);
    return intlFormat(date, {
        weekday: "long",
        year: "numeric",
        month: "long",
        day: "numeric",
        hour: "numeric",
        minute: "2-digit"
    }, {
        locale: "en"
    });
};
const convertDateTimeStringShort = (dateString)=>{
    if (!dateString) {
        return dateString;
    }
    const date = new Date(dateString);
    return (0,_barrel_optimize_names_formatDistance_intlFormat_date_fns__WEBPACK_IMPORTED_MODULE_0__/* .intlFormat */ .b)(date, {
        year: "numeric",
        month: "long",
        day: "numeric",
        hour: "numeric",
        minute: "2-digit"
    }, {
        locale: "en"
    });
};
const convertTimeString = (dateString)=>{
    const date = new Date(dateString);
    return intlFormat(date, {
        hour: "numeric",
        minute: "2-digit",
        second: "2-digit"
    }, {
        locale: "en"
    });
};
const getLocaleForTimeSince = (locale)=>{
    switch(locale){
        case "de-DE":
            return date_fns_locale__WEBPACK_IMPORTED_MODULE_1__.de;
        case "en-US":
            return date_fns_locale__WEBPACK_IMPORTED_MODULE_2__/* .enUS */ .c;
        case "pt-BR":
            return date_fns_locale__WEBPACK_IMPORTED_MODULE_3__/* .ptBR */ .F;
        case "fr-FR":
            return date_fns_locale__WEBPACK_IMPORTED_MODULE_4__.fr;
    }
};
const timeSince = (dateString, locale)=>{
    const date = new Date(dateString);
    return (0,_barrel_optimize_names_formatDistance_intlFormat_date_fns__WEBPACK_IMPORTED_MODULE_5__/* .formatDistance */ .B)(date, new Date(), {
        addSuffix: true,
        locale: getLocaleForTimeSince(locale)
    });
};
const timeSinceDate = (date)=>{
    return (0,_barrel_optimize_names_formatDistance_intlFormat_date_fns__WEBPACK_IMPORTED_MODULE_5__/* .formatDistance */ .B)(date, new Date(), {
        addSuffix: true
    });
};
const formatDate = (date)=>{
    return (0,_barrel_optimize_names_formatDistance_intlFormat_date_fns__WEBPACK_IMPORTED_MODULE_0__/* .intlFormat */ .b)(date, {
        year: "numeric",
        month: "long",
        day: "numeric"
    });
};
const getTodaysDateFormatted = (seperator)=>{
    const date = new Date();
    const formattedDate = date.toISOString().split("T")[0].split("-").join(seperator);
    return formattedDate;
};
const getTodaysDateTimeFormatted = (seperator)=>{
    const date = new Date();
    const formattedDate = date.toISOString().split("T")[0].split("-").join(seperator);
    const formattedTime = date.toTimeString().split(" ")[0].split(":").join(seperator);
    return [
        formattedDate,
        formattedTime
    ].join(seperator);
};
const convertDatesInObject = (obj)=>{
    if (obj === null || typeof obj !== "object") {
        return obj; // Return if obj is not an object
    }
    if (Array.isArray(obj)) {
        // Handle arrays by mapping each element through the function
        return obj.map((item)=>convertDatesInObject(item));
    }
    const newObj = {};
    for(const key in obj){
        if ((key === "createdAt" || key === "updatedAt") && typeof obj[key] === "string" && !isNaN(Date.parse(obj[key]))) {
            newObj[key] = new Date(obj[key]);
        } else if (typeof obj[key] === "object" && obj[key] !== null) {
            newObj[key] = convertDatesInObject(obj[key]);
        } else {
            newObj[key] = obj[key];
        }
    }
    return newObj;
};


/***/ }),

/***/ 210821:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ page)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(891069);
// EXTERNAL MODULE: ./modules/auth/lib/authOptions.ts + 8 modules
var authOptions = __webpack_require__(136015);
// EXTERNAL MODULE: ./modules/ee/teams/lib/roles.ts
var roles = __webpack_require__(389846);
// EXTERNAL MODULE: ./modules/ee/teams/utils/teams.ts
var teams = __webpack_require__(596379);
// EXTERNAL MODULE: ./modules/integrations/webhooks/components/add-webhook-button.tsx
var add_webhook_button = __webpack_require__(507779);
// EXTERNAL MODULE: ./modules/integrations/webhooks/components/webhook-row-data.tsx
var webhook_row_data = __webpack_require__(607056);
// EXTERNAL MODULE: ./modules/integrations/webhooks/components/webhook-table.tsx
var webhook_table = __webpack_require__(698717);
// EXTERNAL MODULE: ./tolgee/server.tsx + 2 modules
var server = __webpack_require__(186184);
;// ./modules/integrations/webhooks/components/webhook-table-heading.tsx


const WebhookTableHeading = async ()=>{
    const t = await (0,server/* getTranslate */.r)();
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(react_jsx_runtime.Fragment, {
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
            className: "grid h-12 grid-cols-12 content-center rounded-lg bg-slate-100 text-left text-sm font-semibold text-slate-900",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("span", {
                    className: "sr-only",
                    children: t("common.edit")
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                    className: "col-span-3 pl-6",
                    children: t("common.webhook")
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                    className: "col-span-1 text-center",
                    children: t("environments.integrations.webhooks.source")
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                    className: "col-span-4 text-center",
                    children: t("common.surveys")
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                    className: "col-span-2 text-center",
                    children: t("environments.integrations.webhooks.triggers")
                }),
                /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                    className: "col-span-2 text-center",
                    children: t("common.updated")
                })
            ]
        })
    });
};

// EXTERNAL MODULE: ./lib/cache/webhook.ts
var webhook = __webpack_require__(335381);
// EXTERNAL MODULE: external "@prisma/client"
var client_ = __webpack_require__(896330);
// EXTERNAL MODULE: ../../packages/database/src/index.ts + 1 modules
var src = __webpack_require__(527610);
// EXTERNAL MODULE: ../../packages/lib/cache.ts
var cache = __webpack_require__(794356);
// EXTERNAL MODULE: ../../packages/lib/utils/validate.ts
var validate = __webpack_require__(860988);
// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(733735);
// EXTERNAL MODULE: ../../packages/types/errors.ts
var errors = __webpack_require__(470641);
;// ./modules/integrations/webhooks/lib/webhook.ts








const updateWebhook = async (webhookId, webhookInput)=>{
    try {
        const updatedWebhook = await prisma.webhook.update({
            where: {
                id: webhookId
            },
            data: {
                name: webhookInput.name,
                url: webhookInput.url,
                triggers: webhookInput.triggers,
                surveyIds: webhookInput.surveyIds || []
            }
        });
        webhookCache.revalidate({
            id: updatedWebhook.id,
            environmentId: updatedWebhook.environmentId,
            source: updatedWebhook.source
        });
        return true;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        throw error;
    }
};
const deleteWebhook = async (id)=>{
    try {
        let deletedWebhook = await prisma.webhook.delete({
            where: {
                id
            }
        });
        webhookCache.revalidate({
            id: deletedWebhook.id,
            environmentId: deletedWebhook.environmentId,
            source: deletedWebhook.source
        });
        return true;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError && error.code === "P2025") {
            throw new ResourceNotFoundError("Webhook", id);
        }
        throw new DatabaseError(`Database error when deleting webhook with ID ${id}`);
    }
};
const createWebhook = async (environmentId, webhookInput)=>{
    try {
        if (isDiscordWebhook(webhookInput.url)) {
            throw new UnknownError("Discord webhooks are currently not supported.");
        }
        const createdWebhook = await prisma.webhook.create({
            data: {
                ...webhookInput,
                surveyIds: webhookInput.surveyIds || [],
                environment: {
                    connect: {
                        id: environmentId
                    }
                }
            }
        });
        webhookCache.revalidate({
            id: createdWebhook.id,
            environmentId: createdWebhook.environmentId,
            source: createdWebhook.source
        });
        return true;
    } catch (error) {
        if (error instanceof Prisma.PrismaClientKnownRequestError) {
            throw new DatabaseError(error.message);
        }
        if (!(error instanceof InvalidInputError)) {
            throw new DatabaseError(`Database error when creating webhook for environment ${environmentId}`);
        }
        throw error;
    }
};
const getWebhooks = (environmentId)=>(0,cache/* cache */.P)(async ()=>{
        (0,validate/* validateInputs */.C)([
            environmentId,
            common/* ZId */.i4
        ]);
        try {
            const webhooks = await src/* prisma */.z.webhook.findMany({
                where: {
                    environmentId: environmentId
                },
                orderBy: {
                    createdAt: "desc"
                }
            });
            return webhooks;
        } catch (error) {
            if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
                throw new errors/* DatabaseError */.a$(error.message);
            }
            throw error;
        }
    }, [
        `getWebhooks-${environmentId}`
    ], {
        tags: [
            webhook/* webhookCache */.Q.tag.byEnvironmentId(environmentId)
        ]
    })();
const testEndpoint = async (url)=>{
    try {
        const controller = new AbortController();
        const timeout = setTimeout(()=>controller.abort(), 5000);
        if (isDiscordWebhook(url)) {
            throw new UnknownError("Discord webhooks are currently not supported.");
        }
        const response = await fetch(url, {
            method: "POST",
            body: JSON.stringify({
                event: "testEndpoint"
            }),
            headers: {
                "Content-Type": "application/json"
            },
            signal: controller.signal
        });
        clearTimeout(timeout);
        const statusCode = response.status;
        if (statusCode >= 200 && statusCode < 300) {
            return true;
        } else {
            const errorMessage = await response.text().then((text)=>text.substring(0, 1000) // Limit error message size
            );
            throw new UnknownError(`Request failed with status code ${statusCode}: ${errorMessage}`);
        }
    } catch (error) {
        if (error.name === "AbortError") {
            throw new UnknownError("Request timed out after 5 seconds");
        }
        if (error instanceof UnknownError) {
            throw error;
        }
        throw new UnknownError(`Error while fetching the URL: ${error.message}`);
    }
};

// EXTERNAL MODULE: ./modules/ui/components/go-back-button/index.tsx
var go_back_button = __webpack_require__(628723);
// EXTERNAL MODULE: ./modules/ui/components/page-content-wrapper/index.tsx
var page_content_wrapper = __webpack_require__(746219);
// EXTERNAL MODULE: ./modules/ui/components/page-header/index.tsx
var page_header = __webpack_require__(109053);
// EXTERNAL MODULE: ../../node_modules/next-auth/index.js
var next_auth = __webpack_require__(963302);
// EXTERNAL MODULE: ../../packages/lib/environment/service.ts
var service = __webpack_require__(32135);
// EXTERNAL MODULE: ../../packages/lib/membership/service.ts
var membership_service = __webpack_require__(377968);
// EXTERNAL MODULE: ../../packages/lib/membership/utils.ts
var utils = __webpack_require__(159570);
// EXTERNAL MODULE: ../../packages/lib/organization/service.ts
var organization_service = __webpack_require__(353687);
// EXTERNAL MODULE: ../../packages/lib/survey/service.ts
var survey_service = __webpack_require__(222118);
// EXTERNAL MODULE: ../../packages/lib/utils/locale.ts
var utils_locale = __webpack_require__(615572);
;// ./modules/integrations/webhooks/page.tsx




















const WebhooksPage = async (props)=>{
    const params = await props.params;
    const t = await (0,server/* getTranslate */.r)();
    const [session, organization, webhooks, surveys, environment] = await Promise.all([
        (0,next_auth.getServerSession)(authOptions/* authOptions */.N),
        (0,organization_service/* getOrganizationByEnvironmentId */.TK)(params.environmentId),
        getWebhooks(params.environmentId),
        (0,survey_service/* getSurveys */.k_)(params.environmentId, 200),
        (0,service/* getEnvironment */.uc)(params.environmentId)
    ]);
    if (!session) {
        throw new Error(t("common.session_not_found"));
    }
    if (!environment) {
        throw new Error(t("common.environment_not_found"));
    }
    if (!organization) {
        throw new Error(t("common.organization_not_found"));
    }
    const currentUserMembership = await (0,membership_service/* getMembershipByUserIdOrganizationId */.Y)(session?.user.id, organization.id);
    const { isMember } = (0,utils/* getAccessFlags */.c)(currentUserMembership?.role);
    const projectPermission = await (0,roles/* getProjectPermissionByUserId */._)(session?.user.id, environment?.projectId);
    const { hasReadAccess } = (0,teams/* getTeamPermissionFlags */.od)(projectPermission);
    const isReadOnly = isMember && hasReadAccess;
    const renderAddWebhookButton = ()=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(add_webhook_button.AddWebhookButton, {
            environment: environment,
            surveys: surveys
        });
    const locale = await (0,utils_locale/* findMatchingLocale */.$)();
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(page_content_wrapper/* PageContentWrapper */.s, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(go_back_button.GoBackButton, {}),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(page_header/* PageHeader */.z, {
                pageTitle: t("common.webhooks"),
                cta: !isReadOnly ? renderAddWebhookButton() : /*#__PURE__*/ (0,react_jsx_runtime.jsx)(react_jsx_runtime.Fragment, {})
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(webhook_table.WebhookTable, {
                environment: environment,
                webhooks: webhooks,
                surveys: surveys,
                isReadOnly: isReadOnly,
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(WebhookTableHeading, {}),
                    webhooks.map((webhook)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(webhook_row_data.WebhookRowData, {
                            webhook: webhook,
                            surveys: surveys,
                            locale: locale
                        }, webhook.id))
                ]
            })
        ]
    });
};

;// ./app/(app)/environments/[environmentId]/integrations/webhooks/page.tsx

/* harmony default export */ const page = (WebhooksPage);


/***/ }),

/***/ 335381:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* binding */ webhookCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87863);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const webhookCache = {
    tag: {
        byId (id) {
            return `webhooks-${id}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-webhooks`;
        },
        byEnvironmentIdAndSource (environmentId, source) {
            return `environments-${environmentId}-sources-${source}-webhooks`;
        }
    },
    revalidate ({ id, environmentId, source }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
        if (environmentId && source) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentIdAndSource(environmentId, source));
        }
    }
};


/***/ }),

/***/ 596379:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   od: () => (/* binding */ getTeamPermissionFlags)
/* harmony export */ });
/* unused harmony exports TeamPermissionMapping, TeamRoleMapping, getTeamAccessFlags */
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(896330);
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);

const TeamPermissionMapping = {
    [_prisma_client__WEBPACK_IMPORTED_MODULE_0__.ProjectTeamPermission.read]: "Read",
    [_prisma_client__WEBPACK_IMPORTED_MODULE_0__.ProjectTeamPermission.readWrite]: "Read & write",
    [_prisma_client__WEBPACK_IMPORTED_MODULE_0__.ProjectTeamPermission.manage]: "Manage"
};
const TeamRoleMapping = {
    [_prisma_client__WEBPACK_IMPORTED_MODULE_0__.TeamUserRole.admin]: "Team Admin",
    [_prisma_client__WEBPACK_IMPORTED_MODULE_0__.TeamUserRole.contributor]: "Contributor"
};
const getTeamAccessFlags = (role)=>{
    const isAdmin = role === TeamUserRole.admin;
    const isContributor = role === TeamUserRole.contributor;
    return {
        isAdmin,
        isContributor
    };
};
const getTeamPermissionFlags = (permissionLevel)=>{
    const hasReadAccess = permissionLevel === _prisma_client__WEBPACK_IMPORTED_MODULE_0__.ProjectTeamPermission.read;
    const hasReadWriteAccess = permissionLevel === _prisma_client__WEBPACK_IMPORTED_MODULE_0__.ProjectTeamPermission.readWrite;
    const hasManageAccess = permissionLevel === _prisma_client__WEBPACK_IMPORTED_MODULE_0__.ProjectTeamPermission.manage;
    return {
        hasReadAccess,
        hasReadWriteAccess,
        hasManageAccess
    };
};


/***/ }),

/***/ 507779:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddWebhookButton: () => (/* binding */ AddWebhookButton)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const AddWebhookButton = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call AddWebhookButton() from the server but AddWebhookButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/integrations/webhooks/components/add-webhook-button.tsx",
"AddWebhookButton",
);

/***/ }),

/***/ 607056:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebhookRowData: () => (/* binding */ WebhookRowData)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const WebhookRowData = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call WebhookRowData() from the server but WebhookRowData is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/integrations/webhooks/components/webhook-row-data.tsx",
"WebhookRowData",
);

/***/ }),

/***/ 698717:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebhookTable: () => (/* binding */ WebhookTable)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const WebhookTable = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call WebhookTable() from the server but WebhookTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/integrations/webhooks/components/webhook-table.tsx",
"WebhookTable",
);

/***/ }),

/***/ 628723:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GoBackButton: () => (/* binding */ GoBackButton)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const GoBackButton = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call GoBackButton() from the server but GoBackButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/ui/components/go-back-button/index.tsx",
"GoBackButton",
);

/***/ }),

/***/ 746219:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   s: () => (/* binding */ PageContentWrapper)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(598597);


const PageContentWrapper = ({ children, className })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("h-full space-y-6 p-6", className),
        children: children
    });
};


/***/ }),

/***/ 109053:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   z: () => (/* binding */ PageHeader)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(598597);


const PageHeader = ({ cta, pageTitle, children })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: "border-b border-slate-200",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "flex items-center justify-between space-x-4 pb-4",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", {
                        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("text-3xl font-bold capitalize text-slate-800"),
                        children: pageTitle
                    }),
                    cta
                ]
            }),
            children
        ]
    });
};


/***/ }),

/***/ 598597:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cn: () => (/* binding */ cn)
/* harmony export */ });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(966190);
/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(263798);


const cn = (...inputs)=>{
    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__/* .twMerge */ .QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__/* .clsx */ .$)(inputs));
};


/***/ }),

/***/ 600618:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   s: () => (/* binding */ testEndpointAction)
/* harmony export */ });
/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(308441);
/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__);

const testEndpointAction = /*#__PURE__*/(0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)("7f2c5c9dc2ba481d5ce8203b39295c12d0c97fd6e1", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, undefined, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, "testEndpointAction")

/***/ }),

/***/ 20913:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C1: () => (/* binding */ Indicator),
/* harmony export */   bL: () => (/* binding */ Root)
/* harmony export */ });
/* unused harmony exports Checkbox, CheckboxIndicator, createCheckboxScope */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891616);
/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(730613);
/* harmony import */ var _radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(176235);
/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(763095);
/* harmony import */ var _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(409689);
/* harmony import */ var _radix_ui_react_use_previous__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(809391);
/* harmony import */ var _radix_ui_react_use_size__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(525611);
/* harmony import */ var _radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(602397);
/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(832713);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(642725);
/* __next_internal_client_entry_do_not_use__ Checkbox,CheckboxIndicator,Indicator,Root,createCheckboxScope auto */ // packages/react/checkbox/src/Checkbox.tsx










var CHECKBOX_NAME = "Checkbox";
var [createCheckboxContext, createCheckboxScope] = (0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__/* .createContextScope */ .A)(CHECKBOX_NAME);
var [CheckboxProvider, useCheckboxContext] = createCheckboxContext(CHECKBOX_NAME);
var Checkbox = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props, forwardedRef)=>{
    const { __scopeCheckbox, name, checked: checkedProp, defaultChecked, required, disabled, value = "on", onCheckedChange, form, ...checkboxProps } = props;
    const [button, setButton] = react__WEBPACK_IMPORTED_MODULE_0__.useState(null);
    const composedRefs = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_3__/* .useComposedRefs */ .s)(forwardedRef, (node)=>setButton(node));
    const hasConsumerStoppedPropagationRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);
    const isFormControl = button ? form || !!button.closest("form") : true;
    const [checked = false, setChecked] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_4__/* .useControllableState */ .i)({
        prop: checkedProp,
        defaultProp: defaultChecked,
        onChange: onCheckedChange
    });
    const initialCheckedStateRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(checked);
    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{
        const form2 = button?.form;
        if (form2) {
            const reset = ()=>setChecked(initialCheckedStateRef.current);
            form2.addEventListener("reset", reset);
            return ()=>form2.removeEventListener("reset", reset);
        }
    }, [
        button,
        setChecked
    ]);
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(CheckboxProvider, {
        scope: __scopeCheckbox,
        state: checked,
        disabled,
        children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__/* .Primitive */ .sG.button, {
                type: "button",
                role: "checkbox",
                "aria-checked": isIndeterminate(checked) ? "mixed" : checked,
                "aria-required": required,
                "data-state": getState(checked),
                "data-disabled": disabled ? "" : void 0,
                disabled,
                value,
                ...checkboxProps,
                ref: composedRefs,
                onKeyDown: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_6__/* .composeEventHandlers */ .m)(props.onKeyDown, (event)=>{
                    if (event.key === "Enter") event.preventDefault();
                }),
                onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_6__/* .composeEventHandlers */ .m)(props.onClick, (event)=>{
                    setChecked((prevChecked)=>isIndeterminate(prevChecked) ? true : !prevChecked);
                    if (isFormControl) {
                        hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();
                        if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();
                    }
                })
            }),
            isFormControl && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BubbleInput, {
                control: button,
                bubbles: !hasConsumerStoppedPropagationRef.current,
                name,
                value,
                checked,
                required,
                disabled,
                form,
                style: {
                    transform: "translateX(-100%)"
                },
                defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked
            })
        ]
    });
});
Checkbox.displayName = CHECKBOX_NAME;
var INDICATOR_NAME = "CheckboxIndicator";
var CheckboxIndicator = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props, forwardedRef)=>{
    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;
    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_7__/* .Presence */ .C, {
        present: forceMount || isIndeterminate(context.state) || context.state === true,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__/* .Primitive */ .sG.span, {
            "data-state": getState(context.state),
            "data-disabled": context.disabled ? "" : void 0,
            ...indicatorProps,
            ref: forwardedRef,
            style: {
                pointerEvents: "none",
                ...props.style
            }
        })
    });
});
CheckboxIndicator.displayName = INDICATOR_NAME;
var BubbleInput = (props)=>{
    const { control, checked, bubbles = true, defaultChecked, ...inputProps } = props;
    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
    const prevChecked = (0,_radix_ui_react_use_previous__WEBPACK_IMPORTED_MODULE_8__/* .usePrevious */ .Z)(checked);
    const controlSize = (0,_radix_ui_react_use_size__WEBPACK_IMPORTED_MODULE_9__/* .useSize */ .X)(control);
    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{
        const input = ref.current;
        const inputProto = window.HTMLInputElement.prototype;
        const descriptor = Object.getOwnPropertyDescriptor(inputProto, "checked");
        const setChecked = descriptor.set;
        if (prevChecked !== checked && setChecked) {
            const event = new Event("click", {
                bubbles
            });
            input.indeterminate = isIndeterminate(checked);
            setChecked.call(input, isIndeterminate(checked) ? false : checked);
            input.dispatchEvent(event);
        }
    }, [
        prevChecked,
        checked,
        bubbles
    ]);
    const defaultCheckedRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(isIndeterminate(checked) ? false : checked);
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("input", {
        type: "checkbox",
        "aria-hidden": true,
        defaultChecked: defaultChecked ?? defaultCheckedRef.current,
        ...inputProps,
        tabIndex: -1,
        ref,
        style: {
            ...props.style,
            ...controlSize,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    });
};
function isIndeterminate(checked) {
    return checked === "indeterminate";
}
function getState(checked) {
    return isIndeterminate(checked) ? "indeterminate" : checked ? "checked" : "unchecked";
}
var Root = Checkbox;
var Indicator = CheckboxIndicator;
 //# sourceMappingURL=index.mjs.map


/***/ }),

/***/ 635276:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bL: () => (/* binding */ Root),
/* harmony export */   zi: () => (/* binding */ Thumb)
/* harmony export */ });
/* unused harmony exports Switch, SwitchThumb, createSwitchScope */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891616);
/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(763095);
/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(730613);
/* harmony import */ var _radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(176235);
/* harmony import */ var _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(409689);
/* harmony import */ var _radix_ui_react_use_previous__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(809391);
/* harmony import */ var _radix_ui_react_use_size__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(525611);
/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(832713);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(642725);
/* __next_internal_client_entry_do_not_use__ Root,Switch,SwitchThumb,Thumb,createSwitchScope auto */ // packages/react/switch/src/Switch.tsx









var SWITCH_NAME = "Switch";
var [createSwitchContext, createSwitchScope] = (0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__/* .createContextScope */ .A)(SWITCH_NAME);
var [SwitchProvider, useSwitchContext] = createSwitchContext(SWITCH_NAME);
var Switch = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props, forwardedRef)=>{
    const { __scopeSwitch, name, checked: checkedProp, defaultChecked, required, disabled, value = "on", onCheckedChange, form, ...switchProps } = props;
    const [button, setButton] = react__WEBPACK_IMPORTED_MODULE_0__.useState(null);
    const composedRefs = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_3__/* .useComposedRefs */ .s)(forwardedRef, (node)=>setButton(node));
    const hasConsumerStoppedPropagationRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);
    const isFormControl = button ? form || !!button.closest("form") : true;
    const [checked = false, setChecked] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_4__/* .useControllableState */ .i)({
        prop: checkedProp,
        defaultProp: defaultChecked,
        onChange: onCheckedChange
    });
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(SwitchProvider, {
        scope: __scopeSwitch,
        checked,
        disabled,
        children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__/* .Primitive */ .sG.button, {
                type: "button",
                role: "switch",
                "aria-checked": checked,
                "aria-required": required,
                "data-state": getState(checked),
                "data-disabled": disabled ? "" : void 0,
                disabled,
                value,
                ...switchProps,
                ref: composedRefs,
                onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_6__/* .composeEventHandlers */ .m)(props.onClick, (event)=>{
                    setChecked((prevChecked)=>!prevChecked);
                    if (isFormControl) {
                        hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();
                        if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();
                    }
                })
            }),
            isFormControl && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BubbleInput, {
                control: button,
                bubbles: !hasConsumerStoppedPropagationRef.current,
                name,
                value,
                checked,
                required,
                disabled,
                form,
                style: {
                    transform: "translateX(-100%)"
                }
            })
        ]
    });
});
Switch.displayName = SWITCH_NAME;
var THUMB_NAME = "SwitchThumb";
var SwitchThumb = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props, forwardedRef)=>{
    const { __scopeSwitch, ...thumbProps } = props;
    const context = useSwitchContext(THUMB_NAME, __scopeSwitch);
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__/* .Primitive */ .sG.span, {
        "data-state": getState(context.checked),
        "data-disabled": context.disabled ? "" : void 0,
        ...thumbProps,
        ref: forwardedRef
    });
});
SwitchThumb.displayName = THUMB_NAME;
var BubbleInput = (props)=>{
    const { control, checked, bubbles = true, ...inputProps } = props;
    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
    const prevChecked = (0,_radix_ui_react_use_previous__WEBPACK_IMPORTED_MODULE_7__/* .usePrevious */ .Z)(checked);
    const controlSize = (0,_radix_ui_react_use_size__WEBPACK_IMPORTED_MODULE_8__/* .useSize */ .X)(control);
    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{
        const input = ref.current;
        const inputProto = window.HTMLInputElement.prototype;
        const descriptor = Object.getOwnPropertyDescriptor(inputProto, "checked");
        const setChecked = descriptor.set;
        if (prevChecked !== checked && setChecked) {
            const event = new Event("click", {
                bubbles
            });
            setChecked.call(input, checked);
            input.dispatchEvent(event);
        }
    }, [
        prevChecked,
        checked,
        bubbles
    ]);
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("input", {
        type: "checkbox",
        "aria-hidden": true,
        defaultChecked: checked,
        ...inputProps,
        tabIndex: -1,
        ref,
        style: {
            ...props.style,
            ...controlSize,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    });
};
function getState(checked) {
    return checked ? "checked" : "unchecked";
}
var Root = Switch;
var Thumb = SwitchThumb;
 //# sourceMappingURL=index.mjs.map


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [8079,3073,7863,5069,255,9759,6626,5570,1238,2021,9069,2195,7762,1469,5294,4900,6911,2075,1659,5667,6689,2446,9726,497,4218,9325,8785,8728,9398,3798,881,5604,9103,3687,7864,8046,8235,5752,3840,9160,4660,5863,8310,1612,7043], () => (__webpack_exec__(528557)));
module.exports = __webpack_exports__;

})();
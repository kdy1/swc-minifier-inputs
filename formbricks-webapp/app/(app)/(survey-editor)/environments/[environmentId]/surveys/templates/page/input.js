(() => {
var exports = {};
exports.id = 1295;
exports.ids = [1295];
exports.modules = {

/***/ 896330:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ 560483:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client/scripts/default-index.js");

/***/ }),

/***/ 710846:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.prod.js");

/***/ }),

/***/ 419121:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ 903295:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ 529294:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ 663033:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ 912412:
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ 979428:
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ 455511:
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ 594735:
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ 629021:
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ 781630:
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ 55591:
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ 491645:
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ 321820:
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ 333873:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 111723:
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ 927910:
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ 134631:
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ 583997:
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ 379551:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 328354:
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ 173566:
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ 74075:
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ 504573:
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ 977598:
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ 973024:
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ 937067:
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ 344708:
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ 777030:
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ 176760:
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ 1708:
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ 157075:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ 337830:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ 173136:
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ 257975:
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ 638522:
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ 318575:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   routeModule: () => (/* binding */ routeModule),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(290735);
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(291232);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(272914);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(240085);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if(["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
const module0 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 86397));
const module1 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 836653));
const module2 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 956791));
const module3 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module4 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module5 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 524160));
const module6 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module7 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module8 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 179182));
const module9 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 297925));
const page10 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 754417));


// We inject the tree and pages here so that we can use them in the route
// module.
const tree = {
        children: [
        '',
        {
        children: [
        '(app)',
        {
        children: [
        '(survey-editor)',
        {
        children: [
        'environments',
        {
        children: [
        '[environmentId]',
        {
        children: [
        'surveys',
        {
        children: [
        'templates',
        {
        children: ['__PAGE__', {}, {
          page: [page10, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/page.tsx"],
          
        }]
      },
        {
        'loading': [module9, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/loading.tsx"],
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module8, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/(survey-editor)/environments/[environmentId]/layout.tsx"],
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module5, "/Users/kdy1/projects/formbricks/apps/web/app/(app)/layout.tsx"],
'forbidden': [module6, "next/dist/client/components/forbidden-error"],
'unauthorized': [module7, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      },
        {
        'layout': [module0, "/Users/kdy1/projects/formbricks/apps/web/app/layout.tsx"],
'error': [module1, "/Users/kdy1/projects/formbricks/apps/web/app/error.tsx"],
'not-found': [module2, "/Users/kdy1/projects/formbricks/apps/web/app/not-found.tsx"],
'forbidden': [module3, "next/dist/client/components/forbidden-error"],
'unauthorized': [module4, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      }.children;
const pages = ["/Users/kdy1/projects/formbricks/apps/web/app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/page.tsx"];


const __next_app_require__ = __webpack_require__
const __next_app_load_chunk__ = () => Promise.resolve()
const __next_app__ = {
    require: __next_app_require__,
    loadChunk: __next_app_load_chunk__
};

// Create and export the route module that will be consumed.
const routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({
    definition: {
        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,
        page: "/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/page",
        pathname: "/environments/[environmentId]/surveys/templates",
        // The following aren't used in production.
        bundlePath: '',
        filename: '',
        appPaths: []
    },
    userland: {
        loaderTree: tree
    }
});

//# sourceMappingURL=app-page.js.map

/***/ }),

/***/ 64307:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "7f02f4c0ee559b54df1f23dd14b9572673cb7efa8a": () => (/* reexport */ createAISurveyAction),
  "7f11f2efac37ac84796e6cb223722dbe2e808e177f": () => (/* reexport */ services/* getResponse */.mi),
  "7f12957c3365cc2950bdc48f0118f82439eb6c23ec": () => (/* reexport */ services/* getSurvey */.Dp),
  "7f20db167926d501ff62b9525526548773c8a436d4": () => (/* reexport */ services/* isTeamPartOfOrganization */.l5),
  "7f36cf02b548a01d85112f587591e8c1e8390fa538": () => (/* reexport */ services/* isProjectPartOfOrganization */.Xj),
  "7f4f2c9c8b657cf906e9a25e65dafac6ec65967916": () => (/* reexport */ services/* getWebhook */.O0),
  "7f540889be00b7aa8c6ff1edc5cd79ece876954fd3": () => (/* reexport */ services/* getInvite */.I_),
  "7f60061b4b6be335eaa2facd1c5d8129b87f6923f4": () => (/* reexport */ services/* getActionClass */.Bx),
  "7f670a0537f96de8b5156e1b206124b2a990484370": () => (/* reexport */ services/* getApiKey */.CG),
  "7f74bd40a1f82de833915085152910f3ebd525b356": () => (/* reexport */ services/* getTeam */.Uo),
  "7fb9a3e6cbebea226c9a3678f31bfebf532ca7321e": () => (/* reexport */ services/* getResponseNote */.Wy),
  "7fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1": () => (/* reexport */ services/* getTag */.bH),
  "7fc6abb0838b6422ef7e81141fd6603883cd1990cf": () => (/* reexport */ services/* getDocument */.YE),
  "7fc856fe5dd5f698d2f54dacf4280d447336780427": () => (/* reexport */ services/* getLanguage */.Z0),
  "7fcda0e6bf50febdf861015e25ebdf74068a488dde": () => (/* reexport */ services/* getContact */.bl),
  "7fcfea9518c327899180b23cb3055005ba65cdef33": () => (/* reexport */ services/* getIntegration */.rg),
  "7fdb06c584a2145e0f48be9ead409fc7f774731fde": () => (/* reexport */ services/* getEnvironment */.uc),
  "7fdcbaf3445e783557d350b55d91be1398fafca7d3": () => (/* reexport */ services/* getInsight */.zv),
  "7fe763f2c0d5f307cc75c26f23c693a54ac24a3112": () => (/* reexport */ services/* getProject */.U1),
  "7ff20090763891981ab1625ad83b771c8ef93748aa": () => (/* reexport */ actions/* createSurveyAction */.H),
  "7ffb22c619704253744e9b5fea4eccca8b0808fb64": () => (/* reexport */ services/* getSegment */.kn)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js
var server_reference = __webpack_require__(286055);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/app-render/encryption.js
var encryption = __webpack_require__(770767);
// EXTERNAL MODULE: ./lib/utils/action-client.ts
var action_client = __webpack_require__(308046);
// EXTERNAL MODULE: ./lib/utils/action-client-middleware.ts
var action_client_middleware = __webpack_require__(729455);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(440388);
// EXTERNAL MODULE: ./modules/ee/license-check/lib/utils.ts + 1 modules
var utils = __webpack_require__(725322);
// EXTERNAL MODULE: ../../node_modules/@paralleldrive/cuid2/index.js
var cuid2 = __webpack_require__(730672);
// EXTERNAL MODULE: ../../node_modules/ai/dist/index.mjs + 37 modules
var dist = __webpack_require__(456);
// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(283131);
// EXTERNAL MODULE: ../../packages/lib/aiModels.ts
var aiModels = __webpack_require__(784765);
// EXTERNAL MODULE: ../../packages/lib/organization/service.ts
var service = __webpack_require__(167440);
// EXTERNAL MODULE: ../../packages/lib/survey/service.ts + 2 modules
var survey_service = __webpack_require__(939483);
// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(552224);
// EXTERNAL MODULE: ../../packages/types/surveys/types.ts + 3 modules
var types = __webpack_require__(797175);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js
var action_validate = __webpack_require__(429931);
;// ./app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/actions.ts
/* __next_internal_action_entry_do_not_use__ {"7f02f4c0ee559b54df1f23dd14b9572673cb7efa8a":"createAISurveyAction"} */ 













const ZCreateAISurveyAction = lib.z.object({
    environmentId: common/* ZId */.i4,
    prompt: common/* ZString */.eI
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ createAISurveyAction = action_client/* authenticatedActionClient */.D.schema(ZCreateAISurveyAction).action(async ({ ctx, parsedInput })=>{
    const organizationId = await (0,helper/* getOrganizationIdFromEnvironmentId */.X_)(parsedInput.environmentId);
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId,
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            },
            {
                type: "projectTeam",
                projectId: await (0,helper/* getProjectIdFromEnvironmentId */.DU)(parsedInput.environmentId),
                minPermission: "readWrite"
            }
        ]
    });
    const organization = await (0,service/* getOrganization */.SA)(organizationId);
    if (!organization) {
        throw new Error("Organization not found");
    }
    const isAIEnabled = await (0,utils/* getIsAIEnabled */.KH)(organization);
    if (!isAIEnabled) {
        throw new Error("AI is not enabled for this organization");
    }
    const { object } = await (0,dist/* generateObject */.pY)({
        model: aiModels/* llmModel */.V,
        schema: lib.z.object({
            name: lib.z.string(),
            questions: lib.z.array(lib.z.object({
                headline: lib.z.string(),
                subheader: lib.z.string(),
                type: lib.z.enum([
                    "openText",
                    "multipleChoiceSingle",
                    "multipleChoiceMulti"
                ]),
                choices: lib.z.array(lib.z.string()).min(2, {
                    message: "Multiple Choice Question must have at least two choices"
                }).optional()
            }))
        }),
        system: `You are a survey AI. Create a survey with 3 questions max that fits the schema and user input.`,
        prompt: parsedInput.prompt,
        experimental_telemetry: {
            isEnabled: true
        }
    });
    const parsedQuestions = object.questions.map((question)=>{
        return types/* ZSurveyQuestion */.Br.parse({
            id: (0,cuid2.createId)(),
            headline: {
                default: question.headline
            },
            subheader: {
                default: question.subheader
            },
            type: question.type,
            choices: question.choices ? question.choices.map((choice)=>({
                    id: (0,cuid2.createId)(),
                    label: {
                        default: choice
                    }
                })) : undefined,
            required: true
        });
    });
    return await (0,survey_service/* createSurvey */.th)(parsedInput.environmentId, {
        name: object.name,
        questions: parsedQuestions
    });
});

(0,action_validate/* ensureServerEntryExports */.D)([
    createAISurveyAction
]);
(0,server_reference/* registerServerReference */.A)(createAISurveyAction, "7f02f4c0ee559b54df1f23dd14b9572673cb7efa8a", null);

// EXTERNAL MODULE: ./lib/utils/services.ts
var services = __webpack_require__(883212);
// EXTERNAL MODULE: ./modules/surveys/components/TemplateList/actions.ts
var actions = __webpack_require__(590997);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fapp%2F(app)%2F(survey-editor)%2Fenvironments%2F%5BenvironmentId%5D%2Fsurveys%2Ftemplates%2Factions.ts%22%2C%5B%5B%227f02f4c0ee559b54df1f23dd14b9572673cb7efa8a%22%2C%22createAISurveyAction%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Flib%2Futils%2Fservices.ts%22%2C%5B%5B%227f11f2efac37ac84796e6cb223722dbe2e808e177f%22%2C%22getResponse%22%5D%2C%5B%227f12957c3365cc2950bdc48f0118f82439eb6c23ec%22%2C%22getSurvey%22%5D%2C%5B%227f20db167926d501ff62b9525526548773c8a436d4%22%2C%22isTeamPartOfOrganization%22%5D%2C%5B%227f36cf02b548a01d85112f587591e8c1e8390fa538%22%2C%22isProjectPartOfOrganization%22%5D%2C%5B%227f4f2c9c8b657cf906e9a25e65dafac6ec65967916%22%2C%22getWebhook%22%5D%2C%5B%227f540889be00b7aa8c6ff1edc5cd79ece876954fd3%22%2C%22getInvite%22%5D%2C%5B%227f60061b4b6be335eaa2facd1c5d8129b87f6923f4%22%2C%22getActionClass%22%5D%2C%5B%227f670a0537f96de8b5156e1b206124b2a990484370%22%2C%22getApiKey%22%5D%2C%5B%227f74bd40a1f82de833915085152910f3ebd525b356%22%2C%22getTeam%22%5D%2C%5B%227fb9a3e6cbebea226c9a3678f31bfebf532ca7321e%22%2C%22getResponseNote%22%5D%2C%5B%227fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1%22%2C%22getTag%22%5D%2C%5B%227fc6abb0838b6422ef7e81141fd6603883cd1990cf%22%2C%22getDocument%22%5D%2C%5B%227fc856fe5dd5f698d2f54dacf4280d447336780427%22%2C%22getLanguage%22%5D%2C%5B%227fcda0e6bf50febdf861015e25ebdf74068a488dde%22%2C%22getContact%22%5D%2C%5B%227fcfea9518c327899180b23cb3055005ba65cdef33%22%2C%22getIntegration%22%5D%2C%5B%227fdb06c584a2145e0f48be9ead409fc7f774731fde%22%2C%22getEnvironment%22%5D%2C%5B%227fdcbaf3445e783557d350b55d91be1398fafca7d3%22%2C%22getInsight%22%5D%2C%5B%227fe763f2c0d5f307cc75c26f23c693a54ac24a3112%22%2C%22getProject%22%5D%2C%5B%227ffb22c619704253744e9b5fea4eccca8b0808fb64%22%2C%22getSegment%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Fsurveys%2Fcomponents%2FTemplateList%2Factions.ts%22%2C%5B%5B%227ff20090763891981ab1625ad83b771c8ef93748aa%22%2C%22createSurveyAction%22%5D%5D%5D%5D&__client_imported__=true!
























/***/ }),

/***/ 991002:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 987022));


/***/ }),

/***/ 931170:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 930595));


/***/ }),

/***/ 284362:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 697412));


/***/ }),

/***/ 24114:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 829884));


/***/ }),

/***/ 930595:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  TemplateContainerWithPreview: () => (/* binding */ TemplateContainerWithPreview)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7f02f4c0ee559b54df1f23dd14b9572673cb7efa8a&name=createAISurveyAction!

const createAISurveyAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7f02f4c0ee559b54df1f23dd14b9572673cb7efa8a", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "createAISurveyAction")
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx
var components_button = __webpack_require__(248852);
// EXTERNAL MODULE: ./modules/ui/components/card/index.tsx
var card = __webpack_require__(24818);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ./modules/ui/lib/utils.ts
var utils = __webpack_require__(444671);
;// ./modules/ui/components/textarea/index.tsx



const Textarea = /*#__PURE__*/ react.forwardRef(({ className, ...props }, ref)=>{
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)("textarea", {
        className: (0,utils.cn)("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300", className),
        ref: ref,
        ...props
    });
});
Textarea.displayName = "Textarea";


// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/sparkles.js
var sparkles = __webpack_require__(158539);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.js
var navigation = __webpack_require__(470207);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
;// ./app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/components/FormbricksAICard.tsx
/* __next_internal_client_entry_do_not_use__ FormbricksAICard auto */ 










const FormbricksAICard = ({ environmentId })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const router = (0,navigation.useRouter)();
    const [aiPrompt, setAiPrompt] = (0,react.useState)("");
    const [isLoading, setIsLoading] = (0,react.useState)(false);
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setIsLoading(true);
        // Here you would typically send the data to your backend
        const createSurveyResponse = await createAISurveyAction({
            environmentId,
            prompt: aiPrompt
        });
        if (createSurveyResponse?.data) {
            router.push(`/environments/${environmentId}/surveys/${createSurveyResponse.data.id}/edit`);
        } else {
            const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(createSurveyResponse);
            dist/* default */.Ay.error(errorMessage);
        }
        // Reset form field after submission
        setAiPrompt("");
        setIsLoading(false);
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(card/* Card */.Zp, {
        className: "mx-auto w-full bg-gradient-to-tr from-slate-100 to-slate-200",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(card/* CardHeader */.aR, {
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(card/* CardTitle */.ZB, {
                        className: "text-2xl font-bold",
                        children: "Formbricks AI"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(card/* CardDescription */.BT, {
                        children: t("environments.surveys.edit.formbricks_ai_description")
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(card/* CardContent */.Wu, {
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("form", {
                    onSubmit: handleSubmit,
                    className: "space-y-4",
                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(Textarea, {
                        className: "bg-slate-50",
                        id: "ai-prompt",
                        placeholder: t("environments.surveys.edit.formbricks_ai_prompt_placeholder"),
                        value: aiPrompt,
                        onChange: (e)=>setAiPrompt(e.target.value),
                        required: true,
                        "aria-label": "AI Prompt"
                    })
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(card/* CardFooter */.wL, {
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                    className: "w-full shadow-sm",
                    type: "submit",
                    onClick: handleSubmit,
                    variant: "secondary",
                    loading: isLoading,
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)(sparkles/* default */.A, {
                            className: "mr-2 h-4 w-4"
                        }),
                        t("environments.surveys.edit.formbricks_ai_generate")
                    ]
                })
            })
        ]
    });
};

// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/arrow-left.js
var arrow_left = __webpack_require__(681129);
;// ./app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/components/BackButton.tsx
/* __next_internal_client_entry_do_not_use__ BackButton auto */ 




const BackButton = ()=>{
    const router = (0,navigation.useRouter)();
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
        variant: "secondary",
        size: "sm",
        onClick: ()=>{
            router.back();
        },
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(arrow_left/* default */.A, {}),
            t("common.back")
        ]
    });
};

;// ./app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/components/MenuBar.tsx
/* __next_internal_client_entry_do_not_use__ MenuBar auto */ 

const MenuBar = ()=>{
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(react_jsx_runtime.Fragment, {
        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
            className: "border-b border-slate-200 bg-white px-5 py-2.5 sm:flex sm:items-center sm:justify-between",
            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                className: "flex items-center space-x-2 whitespace-nowrap",
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(BackButton, {})
            })
        })
    });
};

// EXTERNAL MODULE: ./app/lib/templates.ts
var templates = __webpack_require__(893902);
// EXTERNAL MODULE: ./modules/surveys/components/TemplateList/index.tsx + 6 modules
var TemplateList = __webpack_require__(657079);
// EXTERNAL MODULE: ./modules/ui/components/preview-survey/index.tsx + 3 modules
var preview_survey = __webpack_require__(395781);
// EXTERNAL MODULE: ./modules/ui/components/search-bar/index.tsx
var search_bar = __webpack_require__(617828);
// EXTERNAL MODULE: ../../node_modules/@radix-ui/react-primitive/dist/index.mjs
var react_primitive_dist = __webpack_require__(832713);
;// ../../node_modules/@radix-ui/react-separator/dist/index.mjs
// packages/react/separator/src/Separator.tsx



var NAME = "Separator";
var DEFAULT_ORIENTATION = "horizontal";
var ORIENTATIONS = ["horizontal", "vertical"];
var Separator = react.forwardRef((props, forwardedRef) => {
  const { decorative, orientation: orientationProp = DEFAULT_ORIENTATION, ...domProps } = props;
  const orientation = isValidOrientation(orientationProp) ? orientationProp : DEFAULT_ORIENTATION;
  const ariaOrientation = orientation === "vertical" ? orientation : void 0;
  const semanticProps = decorative ? { role: "none" } : { "aria-orientation": ariaOrientation, role: "separator" };
  return /* @__PURE__ */ (0,react_jsx_runtime.jsx)(
    react_primitive_dist/* Primitive */.sG.div,
    {
      "data-orientation": orientation,
      ...semanticProps,
      ...domProps,
      ref: forwardedRef
    }
  );
});
Separator.displayName = NAME;
function isValidOrientation(orientation) {
  return ORIENTATIONS.includes(orientation);
}
var Root = Separator;

//# sourceMappingURL=index.mjs.map

;// ./modules/ui/components/separator/index.tsx
/* __next_internal_client_entry_do_not_use__ Separator auto */ 



const separator_Separator = /*#__PURE__*/ react.forwardRef(({ className, orientation = "horizontal", decorative = true, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(Root, {
        ref: ref,
        decorative: decorative,
        orientation: orientation,
        className: (0,utils.cn)("shrink-0 bg-slate-200 dark:bg-slate-800", orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]", className),
        ...props
    }));
separator_Separator.displayName = Root.displayName;


;// ./app/(app)/(survey-editor)/environments/[environmentId]/surveys/lib/minimalSurvey.ts

const getMinimalSurvey = (t)=>({
        id: "someUniqueId1",
        createdAt: new Date(),
        updatedAt: new Date(),
        name: "Minimal Survey",
        type: "app",
        environmentId: "someEnvId1",
        createdBy: null,
        status: "draft",
        displayOption: "displayOnce",
        autoClose: null,
        triggers: [],
        recontactDays: null,
        displayLimit: null,
        welcomeCard: (0,templates/* getDefaultWelcomeCard */.Qw)(t),
        questions: [],
        endings: [
            (0,templates/* getDefaultEndingCard */.V0)([], t)
        ],
        hiddenFields: {
            enabled: false
        },
        delay: 0,
        displayPercentage: null,
        autoComplete: null,
        runOnDate: null,
        closeOnDate: null,
        surveyClosedMessage: {
            enabled: false
        },
        projectOverwrites: null,
        singleUse: null,
        styling: null,
        resultShareKey: null,
        segment: null,
        languages: [],
        showLanguageSwitch: false,
        isVerifyEmailEnabled: false,
        isSingleResponsePerEmailEnabled: false,
        variables: [],
        followUps: []
    });

;// ./app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/components/TemplateContainer.tsx
/* __next_internal_client_entry_do_not_use__ TemplateContainerWithPreview auto */ 










const TemplateContainerWithPreview = ({ project, environment, user, prefilledFilters, isAIEnabled })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const initialTemplate = (0,templates/* customSurveyTemplate */.C3)(t);
    const [activeTemplate, setActiveTemplate] = (0,react.useState)(initialTemplate);
    const [activeQuestionId, setActiveQuestionId] = (0,react.useState)(initialTemplate.preset.questions[0].id);
    const [templateSearch, setTemplateSearch] = (0,react.useState)(null);
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
        className: "flex h-full flex-col",
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(MenuBar, {}),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                className: "relative z-0 flex flex-1 overflow-hidden",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                        className: "flex-1 flex-col overflow-auto bg-slate-50",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                className: "mb-3 ml-6 mt-6 flex flex-col items-center justify-between md:flex-row md:items-end",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("h1", {
                                        className: "text-2xl font-bold text-slate-800",
                                        children: t("environments.surveys.templates.create_a_new_survey")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                        className: "px-6",
                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(search_bar/* SearchBar */.I, {
                                            value: templateSearch ?? "",
                                            onChange: setTemplateSearch,
                                            placeholder: t("common.search"),
                                            className: "border-slate-700"
                                        })
                                    })
                                ]
                            }),
                            isAIEnabled && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                        className: "px-6",
                                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(FormbricksAICard, {
                                            environmentId: environment.id
                                        })
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(separator_Separator, {
                                        className: "mt-4"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(TemplateList.TemplateList, {
                                environment: environment,
                                project: project,
                                user: user,
                                templateSearch: templateSearch ?? "",
                                onTemplateClick: (template)=>{
                                    setActiveQuestionId(template.preset.questions[0].id);
                                    setActiveTemplate(template);
                                },
                                prefilledFilters: prefilledFilters
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("aside", {
                        className: "group hidden flex-1 flex-shrink-0 items-center justify-center overflow-hidden border-l border-slate-100 bg-slate-50 md:flex md:flex-col",
                        children: activeTemplate && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(preview_survey/* PreviewSurvey */.V, {
                            survey: {
                                ...getMinimalSurvey(t),
                                ...activeTemplate.preset
                            },
                            questionId: activeQuestionId,
                            project: project,
                            environment: environment,
                            languageCode: "default",
                            onFileUpload: async (file)=>file.name
                        })
                    })
                ]
            })
        ]
    });
};


/***/ }),

/***/ 24818:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BT: () => (/* binding */ CardDescription),
/* harmony export */   Wu: () => (/* binding */ CardContent),
/* harmony export */   ZB: () => (/* binding */ CardTitle),
/* harmony export */   Zp: () => (/* binding */ Card),
/* harmony export */   aR: () => (/* binding */ CardHeader),
/* harmony export */   wL: () => (/* binding */ CardFooter)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(983773);



const Card = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, label, description, connectText, connectHref, connectNewTab, docsText, docsHref, docsNewTab, connected, statusText, icon, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("text-card-foreground rounded-xl border border-slate-200 bg-white shadow-sm", className),
        ...props
    }));
Card.displayName = "Card";
const CardHeader = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-1.5 p-6", className),
        ...props
    }));
CardHeader.displayName = "CardHeader";
const CardTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("text-2xl font-semibold leading-none tracking-tight", className),
        ...props
    }));
CardTitle.displayName = "CardTitle";
const CardDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("text-muted-foreground text-sm", className),
        ...props
    }));
CardDescription.displayName = "CardDescription";
const CardContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("p-6 pt-0", className),
        ...props
    }));
CardContent.displayName = "CardContent";
const CardFooter = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center p-6 pt-0", className),
        ...props
    }));
CardFooter.displayName = "CardFooter";



/***/ }),

/***/ 653239:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ ClientLogo)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(397674);
/* harmony import */ var _barrel_optimize_names_ArrowUpRight_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(620394);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(134088);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36888);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ ClientLogo auto */ 





const ClientLogo = ({ environmentId, project, previewSurvey = false })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_3__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)(previewSurvey ? "" : "left-3 top-3 md:left-7 md:top-7", "group absolute z-0 rounded-lg"),
        style: {
            backgroundColor: project.logo?.bgColor
        },
        children: [
            previewSurvey && environmentId && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                href: `/environments/${environmentId}/project/look`,
                className: "group/link absolute h-full w-full hover:cursor-pointer",
                target: "_blank",
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowUpRight_lucide_react__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A, {
                    size: 24,
                    className: "absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform rounded-md bg-white/80 p-0.5 text-slate-700 opacity-0 transition-all duration-200 ease-in-out group-hover/link:opacity-100"
                })
            }),
            project.logo?.url ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__["default"], {
                src: project.logo?.url,
                className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)(previewSurvey ? "max-h-12" : "max-h-16 md:max-h-20", "w-auto max-w-40 rounded-lg object-contain p-1 md:max-w-56"),
                width: 256,
                height: 64,
                alt: "Company Logo"
            }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                href: `/environments/${environmentId}/project/look`,
                onClick: (e)=>{
                    if (!environmentId) {
                        e.preventDefault();
                    }
                },
                className: "whitespace-nowrap rounded-md border border-dashed border-slate-400 bg-slate-200 px-6 py-3 text-xs text-slate-900 opacity-50 backdrop-blur-sm hover:cursor-pointer hover:border-slate-600",
                target: "_blank",
                children: t("common.add_logo")
            })
        ]
    });
};


/***/ }),

/***/ 829884:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoadingSpinner: () => (/* binding */ LoadingSpinner)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ LoadingSpinner auto */ 

const LoadingSpinner = ({ className = "h-6 w-6" })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        className: "flex h-full w-full items-center justify-center",
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", {
            className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("m-2 animate-spin text-slate-700", className),
            xmlns: "http://www.w3.org/2000/svg",
            fill: "none",
            viewBox: "0 0 24 24",
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle", {
                    className: "opacity-25",
                    cx: "12",
                    cy: "12",
                    r: "10",
                    stroke: "currentColor",
                    strokeWidth: "4"
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", {
                    className: "opacity-75",
                    fill: "currentColor",
                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                })
            ]
        })
    });
};


/***/ }),

/***/ 956721:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ MediaBackground)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(397674);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(134088);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36888);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* __next_internal_client_entry_do_not_use__ MediaBackground auto */ 




const MediaBackground = ({ children, project, survey, isEditorView = false, isMobilePreview = false, ContentRef, onBackgroundLoaded })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_4__/* .useTranslate */ .WD)();
    const animatedBackgroundRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);
    const [backgroundLoaded, setBackgroundLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);
    const [authorDetailsForUnsplash, setAuthorDetailsForUnsplash] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({
        authorName: "",
        authorURL: ""
    });
    // get the background from either the survey or the project styling
    const background = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{
        // allow style overwrite is disabled from the project
        if (!project.styling.allowStyleOverwrite) {
            return project.styling.background;
        }
        // allow style overwrite is enabled from the project
        if (project.styling.allowStyleOverwrite) {
            // survey style overwrite is disabled
            if (!survey.styling?.overwriteThemeStyling) {
                return project.styling.background;
            }
            // survey style overwrite is enabled
            return survey.styling.background;
        }
        return project.styling.background;
    }, [
        project.styling.allowStyleOverwrite,
        project.styling.background,
        survey.styling
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{
        if (background?.bgType === "animation" && animatedBackgroundRef.current) {
            const video = animatedBackgroundRef.current;
            const onCanPlayThrough = ()=>setBackgroundLoaded(true);
            video.addEventListener("canplaythrough", onCanPlayThrough);
            video.src = background?.bg || "";
            // Cleanup
            return ()=>video.removeEventListener("canplaythrough", onCanPlayThrough);
        } else if ((background?.bgType === "image" || background?.bgType === "upload") && background?.bg) {
            if (background?.bgType === "image") {
                // To not set for Default Images as they have relative URL & are not from Unsplash
                if (!background?.bg.startsWith("/")) {
                    setAuthorDetailsForUnsplash({
                        authorName: new URL(background?.bg).searchParams.get("authorName") || "",
                        authorURL: new URL(background?.bg).searchParams.get("authorLink") || ""
                    });
                } else {
                    setAuthorDetailsForUnsplash({
                        authorName: "",
                        authorURL: ""
                    });
                }
            }
        } else {
            // For colors or any other types, set to loaded immediately
            setBackgroundLoaded(true);
        }
    }, [
        background?.bg,
        background?.bgType
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{
        if (backgroundLoaded && onBackgroundLoaded) {
            onBackgroundLoaded(true);
        }
    }, [
        backgroundLoaded,
        onBackgroundLoaded
    ]);
    const baseClasses = "absolute inset-0 h-full w-full transition-opacity duration-500";
    const loadedClass = backgroundLoaded ? "opacity-100" : "opacity-0";
    const getFilterStyle = ()=>{
        return `brightness(${background?.brightness ?? 100}%)`;
    };
    const renderBackground = ()=>{
        const filterStyle = getFilterStyle();
        switch(background?.bgType){
            case "color":
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: `${baseClasses} ${loadedClass}`,
                    style: {
                        backgroundColor: background?.bg || "#ffffff",
                        filter: `${filterStyle}`
                    }
                });
            case "animation":
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("video", {
                    ref: animatedBackgroundRef,
                    muted: true,
                    loop: true,
                    autoPlay: true,
                    playsInline: true,
                    className: `${baseClasses} ${loadedClass} object-cover`,
                    style: {
                        filter: `${filterStyle}`
                    },
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("source", {
                        src: background?.bg || "",
                        type: "video/mp4"
                    })
                });
            case "image":
                if (!background?.bg) {
                    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        children: t("common.no_background_image_found")
                    });
                }
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: `${baseClasses} ${loadedClass} bg-cover bg-center`,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__["default"], {
                                src: background?.bg,
                                alt: "Background image",
                                layout: "fill",
                                objectFit: "cover",
                                style: {
                                    filter: `${filterStyle}`
                                },
                                onLoadingComplete: ()=>setBackgroundLoaded(true)
                            }),
                            authorDetailsForUnsplash.authorName && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: "absolute bottom-4 right-6 z-10 ml-auto hidden w-max text-xs text-slate-400 md:block",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", {
                                        children: t("common.photo_by")
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                        href: authorDetailsForUnsplash.authorURL + "?utm_source=formbricks&utm_medium=referral",
                                        target: "_blank",
                                        className: "hover:underline",
                                        children: authorDetailsForUnsplash.authorName
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                                        children: [
                                            " ",
                                            t("common.on"),
                                            " "
                                        ]
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {
                                        href: "https://unsplash.com/?utm_source=formbricks&utm_medium=referral",
                                        target: "_blank",
                                        className: "hover:underline",
                                        children: "Unsplash"
                                    })
                                ]
                            })
                        ]
                    })
                });
            case "upload":
                if (!background?.bg) {
                    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        children: t("common.no_background_image_found")
                    });
                }
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: `${baseClasses} ${loadedClass} bg-cover bg-center`,
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__["default"], {
                        src: background?.bg,
                        alt: "Background image",
                        layout: "fill",
                        objectFit: "cover",
                        style: {
                            filter: `${filterStyle}`
                        },
                        onLoadingComplete: ()=>setBackgroundLoaded(true)
                    })
                });
            default:
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: `${baseClasses} ${loadedClass}`
                });
        }
    };
    const renderContent = ()=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            className: "no-scrollbar absolute flex h-full w-full items-center justify-center overflow-hidden",
            children: children
        });
    if (isMobilePreview) {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            ref: ContentRef,
            className: `relative h-[90%] max-h-[40rem] w-[22rem] overflow-hidden rounded-[3rem] border-[6px] border-slate-400 ${getFilterStyle()}`,
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "absolute left-1/2 right-1/2 top-2 z-20 h-4 w-1/3 -translate-x-1/2 transform rounded-full bg-slate-400"
                }),
                survey.type === "link" && renderBackground(),
                renderContent()
            ]
        });
    } else if (isEditorView) {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            ref: ContentRef,
            className: "overflow-hiddem flex flex-grow flex-col rounded-b-lg",
            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: "relative flex w-full flex-grow flex-col items-center justify-center p-4 py-6",
                children: [
                    renderBackground(),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                        className: "flex h-full w-full items-center justify-center",
                        children: children
                    })
                ]
            })
        });
    } else {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: "flex min-h-dvh flex-col items-center justify-center",
            children: [
                renderBackground(),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
                    className: "relative w-full",
                    children: children
                })
            ]
        });
    }
};


/***/ }),

/***/ 320213:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ Modal)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(983773);
/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(598584);
/* __next_internal_client_entry_do_not_use__ Modal auto */ 



const Modal = ({ children, isOpen, placement, previewMode, clickOutsideClose, darkOverlay, borderRadius, background })=>{
    const [show, setShow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const modalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const [windowWidth, setWindowWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [overlayVisible, setOverlayVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(placement === "center");
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (false) {}
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        setOverlayVisible(placement === "center");
    }, [
        placement
    ]);
    const calculateScaling = ()=>{
        if (windowWidth === null) return {};
        let scaleValue = "1";
        if (previewMode !== "mobile") {
            if (windowWidth > 1600) {
                scaleValue = "1";
            } else if (windowWidth > 1200) {
                scaleValue = ".9";
            } else if (windowWidth > 900) {
                scaleValue = ".8";
            } else {
                scaleValue = "0.7";
            }
        }
        let placementClass = "";
        if (placement === "bottomLeft") {
            placementClass = "bottom left";
        } else if (placement === "bottomRight") {
            placementClass = "bottom right";
        } else if (placement === "topLeft") {
            placementClass = "top left";
        } else if (placement === "topRight") {
            placementClass = "top right";
        }
        return {
            transform: `scale(${scaleValue})`,
            transformOrigin: placementClass
        };
    };
    const scalingClasses = calculateScaling();
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (!clickOutsideClose || placement !== "center") return;
        const handleClickOutside = (e)=>{
            const previewBase = document.getElementById("preview-survey-base");
            if (clickOutsideClose && modalRef.current && previewBase && previewBase.contains(e.target) && !modalRef.current.contains(e.target)) {
                setShow(false);
                setTimeout(()=>{
                    setShow(true);
                }, 1000);
            }
        };
        document.addEventListener("mousedown", handleClickOutside);
        return ()=>{
            document.removeEventListener("mousedown", handleClickOutside);
        };
    }, [
        clickOutsideClose,
        placement
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        setShow(isOpen);
    }, [
        isOpen
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (modalRef.current) {
            modalRef.current.scrollTop = 0;
        }
    }, [
        children
    ]);
    const slidingAnimationClass = previewMode === "desktop" ? show ? "translate-x-0 opacity-100" : "translate-x-32 opacity-0" : previewMode === "mobile" ? show ? "bottom-0" : "-bottom-full" : "";
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        id: "preview-survey-base",
        "aria-live": "assertive",
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("relative h-full w-full overflow-hidden rounded-b-md", overlayVisible ? darkOverlay ? "bg-slate-700/80" : "bg-white/50" : "", "transition-all duration-500 ease-in-out"),
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            ref: modalRef,
            style: {
                ...scalingClasses,
                ...borderRadius && {
                    borderRadius: `${borderRadius}px`
                },
                ...background && {
                    background
                }
            },
            className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("no-scrollbar pointer-events-auto absolute max-h-[90%] w-full max-w-sm transition-all duration-500 ease-in-out", previewMode === "desktop" ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__/* .getPlacementStyle */ .n)(placement) : "max-w-full", slidingAnimationClass),
            children: children
        })
    });
};


/***/ }),

/***/ 598584:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   n: () => (/* binding */ getPlacementStyle)
/* harmony export */ });
const getPlacementStyle = (placement)=>{
    switch(placement){
        case "bottomRight":
            return "bottom-3 sm:right-3";
        case "topRight":
            return "sm:top-6 sm:right-6";
        case "topLeft":
            return "sm:top-6 sm:left-6";
        case "bottomLeft":
            return "bottom-3 sm:left-3";
        case "center":
            return "top-1/2 left-1/2 transform !-translate-x-1/2 -translate-y-1/2";
        default:
            return "bottom-3 sm:right-3";
    }
};


/***/ }),

/***/ 443636:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ ResetProgressButton)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(248852);
/* harmony import */ var _tolgee_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(397674);
/* harmony import */ var _barrel_optimize_names_Repeat2_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(218904);
/* __next_internal_client_entry_do_not_use__ ResetProgressButton auto */ 



const ResetProgressButton = ({ onClick })=>{
    const { t } = (0,_tolgee_react__WEBPACK_IMPORTED_MODULE_2__/* .useTranslate */ .WD)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_modules_ui_components_button__WEBPACK_IMPORTED_MODULE_1__/* .Button */ .$, {
        type: "button",
        variant: "ghost",
        className: "mr-2 h-fit bg-white px-2 py-0 font-sans text-sm text-slate-500",
        onClick: onClick,
        children: [
            t("common.restart"),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Repeat2_lucide_react__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A, {
                className: "ml-2 h-4 w-4"
            })
        ]
    });
};


/***/ }),

/***/ 965694:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ SurveyInline)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


const createContainerId = ()=>`formbricks-survey-container`;
const SurveyInline = (props)=>{
    const containerId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>createContainerId(), []);
    const renderInline = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>window.formbricksSurveys.renderSurveyInline({
            ...props,
            containerId
        }), [
        containerId,
        props
    ]);
    const [isScriptLoaded, setIsScriptLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const loadSurveyScript = async ()=>{
        try {
            const response = await fetch("/js/surveys.umd.cjs");
            if (!response.ok) {
                throw new Error("Failed to load the surveys package");
            }
            const scriptContent = await response.text();
            const scriptElement = document.createElement("script");
            scriptElement.textContent = scriptContent;
            document.head.appendChild(scriptElement);
            setIsScriptLoaded(true);
        } catch (error) {
            throw error;
        }
    };
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        const loadScript = async ()=>{
            if (!window.formbricksSurveys) {
                try {
                    await loadSurveyScript();
                } catch (error) {
                    console.error("Failed to load the surveys package: ", error);
                }
            } else {
                renderInline();
            }
        };
        loadScript();
    }, [
        containerId,
        props,
        renderInline
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (isScriptLoaded) {
            renderInline();
        }
    }, [
        isScriptLoaded,
        renderInline
    ]);
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        id: containerId,
        className: "h-full w-full"
    });
};


/***/ }),

/***/ 401633:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ CirclePlus)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const CirclePlus = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("CirclePlus", [
    [
        "circle",
        {
            cx: "12",
            cy: "12",
            r: "10",
            key: "1mglay"
        }
    ],
    [
        "path",
        {
            d: "M8 12h8",
            key: "1wcyev"
        }
    ],
    [
        "path",
        {
            d: "M12 8v8",
            key: "napkw2"
        }
    ]
]);
 //# sourceMappingURL=circle-plus.js.map


/***/ }),

/***/ 987022:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateContainerWithPreview: () => (/* binding */ TemplateContainerWithPreview)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const TemplateContainerWithPreview = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call TemplateContainerWithPreview() from the server but TemplateContainerWithPreview is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/app/(app)/(survey-editor)/environments/[environmentId]/surveys/templates/components/TemplateContainer.tsx",
"TemplateContainerWithPreview",
);

/***/ }),

/***/ 297925:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ui_components_loading_spinner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(697412);


const Loading = ()=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_modules_ui_components_loading_spinner__WEBPACK_IMPORTED_MODULE_1__.LoadingSpinner, {});
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loading);


/***/ }),

/***/ 754417:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891069);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_auth_lib_authOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(136015);
/* harmony import */ var _modules_ee_teams_lib_roles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(389846);
/* harmony import */ var _modules_ee_teams_utils_teams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(596379);
/* harmony import */ var _tolgee_server__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(186184);
/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(963302);
/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(145796);
/* harmony import */ var _formbricks_lib_environment_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(32135);
/* harmony import */ var _formbricks_lib_membership_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(377968);
/* harmony import */ var _formbricks_lib_membership_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(159570);
/* harmony import */ var _formbricks_lib_project_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(529987);
/* harmony import */ var _formbricks_lib_user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(184511);
/* harmony import */ var _components_TemplateContainer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(987022);













const Page = async (props)=>{
    const searchParams = await props.searchParams;
    const params = await props.params;
    const t = await (0,_tolgee_server__WEBPACK_IMPORTED_MODULE_4__/* .getTranslate */ .r)();
    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_5__.getServerSession)(_modules_auth_lib_authOptions__WEBPACK_IMPORTED_MODULE_1__/* .authOptions */ .N);
    const environmentId = params.environmentId;
    if (!session) {
        throw new Error(t("common.session_not_found"));
    }
    const [user, environment, project] = await Promise.all([
        (0,_formbricks_lib_user_service__WEBPACK_IMPORTED_MODULE_8__/* .getUser */ .wz)(session.user.id),
        (0,_formbricks_lib_environment_service__WEBPACK_IMPORTED_MODULE_9__/* .getEnvironment */ .uc)(environmentId),
        (0,_formbricks_lib_project_service__WEBPACK_IMPORTED_MODULE_10__/* .getProjectByEnvironmentId */ .bq)(environmentId)
    ]);
    if (!user) {
        throw new Error(t("common.user_not_found"));
    }
    if (!project) {
        throw new Error(t("common.project_not_found"));
    }
    if (!environment) {
        throw new Error(t("common.environment_not_found"));
    }
    const currentUserMembership = await (0,_formbricks_lib_membership_service__WEBPACK_IMPORTED_MODULE_11__/* .getMembershipByUserIdOrganizationId */ .Y)(session?.user.id, project.organizationId);
    const { isMember } = (0,_formbricks_lib_membership_utils__WEBPACK_IMPORTED_MODULE_12__/* .getAccessFlags */ .c)(currentUserMembership?.role);
    const projectPermission = await (0,_modules_ee_teams_lib_roles__WEBPACK_IMPORTED_MODULE_2__/* .getProjectPermissionByUserId */ ._)(session.user.id, project.id);
    const { hasReadAccess } = (0,_modules_ee_teams_utils_teams__WEBPACK_IMPORTED_MODULE_3__/* .getTeamPermissionFlags */ .od)(projectPermission);
    const isReadOnly = isMember && hasReadAccess;
    if (isReadOnly) {
        return (0,next_navigation__WEBPACK_IMPORTED_MODULE_6__.redirect)(`/environments/${environment.id}/surveys`);
    }
    const prefilledFilters = [
        project.config.channel,
        project.config.industry,
        searchParams.role ?? null
    ];
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_TemplateContainer__WEBPACK_IMPORTED_MODULE_7__.TemplateContainerWithPreview, {
        environmentId: environmentId,
        user: user,
        environment: environment,
        project: project,
        prefilledFilters: prefilledFilters,
        // AI Survey Creation -- Need improvement
        isAIEnabled: false
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Page);


/***/ }),

/***/ 697412:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoadingSpinner: () => (/* binding */ LoadingSpinner)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const LoadingSpinner = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call LoadingSpinner() from the server but LoadingSpinner is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/ui/components/loading-spinner/index.tsx",
"LoadingSpinner",
);

/***/ }),

/***/ 832713:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   hO: () => (/* binding */ dispatchDiscreteCustomEvent),
/* harmony export */   sG: () => (/* binding */ Primitive)
/* harmony export */ });
/* unused harmony export Root */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(891616);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(787377);
/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(189300);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(642725);
// packages/react/primitive/src/Primitive.tsx




var NODES = [
  "a",
  "button",
  "div",
  "form",
  "h2",
  "h3",
  "img",
  "input",
  "label",
  "li",
  "nav",
  "ol",
  "p",
  "span",
  "svg",
  "ul"
];
var Primitive = NODES.reduce((primitive, node) => {
  const Node = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props, forwardedRef) => {
    const { asChild, ...primitiveProps } = props;
    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__/* .Slot */ .DX : node;
    if (typeof window !== "undefined") {
      window[Symbol.for("radix-ui")] = true;
    }
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Comp, { ...primitiveProps, ref: forwardedRef });
  });
  Node.displayName = `Primitive.${node}`;
  return { ...primitive, [node]: Node };
}, {});
function dispatchDiscreteCustomEvent(target, event) {
  if (target) react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync(() => target.dispatchEvent(event));
}
var Root = (/* unused pure expression or super */ null && (Primitive));

//# sourceMappingURL=index.mjs.map


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [8079,3073,7863,5069,255,9759,6626,2021,2195,1469,5294,6911,2075,1659,5667,6689,9726,497,4218,8785,1321,9415,3687,7864,8046,8235,5752,3840,9160,4660,3902,6318,5317], () => (__webpack_exec__(318575)));
module.exports = __webpack_exports__;

})();
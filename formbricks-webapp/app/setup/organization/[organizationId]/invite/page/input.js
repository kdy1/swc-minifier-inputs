(() => {
var exports = {};
exports.id = 8707;
exports.ids = [8707];
exports.modules = {

/***/ 896330:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ 560483:
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client/scripts/default-index.js");

/***/ }),

/***/ 832325:
/***/ ((module) => {

"use strict";
module.exports = require("jsdom");

/***/ }),

/***/ 710846:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.prod.js");

/***/ }),

/***/ 419121:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ 903295:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ 529294:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ 663033:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ 912412:
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ 584297:
/***/ ((module) => {

"use strict";
module.exports = require("async_hooks");

/***/ }),

/***/ 979428:
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ 579646:
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ 455511:
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ 714985:
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ 594735:
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ 629021:
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ 781630:
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ 55591:
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ 491645:
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ 321820:
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ 333873:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 111723:
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ 927910:
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ 134631:
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ 379551:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 328354:
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ 74075:
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ 344708:
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ 157075:
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ 509227:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   routeModule: () => (/* binding */ routeModule),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(290735);
/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(291232);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(272914);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(240085);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if(["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
const module0 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 86397));
const module1 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 836653));
const module2 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 956791));
const module3 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 195335, 23));
const module4 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 544908, 23));
const module5 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 983357));
const page6 = () => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 975627));


// We inject the tree and pages here so that we can use them in the route
// module.
const tree = {
        children: [
        '',
        {
        children: [
        'setup',
        {
        children: [
        'organization',
        {
        children: [
        '[organizationId]',
        {
        children: [
        'invite',
        {
        children: ['__PAGE__', {}, {
          page: [page6, "/Users/kdy1/projects/formbricks/apps/web/app/setup/organization/[organizationId]/invite/page.tsx"],
          
        }]
      },
        {
        
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        
        
      }
      ]
      },
        {
        'layout': [module5, "/Users/kdy1/projects/formbricks/apps/web/app/setup/layout.tsx"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      },
        {
        'layout': [module0, "/Users/kdy1/projects/formbricks/apps/web/app/layout.tsx"],
'error': [module1, "/Users/kdy1/projects/formbricks/apps/web/app/error.tsx"],
'not-found': [module2, "/Users/kdy1/projects/formbricks/apps/web/app/not-found.tsx"],
'forbidden': [module3, "next/dist/client/components/forbidden-error"],
'unauthorized': [module4, "next/dist/client/components/unauthorized-error"],
        metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 170196))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
      }
      ]
      }.children;
const pages = ["/Users/kdy1/projects/formbricks/apps/web/app/setup/organization/[organizationId]/invite/page.tsx"];


const __next_app_require__ = __webpack_require__
const __next_app_load_chunk__ = () => Promise.resolve()
const __next_app__ = {
    require: __next_app_require__,
    loadChunk: __next_app_load_chunk__
};

// Create and export the route module that will be consumed.
const routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({
    definition: {
        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,
        page: "/setup/organization/[organizationId]/invite/page",
        pathname: "/setup/organization/[organizationId]/invite",
        // The following aren't used in production.
        bundlePath: '',
        filename: '',
        appPaths: []
    },
    userland: {
        loaderTree: tree
    }
});

//# sourceMappingURL=app-page.js.map

/***/ }),

/***/ 4738:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "7f11f2efac37ac84796e6cb223722dbe2e808e177f": () => (/* reexport */ services/* getResponse */.mi),
  "7f12957c3365cc2950bdc48f0118f82439eb6c23ec": () => (/* reexport */ services/* getSurvey */.Dp),
  "7f20db167926d501ff62b9525526548773c8a436d4": () => (/* reexport */ services/* isTeamPartOfOrganization */.l5),
  "7f36cf02b548a01d85112f587591e8c1e8390fa538": () => (/* reexport */ services/* isProjectPartOfOrganization */.Xj),
  "7f4f2c9c8b657cf906e9a25e65dafac6ec65967916": () => (/* reexport */ services/* getWebhook */.O0),
  "7f540889be00b7aa8c6ff1edc5cd79ece876954fd3": () => (/* reexport */ services/* getInvite */.I_),
  "7f60061b4b6be335eaa2facd1c5d8129b87f6923f4": () => (/* reexport */ services/* getActionClass */.Bx),
  "7f670a0537f96de8b5156e1b206124b2a990484370": () => (/* reexport */ services/* getApiKey */.CG),
  "7f74bd40a1f82de833915085152910f3ebd525b356": () => (/* reexport */ services/* getTeam */.Uo),
  "7fa3e61d0a0169c2318730ed14978373421ffc20aa": () => (/* reexport */ inviteOrganizationMemberAction),
  "7fb9a3e6cbebea226c9a3678f31bfebf532ca7321e": () => (/* reexport */ services/* getResponseNote */.Wy),
  "7fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1": () => (/* reexport */ services/* getTag */.bH),
  "7fc6abb0838b6422ef7e81141fd6603883cd1990cf": () => (/* reexport */ services/* getDocument */.YE),
  "7fc856fe5dd5f698d2f54dacf4280d447336780427": () => (/* reexport */ services/* getLanguage */.Z0),
  "7fcda0e6bf50febdf861015e25ebdf74068a488dde": () => (/* reexport */ services/* getContact */.bl),
  "7fcfea9518c327899180b23cb3055005ba65cdef33": () => (/* reexport */ services/* getIntegration */.rg),
  "7fdb06c584a2145e0f48be9ead409fc7f774731fde": () => (/* reexport */ services/* getEnvironment */.uc),
  "7fdcbaf3445e783557d350b55d91be1398fafca7d3": () => (/* reexport */ services/* getInsight */.zv),
  "7fe763f2c0d5f307cc75c26f23c693a54ac24a3112": () => (/* reexport */ services/* getProject */.U1),
  "7ffb22c619704253744e9b5fea4eccca8b0808fb64": () => (/* reexport */ services/* getSegment */.kn)
});

// EXTERNAL MODULE: ./lib/utils/services.ts
var services = __webpack_require__(883212);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js
var server_reference = __webpack_require__(286055);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/app-render/encryption.js
var encryption = __webpack_require__(770767);
// EXTERNAL MODULE: ./lib/utils/action-client.ts
var action_client = __webpack_require__(308046);
// EXTERNAL MODULE: ./lib/utils/action-client-middleware.ts
var action_client_middleware = __webpack_require__(729455);
// EXTERNAL MODULE: ./modules/email/index.tsx + 21 modules
var email = __webpack_require__(778015);
// EXTERNAL MODULE: ./lib/cache/invite.ts
var cache_invite = __webpack_require__(896484);
// EXTERNAL MODULE: external "@prisma/client"
var client_ = __webpack_require__(896330);
// EXTERNAL MODULE: ../../packages/database/src/index.ts + 1 modules
var src = __webpack_require__(482859);
// EXTERNAL MODULE: ../../packages/lib/membership/service.ts
var service = __webpack_require__(575361);
// EXTERNAL MODULE: ../../packages/types/errors.ts
var errors = __webpack_require__(207798);
;// ./modules/setup/organization/[organizationId]/invite/lib/invite.ts





const inviteUser = async ({ invitee, organizationId, currentUserId })=>{
    try {
        const { name, email } = invitee;
        const existingInvite = await src/* prisma */.z.invite.findFirst({
            where: {
                email,
                organizationId
            }
        });
        if (existingInvite) {
            throw new errors/* InvalidInputError */.oC("Invite already exists");
        }
        const user = await src/* prisma */.z.user.findUnique({
            where: {
                email
            }
        });
        if (user) {
            const member = await (0,service/* getMembershipByUserIdOrganizationId */.Y)(user.id, organizationId);
            if (member) {
                throw new errors/* InvalidInputError */.oC("User is already a member of this organization");
            }
        }
        const expiresIn = 7 * 24 * 60 * 60 * 1000; // 7 days
        const expiresAt = new Date(Date.now() + expiresIn);
        const invite = await src/* prisma */.z.invite.create({
            data: {
                email,
                name,
                organization: {
                    connect: {
                        id: organizationId
                    }
                },
                creator: {
                    connect: {
                        id: currentUserId
                    }
                },
                acceptor: user ? {
                    connect: {
                        id: user.id
                    }
                } : undefined,
                role: "owner",
                expiresAt
            }
        });
        cache_invite/* inviteCache */.i.revalidate({
            id: invite.id,
            organizationId: invite.organizationId
        });
        return invite.id;
    } catch (error) {
        if (error instanceof client_.Prisma.PrismaClientKnownRequestError) {
            throw new errors/* DatabaseError */.a$(error.message);
        }
        throw error;
    }
};

// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(283131);
// EXTERNAL MODULE: ../../packages/lib/constants.ts
var constants = __webpack_require__(711344);
// EXTERNAL MODULE: ../../packages/types/common.ts
var common = __webpack_require__(552224);
// EXTERNAL MODULE: ../../packages/types/user.ts
var user = __webpack_require__(352750);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js
var action_validate = __webpack_require__(429931);
;// ./modules/setup/organization/[organizationId]/invite/actions.ts
/* __next_internal_action_entry_do_not_use__ {"7fa3e61d0a0169c2318730ed14978373421ffc20aa":"inviteOrganizationMemberAction"} */ 










const ZInviteOrganizationMemberAction = lib.z.object({
    email: user/* ZUserEmail */.sO,
    organizationId: common/* ZId */.i4,
    name: user/* ZUserName */.pE
});
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ inviteOrganizationMemberAction = action_client/* authenticatedActionClient */.D.schema(ZInviteOrganizationMemberAction).action(async ({ ctx, parsedInput })=>{
    if (constants/* INVITE_DISABLED */.br) {
        throw new errors/* AuthenticationError */.v3("Invite disabled");
    }
    await (0,action_client_middleware/* checkAuthorizationUpdated */.r)({
        userId: ctx.user.id,
        organizationId: parsedInput.organizationId,
        access: [
            {
                type: "organization",
                roles: [
                    "owner",
                    "manager"
                ]
            }
        ]
    });
    const invitedUserId = await inviteUser({
        organizationId: parsedInput.organizationId,
        invitee: {
            email: parsedInput.email,
            name: parsedInput.name
        },
        currentUserId: ctx.user.id
    });
    await (0,email/* sendInviteMemberEmail */.S0)(invitedUserId, parsedInput.email, ctx.user.name, "", false, undefined);
    return invitedUserId;
});

(0,action_validate/* ensureServerEntryExports */.D)([
    inviteOrganizationMemberAction
]);
(0,server_reference/* registerServerReference */.A)(inviteOrganizationMemberAction, "7fa3e61d0a0169c2318730ed14978373421ffc20aa", null);

;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Flib%2Futils%2Fservices.ts%22%2C%5B%5B%227f11f2efac37ac84796e6cb223722dbe2e808e177f%22%2C%22getResponse%22%5D%2C%5B%227f12957c3365cc2950bdc48f0118f82439eb6c23ec%22%2C%22getSurvey%22%5D%2C%5B%227f20db167926d501ff62b9525526548773c8a436d4%22%2C%22isTeamPartOfOrganization%22%5D%2C%5B%227f36cf02b548a01d85112f587591e8c1e8390fa538%22%2C%22isProjectPartOfOrganization%22%5D%2C%5B%227f4f2c9c8b657cf906e9a25e65dafac6ec65967916%22%2C%22getWebhook%22%5D%2C%5B%227f540889be00b7aa8c6ff1edc5cd79ece876954fd3%22%2C%22getInvite%22%5D%2C%5B%227f60061b4b6be335eaa2facd1c5d8129b87f6923f4%22%2C%22getActionClass%22%5D%2C%5B%227f670a0537f96de8b5156e1b206124b2a990484370%22%2C%22getApiKey%22%5D%2C%5B%227f74bd40a1f82de833915085152910f3ebd525b356%22%2C%22getTeam%22%5D%2C%5B%227fb9a3e6cbebea226c9a3678f31bfebf532ca7321e%22%2C%22getResponseNote%22%5D%2C%5B%227fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1%22%2C%22getTag%22%5D%2C%5B%227fc6abb0838b6422ef7e81141fd6603883cd1990cf%22%2C%22getDocument%22%5D%2C%5B%227fc856fe5dd5f698d2f54dacf4280d447336780427%22%2C%22getLanguage%22%5D%2C%5B%227fcda0e6bf50febdf861015e25ebdf74068a488dde%22%2C%22getContact%22%5D%2C%5B%227fcfea9518c327899180b23cb3055005ba65cdef33%22%2C%22getIntegration%22%5D%2C%5B%227fdb06c584a2145e0f48be9ead409fc7f774731fde%22%2C%22getEnvironment%22%5D%2C%5B%227fdcbaf3445e783557d350b55d91be1398fafca7d3%22%2C%22getInsight%22%5D%2C%5B%227fe763f2c0d5f307cc75c26f23c693a54ac24a3112%22%2C%22getProject%22%5D%2C%5B%227ffb22c619704253744e9b5fea4eccca8b0808fb64%22%2C%22getSegment%22%5D%5D%5D%2C%5B%22%2FUsers%2Fkdy1%2Fprojects%2Fformbricks%2Fapps%2Fweb%2Fmodules%2Fsetup%2Forganization%2F%5BorganizationId%5D%2Finvite%2Factions.ts%22%2C%5B%5B%227fa3e61d0a0169c2318730ed14978373421ffc20aa%22%2C%22inviteOrganizationMemberAction%22%5D%5D%5D%5D&__client_imported__=true!























/***/ }),

/***/ 777311:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 91638));


/***/ }),

/***/ 71735:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 193961));


/***/ }),

/***/ 785177:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 645237));


/***/ }),

/***/ 498329:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 986090));


/***/ }),

/***/ 856763:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bp: () => (/* binding */ isStringMatch),
/* harmony export */   g3: () => (/* binding */ getFormattedErrorMessage)
/* harmony export */ });
/* unused harmony exports getOrganizationIdFromProjectId, getOrganizationIdFromEnvironmentId, getOrganizationIdFromSurveyId, getOrganizationIdFromResponseId, getOrganizationIdFromContactId, getProjectIdFromContactId, getOrganizationIdFromTagId, getOrganizationIdFromResponseNoteId, getOrganizationIdFromSegmentId, getOrganizationIdFromActionClassId, getOrganizationIdFromIntegrationId, getOrganizationIdFromWebhookId, getOrganizationIdFromApiKeyId, getOrganizationIdFromInviteId, getOrganizationIdFromLanguageId, getOrganizationIdFromTeamId, getOrganizationIdFromInsightId, getOrganizationIdFromDocumentId, getProjectIdFromEnvironmentId, getProjectIdFromSurveyId, getProjectIdFromInsightId, getProjectIdFromSegmentId, getProjectIdFromApiKeyId, getProjectIdFromActionClassId, getProjectIdFromTagId, getProjectIdFromLanguageId, getProjectIdFromResponseId, getProjectIdFromResponseNoteId, getProductIdFromContactId, getProjectIdFromDocumentId, getProjectIdFromIntegrationId, getProjectIdFromWebhookId, getEnvironmentIdFromSurveyId, getEnvironmentIdFromResponseId, getEnvironmentIdFromInsightId, getEnvironmentIdFromSegmentId, getEnvironmentIdFromTagId */


const getFormattedErrorMessage = (result)=>{
    let message = "";
    if (result.serverError) {
        message = result.serverError;
    } else {
        const errors = result.validationErrors;
        message = Object.keys(errors || {}).map((key)=>{
            if (key === "_errors") return errors[key].join(", ");
            return `${key ? `${key}` : ""}${errors?.[key]?._errors?.join(", ")}`;
        }).join("\n");
    }
    return message;
};
/**
 * GET organization ID from RESOURCE ID
 */ const getOrganizationIdFromProjectId = async (projectId)=>{
    const project = await getProject(projectId);
    if (!project) {
        throw new ResourceNotFoundError("project", projectId);
    }
    return project.organizationId;
};
const getOrganizationIdFromEnvironmentId = async (environmentId)=>{
    const environment = await getEnvironment(environmentId);
    if (!environment) {
        throw new ResourceNotFoundError("environment", environmentId);
    }
    return await getOrganizationIdFromProjectId(environment.projectId);
};
const getOrganizationIdFromSurveyId = async (surveyId)=>{
    const survey = await getSurvey(surveyId);
    if (!survey) {
        throw new ResourceNotFoundError("survey", surveyId);
    }
    return await getOrganizationIdFromEnvironmentId(survey.environmentId);
};
const getOrganizationIdFromResponseId = async (responseId)=>{
    const response = await getResponse(responseId);
    if (!response) {
        throw new ResourceNotFoundError("response", responseId);
    }
    return await getOrganizationIdFromSurveyId(response.surveyId);
};
const getOrganizationIdFromContactId = async (contactId)=>{
    const contact = await getContact(contactId);
    if (!contact) {
        throw new ResourceNotFoundError("contact", contactId);
    }
    return await getOrganizationIdFromEnvironmentId(contact.environmentId);
};
const getProjectIdFromContactId = async (contactId)=>{
    const contact = await getContact(contactId);
    if (!contact) {
        throw new ResourceNotFoundError("contact", contactId);
    }
    return await getProjectIdFromEnvironmentId(contact.environmentId);
};
const getOrganizationIdFromTagId = async (tagId)=>{
    const tag = await getTag(tagId);
    if (!tag) {
        throw new ResourceNotFoundError("tag", tagId);
    }
    return await getOrganizationIdFromEnvironmentId(tag.environmentId);
};
const getOrganizationIdFromResponseNoteId = async (responseNoteId)=>{
    const responseNote = await getResponseNote(responseNoteId);
    if (!responseNote) {
        throw new ResourceNotFoundError("responseNote", responseNoteId);
    }
    return await getOrganizationIdFromResponseId(responseNote.responseId);
};
const getOrganizationIdFromSegmentId = async (segmentId)=>{
    const segment = await getSegment(segmentId);
    if (!segment) {
        throw new ResourceNotFoundError("segment", segmentId);
    }
    return await getOrganizationIdFromEnvironmentId(segment.environmentId);
};
const getOrganizationIdFromActionClassId = async (actionClassId)=>{
    const actionClass = await getActionClass(actionClassId);
    if (!actionClass) {
        throw new ResourceNotFoundError("actionClass", actionClassId);
    }
    return await getOrganizationIdFromEnvironmentId(actionClass.environmentId);
};
const getOrganizationIdFromIntegrationId = async (integrationId)=>{
    const integration = await getIntegration(integrationId);
    if (!integration) {
        throw new ResourceNotFoundError("integration", integrationId);
    }
    return await getOrganizationIdFromEnvironmentId(integration.environmentId);
};
const getOrganizationIdFromWebhookId = async (webhookId)=>{
    const webhook = await getWebhook(webhookId);
    if (!webhook) {
        throw new ResourceNotFoundError("webhook", webhookId);
    }
    return await getOrganizationIdFromEnvironmentId(webhook.environmentId);
};
const getOrganizationIdFromApiKeyId = async (apiKeyId)=>{
    const apiKeyFromServer = await getApiKey(apiKeyId);
    if (!apiKeyFromServer) {
        throw new ResourceNotFoundError("apiKey", apiKeyId);
    }
    return await getOrganizationIdFromEnvironmentId(apiKeyFromServer.environmentId);
};
const getOrganizationIdFromInviteId = async (inviteId)=>{
    const invite = await getInvite(inviteId);
    if (!invite) {
        throw new ResourceNotFoundError("invite", inviteId);
    }
    return invite.organizationId;
};
const getOrganizationIdFromLanguageId = async (languageId)=>{
    const language = await getLanguage(languageId);
    if (!language) {
        throw new ResourceNotFoundError("language", languageId);
    }
    return await getOrganizationIdFromProjectId(language.projectId);
};
const getOrganizationIdFromTeamId = async (teamId)=>{
    const team = await getTeam(teamId);
    if (!team) {
        throw new ResourceNotFoundError("team", teamId);
    }
    return team.organizationId;
};
const getOrganizationIdFromInsightId = async (insightId)=>{
    const insight = await getInsight(insightId);
    if (!insight) {
        throw new ResourceNotFoundError("insight", insightId);
    }
    return await getOrganizationIdFromEnvironmentId(insight.environmentId);
};
const getOrganizationIdFromDocumentId = async (documentId)=>{
    const document = await getDocument(documentId);
    if (!document) {
        throw new ResourceNotFoundError("document", documentId);
    }
    return await getOrganizationIdFromEnvironmentId(document.environmentId);
};
// project id helpers
const getProjectIdFromEnvironmentId = async (environmentId)=>{
    const environment = await getEnvironment(environmentId);
    if (!environment) {
        throw new ResourceNotFoundError("environment", environmentId);
    }
    return environment.projectId;
};
const getProjectIdFromSurveyId = async (surveyId)=>{
    const survey = await getSurvey(surveyId);
    if (!survey) {
        throw new ResourceNotFoundError("survey", surveyId);
    }
    return await getProjectIdFromEnvironmentId(survey.environmentId);
};
const getProjectIdFromInsightId = async (insightId)=>{
    const insight = await getInsight(insightId);
    if (!insight) {
        throw new ResourceNotFoundError("insight", insightId);
    }
    return await getProjectIdFromEnvironmentId(insight.environmentId);
};
const getProjectIdFromSegmentId = async (segmentId)=>{
    const segment = await getSegment(segmentId);
    if (!segment) {
        throw new ResourceNotFoundError("segment", segmentId);
    }
    return await getProjectIdFromEnvironmentId(segment.environmentId);
};
const getProjectIdFromApiKeyId = async (apiKeyId)=>{
    const apiKey = await getApiKey(apiKeyId);
    if (!apiKey) {
        throw new ResourceNotFoundError("apiKey", apiKeyId);
    }
    return await getProjectIdFromEnvironmentId(apiKey.environmentId);
};
const getProjectIdFromActionClassId = async (actionClassId)=>{
    const actionClass = await getActionClass(actionClassId);
    if (!actionClass) {
        throw new ResourceNotFoundError("actionClass", actionClassId);
    }
    return await getProjectIdFromEnvironmentId(actionClass.environmentId);
};
const getProjectIdFromTagId = async (tagId)=>{
    const tag = await getTag(tagId);
    if (!tag) {
        throw new ResourceNotFoundError("tag", tagId);
    }
    return await getProjectIdFromEnvironmentId(tag.environmentId);
};
const getProjectIdFromLanguageId = async (languageId)=>{
    const language = await getLanguage(languageId);
    if (!language) {
        throw new ResourceNotFoundError("language", languageId);
    }
    return language.projectId;
};
const getProjectIdFromResponseId = async (responseId)=>{
    const response = await getResponse(responseId);
    if (!response) {
        throw new ResourceNotFoundError("response", responseId);
    }
    return await getProjectIdFromSurveyId(response.surveyId);
};
const getProjectIdFromResponseNoteId = async (responseNoteId)=>{
    const responseNote = await getResponseNote(responseNoteId);
    if (!responseNote) {
        throw new ResourceNotFoundError("responseNote", responseNoteId);
    }
    return await getProjectIdFromResponseId(responseNote.responseId);
};
const getProductIdFromContactId = async (contactId)=>{
    const contact = await getContact(contactId);
    if (!contact) {
        throw new ResourceNotFoundError("contact", contactId);
    }
    return await getProjectIdFromEnvironmentId(contact.environmentId);
};
const getProjectIdFromDocumentId = async (documentId)=>{
    const document = await getDocument(documentId);
    if (!document) {
        throw new ResourceNotFoundError("document", documentId);
    }
    return await getProjectIdFromEnvironmentId(document.environmentId);
};
const getProjectIdFromIntegrationId = async (integrationId)=>{
    const integration = await getIntegration(integrationId);
    if (!integration) {
        throw new ResourceNotFoundError("integration", integrationId);
    }
    return await getProjectIdFromEnvironmentId(integration.environmentId);
};
const getProjectIdFromWebhookId = async (webhookId)=>{
    const webhook = await getWebhook(webhookId);
    if (!webhook) {
        throw new ResourceNotFoundError("webhook", webhookId);
    }
    return await getProjectIdFromEnvironmentId(webhook.environmentId);
};
// environment id helpers
const getEnvironmentIdFromSurveyId = async (surveyId)=>{
    const survey = await getSurvey(surveyId);
    if (!survey) {
        throw new ResourceNotFoundError("survey", surveyId);
    }
    return survey.environmentId;
};
const getEnvironmentIdFromResponseId = async (responseId)=>{
    const response = await getResponse(responseId);
    if (!response) {
        throw new ResourceNotFoundError("response", responseId);
    }
    return await getEnvironmentIdFromSurveyId(response.surveyId);
};
const getEnvironmentIdFromInsightId = async (insightId)=>{
    const insight = await getInsight(insightId);
    if (!insight) {
        throw new ResourceNotFoundError("insight", insightId);
    }
    return insight.environmentId;
};
const getEnvironmentIdFromSegmentId = async (segmentId)=>{
    const segment = await getSegment(segmentId);
    if (!segment) {
        throw new ResourceNotFoundError("segment", segmentId);
    }
    return segment.environmentId;
};
const getEnvironmentIdFromTagId = async (tagId)=>{
    const tag = await getTag(tagId);
    if (!tag) {
        throw new ResourceNotFoundError("tag", tagId);
    }
    return tag.environmentId;
};
const isStringMatch = (query, value)=>{
    // lowercase both query and value
    // replace all spaces with empty string
    // replace all underscores with empty string
    // replace all dashes with empty string
    const queryModified = query.toLowerCase().replace(/ /g, "").replace(/_/g, "").replace(/-/g, "");
    const valueModified = value.toLowerCase().replace(/ /g, "").replace(/_/g, "").replace(/-/g, "");
    return valueModified.includes(queryModified);
};


/***/ }),

/***/ 193961:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  InviteMembers: () => (/* binding */ InviteMembers)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(642725);
// EXTERNAL MODULE: ./lib/utils/helper.ts
var helper = __webpack_require__(856763);
// EXTERNAL MODULE: ../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js
var action_client_wrapper = __webpack_require__(308441);
;// ../../node_modules/next/dist/build/webpack/loaders/next-flight-server-reference-proxy-loader.js?id=7fa3e61d0a0169c2318730ed14978373421ffc20aa&name=inviteOrganizationMemberAction!

const inviteOrganizationMemberAction = /*#__PURE__*/(0,action_client_wrapper.createServerReference)("7fa3e61d0a0169c2318730ed14978373421ffc20aa", action_client_wrapper.callServer, undefined, action_client_wrapper.findSourceMapURL, "inviteOrganizationMemberAction")
// EXTERNAL MODULE: ../../node_modules/zod/lib/index.mjs
var lib = __webpack_require__(99922);
// EXTERNAL MODULE: ../../packages/database/zod/invites.ts
var invites = __webpack_require__(471918);
// EXTERNAL MODULE: ../../packages/types/user.ts
var user = __webpack_require__(959777);
;// ./modules/setup/organization/[organizationId]/invite/types/invites.ts



const ZInvitee = invites/* ZInvite */.o.pick({
    name: true,
    email: true
}).extend({
    name: user/* ZUserName */.pE
});
const ZInviteMembersFormSchema = lib.z.record(invites/* ZInvite */.o.pick({
    email: true,
    name: true
}).extend({
    email: lib.z.string().email("Invalid email address"),
    name: user/* ZUserName */.pE
}));

// EXTERNAL MODULE: ./modules/ui/components/alert/index.tsx
var components_alert = __webpack_require__(886762);
// EXTERNAL MODULE: ./modules/ui/components/button/index.tsx
var components_button = __webpack_require__(248852);
// EXTERNAL MODULE: ./modules/ui/components/form/index.tsx
var components_form = __webpack_require__(184142);
// EXTERNAL MODULE: ./modules/ui/components/input/index.tsx
var input = __webpack_require__(438624);
// EXTERNAL MODULE: ../../node_modules/@hookform/resolvers/zod/dist/zod.mjs + 1 modules
var zod = __webpack_require__(311159);
// EXTERNAL MODULE: ../../node_modules/@tolgee/react/dist/tolgee-react.esm.js
var tolgee_react_esm = __webpack_require__(397674);
// EXTERNAL MODULE: ../../node_modules/lucide-react/dist/esm/icons/plus.js
var plus = __webpack_require__(108996);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.js
var navigation = __webpack_require__(470207);
// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js
var react = __webpack_require__(891616);
// EXTERNAL MODULE: ../../node_modules/react-hook-form/dist/index.esm.mjs
var index_esm = __webpack_require__(200667);
// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(986090);
;// ./modules/setup/organization/[organizationId]/invite/components/invite-members.tsx
/* __next_internal_client_entry_do_not_use__ InviteMembers auto */ 














const InviteMembers = ({ IS_SMTP_CONFIGURED, organizationId })=>{
    const { t } = (0,tolgee_react_esm/* useTranslate */.WD)();
    const [membersCount, setMembersCount] = (0,react.useState)(1);
    const router = (0,navigation.useRouter)();
    const form = (0,index_esm/* useForm */.mN)({
        resolver: (0,zod/* zodResolver */.u)(ZInviteMembersFormSchema)
    });
    const { isSubmitting } = form.formState;
    const inviteTeamMembers = async (data)=>{
        for (const member of Object.values(data)){
            try {
                if (!member.email) continue;
                const inviteResponse = await inviteOrganizationMemberAction({
                    email: member.email.toLowerCase(),
                    name: member.name,
                    organizationId
                });
                if (inviteResponse?.data) {
                    dist/* toast */.oR.success(`${t("setup.invite.invitation_sent_to")} ${member.email}!`);
                } else {
                    const errorMessage = (0,helper/* getFormattedErrorMessage */.g3)(inviteResponse);
                    dist/* toast */.oR.error(errorMessage);
                }
            } catch (error) {
                dist/* toast */.oR.error(`${t("setup.invite.failed_to_invite")} ${member.email}.`);
            }
        }
        router.push("/");
    };
    const handleSkip = ()=>{
        router.push("/");
    };
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_form/* FormProvider */.Op, {
        ...form,
        children: [
            !IS_SMTP_CONFIGURED && /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_alert/* Alert */.Fc, {
                variant: "warning",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_alert/* AlertTitle */.XL, {
                        children: t("setup.invite.smtp_not_configured")
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_alert/* AlertDescription */.TN, {
                        children: t("setup.invite.smtp_not_configured_description")
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("form", {
                onSubmit: (e)=>{
                    e.preventDefault();
                    void form.handleSubmit(inviteTeamMembers)(e);
                },
                className: "space-y-4",
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    className: "flex flex-col items-center space-y-4",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("h2", {
                            className: "text-2xl font-medium",
                            children: t("setup.invite.invite_your_organization_members")
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("p", {
                            children: t("setup.invite.life_s_no_fun_alone")
                        }),
                        Array.from({
                            length: membersCount
                        }).map((_, index)=>/*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                className: "space-y-2",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                        control: form.control,
                                        name: `member-${index.toString()}.email`,
                                        render: ({ field, fieldState: { error } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormItem */.eI, {
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormControl */.MJ, {
                                                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                                                className: "relative",
                                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                                                                    ...field,
                                                                    placeholder: `user@example.com`,
                                                                    className: "w-80",
                                                                    isInvalid: Boolean(error?.message)
                                                                })
                                                            }),
                                                            error?.message && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormError */.jQ, {
                                                                className: "text-left",
                                                                children: error.message
                                                            })
                                                        ]
                                                    })
                                                })
                                            })
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormField */.zB, {
                                        control: form.control,
                                        name: `member-${index.toString()}.name`,
                                        render: ({ field, fieldState: { error } })=>/*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormItem */.eI, {
                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormControl */.MJ, {
                                                    children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                                                                className: "relative",
                                                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(input/* Input */.p, {
                                                                    ...field,
                                                                    placeholder: `Full Name (optional)`,
                                                                    className: "w-80",
                                                                    isInvalid: Boolean(error?.message)
                                                                })
                                                            }),
                                                            error?.message && /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_form/* FormError */.jQ, {
                                                                className: "text-left",
                                                                children: error.message
                                                            })
                                                        ]
                                                    })
                                                })
                                            })
                                    })
                                ]
                            }, `member-${index.toString()}`)),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(components_button/* Button */.$, {
                            variant: "ghost",
                            onClick: ()=>{
                                setMembersCount((count)=>count + 1);
                            },
                            type: "button",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(plus/* default */.A, {}),
                                t("setup.invite.add_another_member")
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("hr", {
                            className: "my-6 w-full border-slate-200"
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                    className: "flex w-80 justify-center",
                                    type: "submit",
                                    loading: isSubmitting,
                                    disabled: isSubmitting,
                                    children: t("setup.invite.continue")
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime.jsx)(components_button/* Button */.$, {
                                    type: "button",
                                    variant: "ghost",
                                    className: "flex w-80 justify-center",
                                    onClick: handleSkip,
                                    children: t("setup.invite.skip")
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    });
};


/***/ }),

/***/ 886762:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fc: () => (/* binding */ Alert),
/* harmony export */   TN: () => (/* binding */ AlertDescription),
/* harmony export */   XL: () => (/* binding */ AlertTitle)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(607918);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(983773);




const alertVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__/* .cva */ .F)("relative w-full rounded-xl border p-3 [&>svg]:absolute [&>svg]:text-foreground [&>svg]:left-3 [&>svg]:top-3 [&>svg+div]:translate-y-[-3px] [&:has(svg)]:pl-9", {
    variants: {
        variant: {
            default: "bg-background text-foreground",
            destructive: "text-destructive border-destructive/50 dark:border-destructive [&>svg]:text-destructive text-destructive",
            info: "text-slate-800 bg-brand/5",
            warning: "text-yellow-700 bg-yellow-50",
            error: "border-error/50 dark:border-error [&>svg]:text-error text-error"
        }
    },
    defaultVariants: {
        variant: "default"
    }
});
const Alert = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ref: ref,
        role: "alert",
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)(alertVariants({
            variant
        }), className),
        ...props
    }));
Alert.displayName = "Alert";
const AlertTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("mb-1 cursor-default font-medium leading-none", className),
        ...props
    }));
AlertTitle.displayName = "AlertTitle";
const AlertDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("cursor-default text-sm [&_p]:leading-relaxed", className),
        ...props
    }));
AlertDescription.displayName = "AlertDescription";



/***/ }),

/***/ 184142:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MJ: () => (/* binding */ FormControl),
/* harmony export */   Op: () => (/* reexport safe */ react_hook_form__WEBPACK_IMPORTED_MODULE_3__.Op),
/* harmony export */   Rr: () => (/* binding */ FormDescription),
/* harmony export */   eI: () => (/* binding */ FormItem),
/* harmony export */   jQ: () => (/* binding */ FormError),
/* harmony export */   lR: () => (/* binding */ FormLabel),
/* harmony export */   zB: () => (/* binding */ FormField)
/* harmony export */ });
/* unused harmony export useFormField */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(189300);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(200667);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(983773);
/* harmony import */ var _label__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(61330);
/* __next_internal_client_entry_do_not_use__ useFormField,FormProvider,FormItem,FormLabel,FormControl,FormDescription,FormError,FormField auto */ 





const FormFieldContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
const FormField = ({ ...props })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormFieldContext.Provider, {
        value: {
            name: props.name
        },
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_hook_form__WEBPACK_IMPORTED_MODULE_3__/* .Controller */ .xI, {
            ...props
        })
    });
};
const useFormField = ()=>{
    const fieldContext = react__WEBPACK_IMPORTED_MODULE_1__.useContext(FormFieldContext);
    const itemContext = react__WEBPACK_IMPORTED_MODULE_1__.useContext(FormItemContext);
    const { getFieldState, formState } = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_3__/* .useFormContext */ .xW)();
    const fieldState = getFieldState(fieldContext.name, formState);
    if (!fieldContext) {
        throw new Error("useFormField should be used within <FormField>");
    }
    const { id } = itemContext;
    return {
        id,
        name: fieldContext.name,
        formItemId: `${id}-form-item`,
        formDescriptionId: `${id}-form-item-description`,
        formMessageId: `${id}-form-item-message`,
        ...fieldState
    };
};
const FormItemContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
const FormItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>{
    const id = react__WEBPACK_IMPORTED_MODULE_1__.useId();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormItemContext.Provider, {
        value: {
            id
        },
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", {
            ref: ref,
            className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)("space-y-2", className),
            ...props
        })
    });
});
FormItem.displayName = "FormItem";
const FormLabel = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>{
    const { error, formItemId } = useFormField();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_label__WEBPACK_IMPORTED_MODULE_2__/* .Label */ .J, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)(error ? "text-red-500" : "text-slate-800", className),
        htmlFor: formItemId,
        ...props
    });
});
FormLabel.displayName = "FormLabel";
const FormControl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ ...props }, ref)=>{
    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__/* .Slot */ .DX, {
        ref: ref,
        id: formItemId,
        "aria-describedby": !error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`,
        "aria-invalid": !!error,
        ...props
    });
});
FormControl.displayName = "FormControl";
const FormDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>{
    const { formItemId } = useFormField();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
        ref: ref,
        id: formItemId,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)("text-xs text-slate-500", className),
        ...props
    });
});
FormDescription.displayName = "FormDescription";
const FormError = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>{
    const { error, formMessageId } = useFormField();
    const errorMessage = error?.message || error?.root?.message;
    const body = error ? String(errorMessage) : children;
    if (!body) {
        return null;
    }
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", {
        ref: ref,
        id: formMessageId,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_4__.cn)("text-error text-sm", className),
        ...props,
        children: body
    });
});
FormError.displayName = "FormError";



/***/ }),

/***/ 438624:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ Input)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(983773);



const Input = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, isInvalid, ...props }, ref)=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", {
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_2__.cn)("focus:border-brand-dark flex h-10 w-full rounded-md border border-slate-300 bg-transparent px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-500 dark:text-slate-300", className, isInvalid && "border border-red-500 focus:border-red-500"),
        ref: ref,
        ...props
    });
});
Input.displayName = "Input";



/***/ }),

/***/ 61330:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ Label)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(642725);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(446470);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(891616);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(983773);
/* __next_internal_client_entry_do_not_use__ Label auto */ 



const Label = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__/* .Root */ .b, {
        ref: ref,
        className: (0,_formbricks_lib_cn__WEBPACK_IMPORTED_MODULE_3__.cn)("text-sm font-medium leading-none text-slate-800 disabled:opacity-70 peer-disabled:cursor-not-allowed peer-disabled:opacity-70 dark:text-slate-400 dark:peer-disabled:opacity-70", className),
        ...props
    }));
Label.displayName = _radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__/* .Root */ .b.displayName;



/***/ }),

/***/ 108996:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ Plus)
/* harmony export */ });
/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58303);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ 
const Plus = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("Plus", [
    [
        "path",
        {
            d: "M5 12h14",
            key: "1ays0h"
        }
    ],
    [
        "path",
        {
            d: "M12 5v14",
            key: "s699le"
        }
    ]
]);
 //# sourceMappingURL=plus.js.map


/***/ }),

/***/ 471918:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   o: () => (/* binding */ ZInvite)
/* harmony export */ });
/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99922);

const ZInvite = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(),
    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullable(),
    organizationId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    creatorId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    acceptorId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullable(),
    createdAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.date(),
    expiresAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.date(),
    role: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
        "owner",
        "manager",
        "member",
        "billing"
    ]),
    teamIds: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string())
});


/***/ }),

/***/ 983773:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cn: () => (/* binding */ cn)
/* harmony export */ });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(553626);
/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(550186);


const cn = (...inputs)=>{
    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__/* .twMerge */ .QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__/* .clsx */ .$)(inputs));
};


/***/ }),

/***/ 959777:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B$: () => (/* binding */ ZUserPassword),
/* harmony export */   b5: () => (/* binding */ ZUserObjective),
/* harmony export */   pE: () => (/* binding */ ZUserName),
/* harmony export */   qf: () => (/* binding */ ZUser)
/* harmony export */ });
/* unused harmony exports ZUserLocale, ZUserNotificationSettings, ZUserEmail, ZUserUpdateInput, ZUserCreateInput */
/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99922);

const ZRole = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
    "project_manager",
    "engineer",
    "founder",
    "marketing_specialist",
    "other"
]);
const ZUserLocale = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
    "en-US",
    "de-DE",
    "pt-BR",
    "fr-FR"
]);
const ZUserObjective = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
    "increase_conversion",
    "improve_user_retention",
    "increase_user_adoption",
    "sharpen_marketing_messaging",
    "support_sales",
    "other"
]);
const ZUserNotificationSettings = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    alert: zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()),
    weeklySummary: zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()),
    unsubscribedOrganizationIds: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()).optional()
});
const ZUserName = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().trim().min(1, {
    message: "Name should be at least 1 character long"
}).regex(/^[\p{L}\p{M}\s'\d-]+$/u, "Invalid name format");
const ZUserEmail = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email({
    message: "Invalid email"
});
const ZUserPassword = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(8).regex(/^(?=.*[A-Z])(?=.*\d).*$/);
const ZUser = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),
    name: ZUserName,
    email: ZUserEmail,
    emailVerified: zod__WEBPACK_IMPORTED_MODULE_0__.z.date().nullable(),
    imageUrl: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url().nullable(),
    twoFactorEnabled: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),
    identityProvider: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
        "email",
        "google",
        "github",
        "azuread",
        "openid"
    ]),
    createdAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.date(),
    updatedAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.date(),
    role: ZRole.nullable(),
    objective: ZUserObjective.nullable(),
    notificationSettings: ZUserNotificationSettings,
    locale: ZUserLocale
});
const ZUserUpdateInput = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    name: ZUserName.optional(),
    email: ZUserEmail.optional(),
    emailVerified: zod__WEBPACK_IMPORTED_MODULE_0__.z.date().nullish(),
    password: ZUserPassword.optional(),
    role: ZRole.optional(),
    objective: ZUserObjective.nullish(),
    imageUrl: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullish(),
    notificationSettings: ZUserNotificationSettings.optional(),
    locale: ZUserLocale.optional()
});
const ZUserCreateInput = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({
    name: ZUserName,
    email: ZUserEmail,
    password: ZUserPassword.optional(),
    emailVerified: zod__WEBPACK_IMPORTED_MODULE_0__.z.date().optional(),
    role: ZRole.optional(),
    objective: ZUserObjective.nullish(),
    identityProvider: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([
        "email",
        "google",
        "github",
        "azuread",
        "openid"
    ]).optional(),
    identityProviderAccountId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),
    locale: ZUserLocale.optional()
});


/***/ }),

/***/ 983357:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ layout)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(891069);
;// ./modules/ui/components/formbricks-logo/index.tsx

const FormbricksLogo = ({ className })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("svg", {
        width: "220",
        height: "220",
        viewBox: "0 0 220 220",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        className: className,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                d: "M39.1602 147.334H95.8321V175.67C95.8321 191.32 83.1457 204.006 67.4962 204.006C51.8466 204.006 39.1602 191.32 39.1602 175.67V147.334Z",
                fill: "url(#paint0_linear_415_2)"
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                d: "M39.1602 81.8071H152.504C168.154 81.8071 180.84 94.4936 180.84 110.143C180.84 125.793 168.154 138.479 152.504 138.479H39.1602V81.8071Z",
                fill: "url(#paint1_linear_415_2)"
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                d: "M39.1602 62.7322C39.1602 37.0773 59.9576 16.2798 85.6126 16.2798H152.504C168.154 16.2798 180.84 28.9662 180.84 44.6158C180.84 60.2653 168.154 72.9518 152.504 72.9518H39.1602V62.7322Z",
                fill: "url(#paint2_linear_415_2)"
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("mask", {
                id: "mask0_415_2",
                style: {
                    maskType: "alpha"
                },
                maskUnits: "userSpaceOnUse",
                x: "39",
                y: "16",
                width: "142",
                height: "189",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                        d: "M39.1602 147.335H95.8321V175.671C95.8321 191.32 83.1457 204.007 67.4962 204.007C51.8466 204.007 39.1602 191.32 39.1602 175.671V147.335Z",
                        fill: "url(#paint3_linear_415_2)"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                        d: "M39.1602 81.8081H152.504C168.154 81.8081 180.84 94.4946 180.84 110.144C180.84 125.794 168.154 138.48 152.504 138.48H39.1602V81.8081Z",
                        fill: "url(#paint4_linear_415_2)"
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                        d: "M39.1602 62.7322C39.1602 37.0773 59.9576 16.2798 85.6126 16.2798H152.504C168.154 16.2798 180.84 28.9662 180.84 44.6158C180.84 60.2653 168.154 72.9518 152.504 72.9518H39.1602V62.7322Z",
                        fill: "url(#paint5_linear_415_2)"
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("g", {
                mask: "url(#mask0_415_2)",
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("g", {
                        filter: "url(#filter0_d_415_2)",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("mask", {
                                id: "mask1_415_2",
                                style: {
                                    maskType: "alpha"
                                },
                                maskUnits: "userSpaceOnUse",
                                x: "39",
                                y: "16",
                                width: "142",
                                height: "189",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                                        d: "M39.1602 147.335H95.8321V175.671C95.8321 191.32 83.1457 204.007 67.4962 204.007C51.8466 204.007 39.1602 191.32 39.1602 175.671V147.335Z",
                                        fill: "black",
                                        fillOpacity: "0.1"
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                                        d: "M39.1602 62.7322C39.1602 37.0773 59.9576 16.2798 85.6126 16.2798H152.504C168.154 16.2798 180.84 28.9662 180.84 44.6158C180.84 60.2653 168.154 72.9518 152.504 72.9518H39.1602V62.7322Z",
                                        fill: "black",
                                        fillOpacity: "0.1"
                                    }),
                                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                                        d: "M39.1602 81.8081H152.504C168.154 81.8081 180.84 94.4946 180.84 110.144C180.84 125.794 168.154 138.48 152.504 138.48H39.1602V81.8081Z",
                                        fill: "black",
                                        fillOpacity: "0.1"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("g", {
                                mask: "url(#mask1_415_2)",
                                children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("path", {
                                    d: "M42.1331 -32.5321C64.3329 -54.1986 120.626 -32.5321 120.626 -32.5321H42.1331C36.6806 -27.2105 33.2847 -19.2749 33.2847 -7.76218C33.2847 50.6243 96.5317 71.8561 96.5317 112.55C96.5317 152.386 35.9231 176.962 33.3678 231.092H120.626C120.626 231.092 33.2847 291.248 33.2847 234.631C33.2847 233.437 33.3128 232.258 33.3678 231.092H-5.11523L2.41417 -32.5321H42.1331Z",
                                    fill: "black",
                                    fillOpacity: "0.1"
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("g", {
                        filter: "url(#filter1_f_415_2)",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("circle", {
                            cx: "21.4498",
                            cy: "179.212",
                            r: "53.13",
                            fill: "#00C4B8"
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("g", {
                        filter: "url(#filter2_f_415_2)",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("circle", {
                            cx: "21.4498",
                            cy: "44.6163",
                            r: "53.13",
                            fill: "#00C4B8"
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("defs", {
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("filter", {
                        id: "filter0_d_415_2",
                        x: "34.5149",
                        y: "-11.5917",
                        width: "137.209",
                        height: "243.47",
                        filterUnits: "userSpaceOnUse",
                        colorInterpolationFilters: "sRGB",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feFlood", {
                                floodOpacity: "0",
                                result: "BackgroundImageFix"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feColorMatrix", {
                                in: "SourceAlpha",
                                type: "matrix",
                                values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
                                result: "hardAlpha"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feOffset", {
                                dx: "23.2262"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feGaussianBlur", {
                                stdDeviation: "13.9357"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feComposite", {
                                in2: "hardAlpha",
                                operator: "out"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feColorMatrix", {
                                type: "matrix",
                                values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feBlend", {
                                mode: "normal",
                                in2: "BackgroundImageFix",
                                result: "effect1_dropShadow_415_2"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feBlend", {
                                mode: "normal",
                                in: "SourceGraphic",
                                in2: "effect1_dropShadow_415_2",
                                result: "shape"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("filter", {
                        id: "filter1_f_415_2",
                        x: "-78.1326",
                        y: "79.6296",
                        width: "199.165",
                        height: "199.165",
                        filterUnits: "userSpaceOnUse",
                        colorInterpolationFilters: "sRGB",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feFlood", {
                                floodOpacity: "0",
                                result: "BackgroundImageFix"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feBlend", {
                                mode: "normal",
                                in: "SourceGraphic",
                                in2: "BackgroundImageFix",
                                result: "shape"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feGaussianBlur", {
                                stdDeviation: "23.2262",
                                result: "effect1_foregroundBlur_415_2"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("filter", {
                        id: "filter2_f_415_2",
                        x: "-78.1326",
                        y: "-54.9661",
                        width: "199.165",
                        height: "199.165",
                        filterUnits: "userSpaceOnUse",
                        colorInterpolationFilters: "sRGB",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feFlood", {
                                floodOpacity: "0",
                                result: "BackgroundImageFix"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feBlend", {
                                mode: "normal",
                                in: "SourceGraphic",
                                in2: "BackgroundImageFix",
                                result: "shape"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("feGaussianBlur", {
                                stdDeviation: "23.2262",
                                result: "effect1_foregroundBlur_415_2"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsx)("linearGradient", {
                        id: "paint0_linear_415_2",
                        x1: "96.0786",
                        y1: "174.643",
                        x2: "39.1553",
                        y2: "174.873",
                        gradientUnits: "userSpaceOnUse",
                        children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                            offset: "1",
                            stopColor: "#00C4B8"
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("linearGradient", {
                        id: "paint1_linear_415_2",
                        x1: "181.456",
                        y1: "109.116",
                        x2: "39.1602",
                        y2: "110.554",
                        gradientUnits: "userSpaceOnUse",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                stopColor: "#00DDD0"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                offset: "1",
                                stopColor: "#01E0C6"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("linearGradient", {
                        id: "paint2_linear_415_2",
                        x1: "181.456",
                        y1: "43.5891",
                        x2: "39.1602",
                        y2: "45.0264",
                        gradientUnits: "userSpaceOnUse",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                stopColor: "#00DDD0"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                offset: "1",
                                stopColor: "#01E0C6"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("linearGradient", {
                        id: "paint3_linear_415_2",
                        x1: "96.0786",
                        y1: "174.644",
                        x2: "39.1553",
                        y2: "174.874",
                        gradientUnits: "userSpaceOnUse",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                stopColor: "#00FFE1"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                offset: "1",
                                stopColor: "#01E0C6"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("linearGradient", {
                        id: "paint4_linear_415_2",
                        x1: "181.456",
                        y1: "109.117",
                        x2: "39.1602",
                        y2: "110.555",
                        gradientUnits: "userSpaceOnUse",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                stopColor: "#00FFE1"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                offset: "1",
                                stopColor: "#01E0C6"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("linearGradient", {
                        id: "paint5_linear_415_2",
                        x1: "181.456",
                        y1: "43.5891",
                        x2: "39.1602",
                        y2: "45.0264",
                        gradientUnits: "userSpaceOnUse",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                stopColor: "#00FFE1"
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("stop", {
                                offset: "1",
                                stopColor: "#01E0C6"
                            })
                        ]
                    })
                ]
            })
        ]
    });
};

// EXTERNAL MODULE: ../../node_modules/react-hot-toast/dist/index.mjs
var dist = __webpack_require__(645237);
;// ./modules/setup/layout.tsx



const SetupLayout = ({ children })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime.jsxs)(react_jsx_runtime.Fragment, {
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)(dist.Toaster, {}),
            /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                className: "flex h-full w-full items-center justify-center bg-slate-50",
                children: /*#__PURE__*/ (0,react_jsx_runtime.jsxs)("div", {
                    style: {
                        scrollbarGutter: "stable both-edges"
                    },
                    className: "flex max-h-[90vh] w-[40rem] flex-col items-center space-y-4 overflow-auto rounded-lg border bg-white p-12 text-center shadow-md",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime.jsx)("div", {
                            className: "h-20 w-20 rounded-lg bg-slate-900 p-2",
                            children: /*#__PURE__*/ (0,react_jsx_runtime.jsx)(FormbricksLogo, {
                                className: "h-full w-full"
                            })
                        }),
                        children
                    ]
                })
            })
        ]
    });
};

;// ./app/setup/layout.tsx

/* harmony default export */ const layout = (SetupLayout);


/***/ }),

/***/ 975627:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ page),
  metadata: () => (/* reexport */ metadata)
});

// EXTERNAL MODULE: ../../node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-runtime.js
var react_jsx_runtime = __webpack_require__(891069);
// EXTERNAL MODULE: ./modules/auth/lib/authOptions.ts + 8 modules
var authOptions = __webpack_require__(136015);
// EXTERNAL MODULE: ./modules/setup/organization/[organizationId]/invite/components/invite-members.tsx
var invite_members = __webpack_require__(91638);
// EXTERNAL MODULE: ./tolgee/server.tsx + 2 modules
var server = __webpack_require__(186184);
// EXTERNAL MODULE: ../../node_modules/next-auth/index.js
var next_auth = __webpack_require__(963302);
// EXTERNAL MODULE: ../../node_modules/next/dist/api/navigation.react-server.js
var navigation_react_server = __webpack_require__(145796);
// EXTERNAL MODULE: ../../packages/lib/constants.ts
var constants = __webpack_require__(836919);
// EXTERNAL MODULE: ../../packages/lib/organization/auth.ts
var auth = __webpack_require__(937440);
// EXTERNAL MODULE: ../../packages/types/errors.ts
var errors = __webpack_require__(470641);
;// ./modules/setup/organization/[organizationId]/invite/page.tsx









const metadata = {
    title: "Invite",
    description: "Open-source Experience Management. Free & open source."
};
const InvitePage = async (props)=>{
    const params = await props.params;
    const t = await (0,server/* getTranslate */.r)();
    const IS_SMTP_CONFIGURED = Boolean(constants/* SMTP_HOST */.SO && constants/* SMTP_PORT */.z5 && constants/* SMTP_USER */.Bk && constants/* SMTP_PASSWORD */.RN);
    const session = await (0,next_auth.getServerSession)(authOptions/* authOptions */.N);
    if (!session) throw new errors/* AuthenticationError */.v3(t("common.session_not_found"));
    const { hasCreateOrUpdateMembersAccess } = await (0,auth/* verifyUserRoleAccess */.f)(params.organizationId, session.user.id);
    if (!hasCreateOrUpdateMembersAccess) return (0,navigation_react_server.notFound)();
    return /*#__PURE__*/ (0,react_jsx_runtime.jsx)(invite_members.InviteMembers, {
        IS_SMTP_CONFIGURED: IS_SMTP_CONFIGURED,
        organizationId: params.organizationId
    });
};

;// ./app/setup/organization/[organizationId]/invite/page.tsx


/* harmony default export */ const page = (InvitePage);


/***/ }),

/***/ 16411:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ apiKeyCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const apiKeyCache = {
    tag: {
        byId (id) {
            return `apiKeys-${id}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-apiKeys`;
        },
        byHashedKey (hashedKey) {
            return `apiKeys-${hashedKey}-apiKey`;
        }
    },
    revalidate ({ id, environmentId, hashedKey }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
        if (hashedKey) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byHashedKey(hashedKey));
        }
    }
};


/***/ }),

/***/ 976565:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   f: () => (/* binding */ contactCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const contactCache = {
    tag: {
        byId (id) {
            return `contacts-${id}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-contacts`;
        },
        byEnvironmentIdAndUserId (environmentId, userId) {
            return `environments-${environmentId}-contactByUserId-${userId}`;
        }
    },
    revalidate: ({ id, environmentId, userId })=>{
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(contactCache.tag.byId(id));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(contactCache.tag.byEnvironmentId(environmentId));
        }
        if (environmentId && userId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(contactCache.tag.byEnvironmentIdAndUserId(environmentId, userId));
        }
    }
};


/***/ }),

/***/ 896484:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ inviteCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const inviteCache = {
    tag: {
        byId (id) {
            return `invites-${id}`;
        },
        byOrganizationId (organizationId) {
            return `organizations-${organizationId}-invites`;
        }
    },
    revalidate ({ id, organizationId }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (organizationId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byOrganizationId(organizationId));
        }
    }
};


/***/ }),

/***/ 753304:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ teamCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const teamCache = {
    tag: {
        byId (id) {
            return `team-${id}`;
        },
        byProjectId (projectId) {
            return `project-teams-${projectId}`;
        },
        byUserId (userId) {
            return `user-${userId}-teams`;
        },
        byOrganizationId (organizationId) {
            return `organization-${organizationId}-teams`;
        }
    },
    revalidate: ({ id, projectId, userId, organizationId })=>{
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(teamCache.tag.byId(id));
        }
        if (projectId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(teamCache.tag.byProjectId(projectId));
        }
        if (userId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(teamCache.tag.byUserId(userId));
        }
        if (organizationId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(teamCache.tag.byOrganizationId(organizationId));
        }
    }
};


/***/ }),

/***/ 638234:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* binding */ webhookCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const webhookCache = {
    tag: {
        byId (id) {
            return `webhooks-${id}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-webhooks`;
        },
        byEnvironmentIdAndSource (environmentId, source) {
            return `environments-${environmentId}-sources-${source}-webhooks`;
        }
    },
    revalidate ({ id, environmentId, source }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
        if (environmentId && source) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentIdAndSource(environmentId, source));
        }
    }
};


/***/ }),

/***/ 729455:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   r: () => (/* binding */ checkAuthorizationUpdated)
/* harmony export */ });
/* harmony import */ var _modules_ee_teams_lib_roles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(562147);
/* harmony import */ var next_safe_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(717921);
/* harmony import */ var _formbricks_lib_membership_hooks_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(895856);
/* harmony import */ var _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(207798);




const formatErrors = (issues)=>{
    return {
        ...issues.reduce((acc, issue)=>{
            acc[issue.path.join(".")] = {
                _errors: [
                    issue.message
                ]
            };
            return acc;
        }, {})
    };
};
const teamPermissionWeight = {
    read: 1,
    readWrite: 2,
    manage: 3
};
const teamRoleWeight = {
    contributor: 1,
    admin: 2
};
const checkAuthorizationUpdated = async ({ userId, organizationId, access })=>{
    const role = await (0,_formbricks_lib_membership_hooks_actions__WEBPACK_IMPORTED_MODULE_2__/* .getMembershipRole */ .J)(userId, organizationId);
    for (const accessItem of access){
        if (accessItem.type === "organization") {
            if (accessItem.schema) {
                const resultSchema = accessItem.schema.strict();
                const parsedResult = resultSchema.safeParse(accessItem.data);
                if (!parsedResult.success) {
                    // @ts-expect-error -- TODO: match dynamic next-safe-action types
                    return (0,next_safe_action__WEBPACK_IMPORTED_MODULE_1__/* .returnValidationErrors */ .Di)(resultSchema, formatErrors(parsedResult.error.issues));
                }
            }
            if (accessItem.roles.includes(role)) {
                return true;
            }
        } else {
            if (accessItem.type === "projectTeam") {
                const projectPermission = await (0,_modules_ee_teams_lib_roles__WEBPACK_IMPORTED_MODULE_0__/* .getProjectPermissionByUserId */ ._)(userId, accessItem.projectId);
                if (!projectPermission || accessItem.minPermission !== undefined && teamPermissionWeight[projectPermission] < teamPermissionWeight[accessItem.minPermission]) {
                    continue;
                }
            } else {
                const teamRole = await (0,_modules_ee_teams_lib_roles__WEBPACK_IMPORTED_MODULE_0__/* .getTeamRoleByTeamIdUserId */ .b)(accessItem.teamId, userId);
                if (!teamRole || accessItem.minPermission !== undefined && teamRoleWeight[teamRole] < teamRoleWeight[accessItem.minPermission]) {
                    continue;
                }
            }
            return true;
        }
    }
    throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_3__/* .AuthorizationError */ .yi("Not authorized");
};


/***/ }),

/***/ 883212:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bx: () => (/* binding */ getActionClass),
/* harmony export */   CG: () => (/* binding */ getApiKey),
/* harmony export */   Dp: () => (/* binding */ getSurvey),
/* harmony export */   I_: () => (/* binding */ getInvite),
/* harmony export */   O0: () => (/* binding */ getWebhook),
/* harmony export */   U1: () => (/* binding */ getProject),
/* harmony export */   Uo: () => (/* binding */ getTeam),
/* harmony export */   Wy: () => (/* binding */ getResponseNote),
/* harmony export */   Xj: () => (/* binding */ isProjectPartOfOrganization),
/* harmony export */   YE: () => (/* binding */ getDocument),
/* harmony export */   Z0: () => (/* binding */ getLanguage),
/* harmony export */   bH: () => (/* binding */ getTag),
/* harmony export */   bl: () => (/* binding */ getContact),
/* harmony export */   kn: () => (/* binding */ getSegment),
/* harmony export */   l5: () => (/* binding */ isTeamPartOfOrganization),
/* harmony export */   mi: () => (/* binding */ getResponse),
/* harmony export */   rg: () => (/* binding */ getIntegration),
/* harmony export */   uc: () => (/* binding */ getEnvironment),
/* harmony export */   zv: () => (/* binding */ getInsight)
/* harmony export */ });
/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(286055);
/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(770767);
/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lib_cache_api_key__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16411);
/* harmony import */ var _lib_cache_contact__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(976565);
/* harmony import */ var _lib_cache_invite__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(896484);
/* harmony import */ var _lib_cache_team__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(753304);
/* harmony import */ var _lib_cache_webhook__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(638234);
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(896330);
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(645625);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _formbricks_database__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(482859);
/* harmony import */ var _formbricks_lib_actionClass_cache__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(465382);
/* harmony import */ var _formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(48165);
/* harmony import */ var _formbricks_lib_cache_segment__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(857431);
/* harmony import */ var _formbricks_lib_environment_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(37483);
/* harmony import */ var _formbricks_lib_integration_cache__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(646426);
/* harmony import */ var _formbricks_lib_project_cache__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(595111);
/* harmony import */ var _formbricks_lib_response_cache__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(813255);
/* harmony import */ var _formbricks_lib_responseNote_cache__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(667883);
/* harmony import */ var _formbricks_lib_survey_cache__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(710528);
/* harmony import */ var _formbricks_lib_tag_cache__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(366836);
/* harmony import */ var _formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(472749);
/* harmony import */ var _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(552224);
/* harmony import */ var _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(207798);
/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(429931);
/* __next_internal_action_entry_do_not_use__ {"7f11f2efac37ac84796e6cb223722dbe2e808e177f":"getResponse","7f12957c3365cc2950bdc48f0118f82439eb6c23ec":"getSurvey","7f20db167926d501ff62b9525526548773c8a436d4":"isTeamPartOfOrganization","7f36cf02b548a01d85112f587591e8c1e8390fa538":"isProjectPartOfOrganization","7f4f2c9c8b657cf906e9a25e65dafac6ec65967916":"getWebhook","7f540889be00b7aa8c6ff1edc5cd79ece876954fd3":"getInvite","7f60061b4b6be335eaa2facd1c5d8129b87f6923f4":"getActionClass","7f670a0537f96de8b5156e1b206124b2a990484370":"getApiKey","7f74bd40a1f82de833915085152910f3ebd525b356":"getTeam","7fb9a3e6cbebea226c9a3678f31bfebf532ca7321e":"getResponseNote","7fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1":"getTag","7fc6abb0838b6422ef7e81141fd6603883cd1990cf":"getDocument","7fc856fe5dd5f698d2f54dacf4280d447336780427":"getLanguage","7fcda0e6bf50febdf861015e25ebdf74068a488dde":"getContact","7fcfea9518c327899180b23cb3055005ba65cdef33":"getIntegration","7fdb06c584a2145e0f48be9ead409fc7f774731fde":"getEnvironment","7fdcbaf3445e783557d350b55d91be1398fafca7d3":"getInsight","7fe763f2c0d5f307cc75c26f23c693a54ac24a3112":"getProject","7ffb22c619704253744e9b5fea4eccca8b0808fb64":"getSegment"} */ 






















const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getActionClass = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (actionClassId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            actionClassId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            const actionClass = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.actionClass.findUnique({
                where: {
                    id: actionClassId
                },
                select: {
                    environmentId: true
                }
            });
            return actionClass;
        } catch (error) {
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(`Database error when fetching action`);
        }
    }, [
        `utils-getActionClass-${actionClassId}`
    ], {
        tags: [
            _formbricks_lib_actionClass_cache__WEBPACK_IMPORTED_MODULE_14__/* .actionClassCache */ .j.tag.byId(actionClassId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getApiKey = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (apiKeyId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            apiKeyId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZString */ .eI
        ]);
        if (!apiKeyId) {
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .InvalidInputError */ .oC("API key cannot be null or undefined.");
        }
        try {
            const apiKeyData = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.apiKey.findUnique({
                where: {
                    id: apiKeyId
                },
                select: {
                    environmentId: true
                }
            });
            return apiKeyData;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getApiKey-${apiKeyId}`
    ], {
        tags: [
            _lib_cache_api_key__WEBPACK_IMPORTED_MODULE_2__/* .apiKeyCache */ .m.tag.byId(apiKeyId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getEnvironment = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (environmentId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            environmentId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            const environment = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.environment.findUnique({
                where: {
                    id: environmentId
                },
                select: {
                    projectId: true
                }
            });
            return environment;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getEnvironment-${environmentId}`
    ], {
        tags: [
            _formbricks_lib_environment_cache__WEBPACK_IMPORTED_MODULE_15__/* .environmentCache */ .e.tag.byId(environmentId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getIntegration = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (integrationId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        try {
            const integration = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.integration.findUnique({
                where: {
                    id: integrationId
                },
                select: {
                    environmentId: true
                }
            });
            return integration;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getIntegration-${integrationId}`
    ], {
        tags: [
            _formbricks_lib_integration_cache__WEBPACK_IMPORTED_MODULE_16__/* .integrationCache */ .t.tag.byId(integrationId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getInvite = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (inviteId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            inviteId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZString */ .eI
        ]);
        try {
            const invite = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.invite.findUnique({
                where: {
                    id: inviteId
                },
                select: {
                    organizationId: true
                }
            });
            return invite;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getInvite-${inviteId}`
    ], {
        tags: [
            _lib_cache_invite__WEBPACK_IMPORTED_MODULE_4__/* .inviteCache */ .i.tag.byId(inviteId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getLanguage = async (languageId)=>{
    try {
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            languageId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        const language = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.language.findFirst({
            where: {
                id: languageId
            },
            select: {
                projectId: true
            }
        });
        if (!language) {
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .ResourceNotFoundError */ .CE("Language", languageId);
        }
        return language;
    } catch (error) {
        if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
        }
        throw error;
    }
};
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getProject = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (projectId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        try {
            const projectPrisma = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.project.findUnique({
                where: {
                    id: projectId
                },
                select: {
                    organizationId: true
                }
            });
            return projectPrisma;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getProject-${projectId}`
    ], {
        tags: [
            _formbricks_lib_project_cache__WEBPACK_IMPORTED_MODULE_17__/* .projectCache */ .E.tag.byId(projectId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getResponse = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (responseId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            responseId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            const response = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.response.findUnique({
                where: {
                    id: responseId
                },
                select: {
                    surveyId: true
                }
            });
            return response;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getResponse-${responseId}`
    ], {
        tags: [
            _formbricks_lib_response_cache__WEBPACK_IMPORTED_MODULE_18__/* .responseCache */ .Q.tag.byId(responseId),
            _formbricks_lib_responseNote_cache__WEBPACK_IMPORTED_MODULE_19__/* .responseNoteCache */ .S.tag.byResponseId(responseId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getResponseNote = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (responseNoteId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        try {
            const responseNote = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.responseNote.findUnique({
                where: {
                    id: responseNoteId
                },
                select: {
                    responseId: true
                }
            });
            return responseNote;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getResponseNote-${responseNoteId}`
    ], {
        tags: [
            _formbricks_lib_responseNote_cache__WEBPACK_IMPORTED_MODULE_19__/* .responseNoteCache */ .S.tag.byId(responseNoteId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getSurvey = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (surveyId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            surveyId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            const survey = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.survey.findUnique({
                where: {
                    id: surveyId
                },
                select: {
                    environmentId: true
                }
            });
            return survey;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getSurvey-${surveyId}`
    ], {
        tags: [
            _formbricks_lib_survey_cache__WEBPACK_IMPORTED_MODULE_20__/* .surveyCache */ .$.tag.byId(surveyId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getTag = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (id)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            id,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        const tag = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.tag.findUnique({
            where: {
                id
            },
            select: {
                environmentId: true
            }
        });
        return tag;
    }, [
        `utils-getTag-${id}`
    ], {
        tags: [
            _formbricks_lib_tag_cache__WEBPACK_IMPORTED_MODULE_21__/* .tagCache */ .J.tag.byId(id)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getWebhook = async (id)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            id,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            const webhook = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.webhook.findUnique({
                where: {
                    id
                },
                select: {
                    environmentId: true
                }
            });
            return webhook;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getWebhook-${id}`
    ], {
        tags: [
            _lib_cache_webhook__WEBPACK_IMPORTED_MODULE_6__/* .webhookCache */ .Q.tag.byId(id)
        ]
    })();
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getTeam = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (teamId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            teamId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZString */ .eI
        ]);
        try {
            const team = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.team.findUnique({
                where: {
                    id: teamId
                },
                select: {
                    organizationId: true
                }
            });
            return team;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getTeam-${teamId}`
    ], {
        tags: [
            _lib_cache_team__WEBPACK_IMPORTED_MODULE_5__/* .teamCache */ .g.tag.byId(teamId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getInsight = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (insightId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            insightId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            const insight = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.insight.findUnique({
                where: {
                    id: insightId
                },
                select: {
                    environmentId: true
                }
            });
            return insight;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getInsight-${insightId}`
    ], {
        tags: [
            _formbricks_lib_tag_cache__WEBPACK_IMPORTED_MODULE_21__/* .tagCache */ .J.tag.byId(insightId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getDocument = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (documentId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            documentId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            const document = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.document.findUnique({
                where: {
                    id: documentId
                },
                select: {
                    environmentId: true
                }
            });
            return document;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getDocument-${documentId}`
    ], {
        tags: [
            _formbricks_lib_tag_cache__WEBPACK_IMPORTED_MODULE_21__/* .tagCache */ .J.tag.byId(documentId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ isProjectPartOfOrganization = async (organizationId, projectId)=>{
    const project = await getProject(projectId);
    if (!project) {
        throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .ResourceNotFoundError */ .CE("Project", projectId);
    }
    return project.organizationId === organizationId;
};
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ isTeamPartOfOrganization = async (organizationId, teamId)=>{
    const team = await getTeam(teamId);
    if (!team) {
        throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .ResourceNotFoundError */ .CE("Team", teamId);
    }
    return team.organizationId === organizationId;
};
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getContact = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (contactId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            contactId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            return await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.contact.findUnique({
                where: {
                    id: contactId
                },
                select: {
                    environmentId: true
                }
            });
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getPerson-${contactId}`
    ], {
        tags: [
            _lib_cache_contact__WEBPACK_IMPORTED_MODULE_3__/* .contactCache */ .f.tag.byId(contactId)
        ]
    })());
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getSegment = (0,react__WEBPACK_IMPORTED_MODULE_8__.cache)(async (segmentId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_10__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_11__/* .validateInputs */ .C)([
            segmentId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_12__/* .ZId */ .i4
        ]);
        try {
            const segment = await _formbricks_database__WEBPACK_IMPORTED_MODULE_9__/* .prisma */ .z.segment.findUnique({
                where: {
                    id: segmentId
                },
                select: {
                    environmentId: true
                }
            });
            return segment;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_13__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `utils-getSegment-${segmentId}`
    ], {
        tags: [
            _formbricks_lib_cache_segment__WEBPACK_IMPORTED_MODULE_22__/* .segmentCache */ .C.tag.byId(segmentId)
        ]
    })());

(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_23__/* .ensureServerEntryExports */ .D)([
    getActionClass,
    getApiKey,
    getEnvironment,
    getIntegration,
    getInvite,
    getLanguage,
    getProject,
    getResponse,
    getResponseNote,
    getSurvey,
    getTag,
    getWebhook,
    getTeam,
    getInsight,
    getDocument,
    isProjectPartOfOrganization,
    isTeamPartOfOrganization,
    getContact,
    getSegment
]);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getActionClass, "7f60061b4b6be335eaa2facd1c5d8129b87f6923f4", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getApiKey, "7f670a0537f96de8b5156e1b206124b2a990484370", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getEnvironment, "7fdb06c584a2145e0f48be9ead409fc7f774731fde", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getIntegration, "7fcfea9518c327899180b23cb3055005ba65cdef33", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getInvite, "7f540889be00b7aa8c6ff1edc5cd79ece876954fd3", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getLanguage, "7fc856fe5dd5f698d2f54dacf4280d447336780427", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getProject, "7fe763f2c0d5f307cc75c26f23c693a54ac24a3112", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getResponse, "7f11f2efac37ac84796e6cb223722dbe2e808e177f", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getResponseNote, "7fb9a3e6cbebea226c9a3678f31bfebf532ca7321e", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getSurvey, "7f12957c3365cc2950bdc48f0118f82439eb6c23ec", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getTag, "7fc5117c6d27e507a6efd4e11ff01afa8b3c52f1a1", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getWebhook, "7f4f2c9c8b657cf906e9a25e65dafac6ec65967916", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getTeam, "7f74bd40a1f82de833915085152910f3ebd525b356", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getInsight, "7fdcbaf3445e783557d350b55d91be1398fafca7d3", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getDocument, "7fc6abb0838b6422ef7e81141fd6603883cd1990cf", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(isProjectPartOfOrganization, "7f36cf02b548a01d85112f587591e8c1e8390fa538", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(isTeamPartOfOrganization, "7f20db167926d501ff62b9525526548773c8a436d4", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getContact, "7fcda0e6bf50febdf861015e25ebdf74068a488dde", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getSegment, "7ffb22c619704253744e9b5fea4eccca8b0808fb64", null);


/***/ }),

/***/ 562147:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   _: () => (/* binding */ getProjectPermissionByUserId),
/* harmony export */   b: () => (/* binding */ getTeamRoleByTeamIdUserId)
/* harmony export */ });
/* harmony import */ var _lib_cache_team__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(753304);
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(896330);
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(645625);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _formbricks_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(482859);
/* harmony import */ var _formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(48165);
/* harmony import */ var _formbricks_lib_membership_cache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(920318);
/* harmony import */ var _formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(472749);
/* harmony import */ var _formbricks_types_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(552224);
/* harmony import */ var _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(207798);










const getProjectPermissionByUserId = (0,react__WEBPACK_IMPORTED_MODULE_2__.cache)(async (userId, projectId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_4__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_5__/* .validateInputs */ .C)([
            userId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_6__/* .ZString */ .eI
        ], [
            projectId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_6__/* .ZString */ .eI
        ]);
        try {
            const projectMemberships = await _formbricks_database__WEBPACK_IMPORTED_MODULE_3__/* .prisma */ .z.projectTeam.findMany({
                where: {
                    projectId,
                    team: {
                        teamUsers: {
                            some: {
                                userId
                            }
                        }
                    }
                }
            });
            if (!projectMemberships) return null;
            let highestPermission = null;
            for (const membership of projectMemberships){
                if (membership.permission === "manage") {
                    highestPermission = "manage";
                } else if (membership.permission === "readWrite" && highestPermission !== "manage") {
                    highestPermission = "readWrite";
                } else if (membership.permission === "read" && highestPermission !== "manage" && highestPermission !== "readWrite") {
                    highestPermission = "read";
                }
            }
            return highestPermission;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_1__.Prisma.PrismaClientKnownRequestError) {
                console.error(error);
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_7__/* .DatabaseError */ .a$(error.message);
            }
            throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_7__/* .UnknownError */ .Bk("Error while fetching membership");
        }
    }, [
        `getProjectPermissionByUserId-${userId}-${projectId}`
    ], {
        tags: [
            _lib_cache_team__WEBPACK_IMPORTED_MODULE_0__/* .teamCache */ .g.tag.byUserId(userId),
            _lib_cache_team__WEBPACK_IMPORTED_MODULE_0__/* .teamCache */ .g.tag.byProjectId(projectId)
        ]
    })());
const getTeamRoleByTeamIdUserId = (0,react__WEBPACK_IMPORTED_MODULE_2__.cache)(async (teamId, userId)=>(0,_formbricks_lib_cache__WEBPACK_IMPORTED_MODULE_4__/* .cache */ .P)(async ()=>{
        (0,_formbricks_lib_utils_validate__WEBPACK_IMPORTED_MODULE_5__/* .validateInputs */ .C)([
            teamId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_6__/* .ZId */ .i4
        ], [
            userId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_6__/* .ZId */ .i4
        ]);
        try {
            const teamUser = await _formbricks_database__WEBPACK_IMPORTED_MODULE_3__/* .prisma */ .z.teamUser.findUnique({
                where: {
                    teamId_userId: {
                        teamId,
                        userId
                    }
                }
            });
            if (!teamUser) {
                return null;
            }
            return teamUser.role;
        } catch (error) {
            if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_1__.Prisma.PrismaClientKnownRequestError) {
                throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_7__/* .DatabaseError */ .a$(error.message);
            }
            throw error;
        }
    }, [
        `getTeamMembershipByTeamIdUserId-${teamId}-${userId}`
    ], {
        tags: [
            _lib_cache_team__WEBPACK_IMPORTED_MODULE_0__/* .teamCache */ .g.tag.byId(teamId),
            _formbricks_lib_membership_cache__WEBPACK_IMPORTED_MODULE_8__/* .membershipCache */ .r.tag.byUserId(userId)
        ]
    })());


/***/ }),

/***/ 91638:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InviteMembers: () => (/* binding */ InviteMembers)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const InviteMembers = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call InviteMembers() from the server but InviteMembers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/apps/web/modules/setup/organization/[organizationId]/invite/components/invite-members.tsx",
"InviteMembers",
);

/***/ }),

/***/ 465382:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   j: () => (/* binding */ actionClassCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const actionClassCache = {
    tag: {
        byNameAndEnvironmentId (name, environmentId) {
            return `environments-${environmentId}-actionClass-${name}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-actionClasses`;
        },
        byId (id) {
            return `actionClasses-${id}`;
        }
    },
    revalidate ({ environmentId, name, id }) {
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (name && environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byNameAndEnvironmentId(name, environmentId));
        }
    }
};


/***/ }),

/***/ 857431:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ segmentCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const segmentCache = {
    tag: {
        byId (id) {
            return `segment-${id}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-segements`;
        },
        byAttributeKey (attributeKey) {
            return `attribute-${attributeKey}-segements`;
        }
    },
    revalidate ({ id, environmentId, attributeKey }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
        if (attributeKey) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byAttributeKey(attributeKey));
        }
    }
};


/***/ }),

/***/ 646426:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ integrationCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const integrationCache = {
    tag: {
        byId (id) {
            return `integrations-${id}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-integrations`;
        },
        byEnvironmentIdAndType (environmentId, type) {
            return `environments-${environmentId}-type-${type}-integrations`;
        }
    },
    revalidate ({ id, environmentId, type }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
        if (environmentId && type) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentIdAndType(environmentId, type));
        }
    }
};


/***/ }),

/***/ 895856:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ getMembershipRole),
/* harmony export */   U: () => (/* binding */ getMembershipByUserIdOrganizationIdAction)
/* harmony export */ });
/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(286055);
/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(770767);
/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(207798);
/* harmony import */ var _organization_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(167440);
/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(575361);
/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(429931);
/* __next_internal_action_entry_do_not_use__ {"7f7e22b5cdd09e77d8f7cd2b1aa54674e257258f9f":"getMembershipRole","7fb1462c71ceac762f633a204a6fc049ffbeab8261":"getMembershipByUserIdOrganizationIdAction"} */ 





const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getMembershipByUserIdOrganizationIdAction = async (environmentId, userId)=>{
    const organization = await (0,_organization_service__WEBPACK_IMPORTED_MODULE_2__/* .getOrganizationByEnvironmentId */ .TK)(environmentId);
    if (!organization) {
        throw new Error("Organization not found");
    }
    const currentUserMembership = await getMembershipRole(userId, organization.id);
    return currentUserMembership;
};
const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ getMembershipRole = async (userId, organizationId)=>{
    const membership = await (0,_service__WEBPACK_IMPORTED_MODULE_3__/* .getMembershipByUserIdOrganizationId */ .Y)(userId, organizationId);
    if (!membership) {
        throw new _formbricks_types_errors__WEBPACK_IMPORTED_MODULE_4__/* .AuthorizationError */ .yi("Not authorized");
    }
    return membership.role;
};

(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_5__/* .ensureServerEntryExports */ .D)([
    getMembershipByUserIdOrganizationIdAction,
    getMembershipRole
]);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getMembershipByUserIdOrganizationIdAction, "7fb1462c71ceac762f633a204a6fc049ffbeab8261", null);
(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__/* .registerServerReference */ .A)(getMembershipRole, "7f7e22b5cdd09e77d8f7cd2b1aa54674e257258f9f", null);


/***/ }),

/***/ 159570:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ getAccessFlags)
/* harmony export */ });
const getAccessFlags = (role)=>{
    const isOwner = role === "owner";
    const isManager = role === "manager";
    const isBilling = role === "billing";
    const isMember = role === "member";
    return {
        isManager,
        isOwner,
        isBilling,
        isMember
    };
};


/***/ }),

/***/ 937440:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   f: () => (/* binding */ verifyUserRoleAccess),
/* harmony export */   h: () => (/* binding */ canUserAccessOrganization)
/* harmony export */ });
/* harmony import */ var _formbricks_types_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(733735);
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(794356);
/* harmony import */ var _membership_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(377968);
/* harmony import */ var _membership_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(159570);
/* harmony import */ var _organization_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(530190);
/* harmony import */ var _utils_validate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(860988);
/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(353687);








const canUserAccessOrganization = (userId, organizationId)=>(0,_cache__WEBPACK_IMPORTED_MODULE_0__/* .cache */ .P)(async ()=>{
        (0,_utils_validate__WEBPACK_IMPORTED_MODULE_1__/* .validateInputs */ .C)([
            userId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_2__/* .ZId */ .i4
        ], [
            organizationId,
            _formbricks_types_common__WEBPACK_IMPORTED_MODULE_2__/* .ZId */ .i4
        ]);
        try {
            const userOrganizations = await (0,_service__WEBPACK_IMPORTED_MODULE_3__/* .getOrganizationsByUserId */ .s8)(userId);
            const givenOrganizationExists = userOrganizations.filter((organization)=>organization.id = organizationId);
            if (!givenOrganizationExists) {
                return false;
            }
            return true;
        } catch (error) {
            throw error;
        }
    }, [
        `canUserAccessOrganization-${userId}-${organizationId}`
    ], {
        tags: [
            _organization_cache__WEBPACK_IMPORTED_MODULE_4__/* .organizationCache */ .S.tag.byId(organizationId)
        ]
    })();
const verifyUserRoleAccess = async (organizationId, userId)=>{
    const accessObject = {
        hasCreateOrUpdateAccess: true,
        hasDeleteAccess: true,
        hasCreateOrUpdateMembersAccess: true,
        hasDeleteMembersAccess: true,
        hasBillingAccess: true
    };
    const currentUserMembership = await (0,_membership_service__WEBPACK_IMPORTED_MODULE_5__/* .getMembershipByUserIdOrganizationId */ .Y)(userId, organizationId);
    const { isOwner, isManager } = (0,_membership_utils__WEBPACK_IMPORTED_MODULE_6__/* .getAccessFlags */ .c)(currentUserMembership?.role);
    if (!isOwner) {
        accessObject.hasCreateOrUpdateAccess = false;
        accessObject.hasDeleteAccess = false;
        accessObject.hasCreateOrUpdateMembersAccess = false;
        accessObject.hasDeleteMembersAccess = false;
        accessObject.hasBillingAccess = false;
    }
    if (isManager) {
        accessObject.hasCreateOrUpdateMembersAccess = true;
        accessObject.hasDeleteMembersAccess = true;
        accessObject.hasBillingAccess = true;
    }
    return accessObject;
};


/***/ }),

/***/ 813255:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* binding */ responseCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const responseCache = {
    tag: {
        byId (responseId) {
            return `responses-${responseId}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-responses`;
        },
        byContactId (contactId) {
            return `contacts-${contactId}-responses`;
        },
        byEnvironmentIdAndUserId (environmentId, userId) {
            return `environments-${environmentId}-users-${userId}-responses`;
        },
        bySingleUseId (surveyId, singleUseId) {
            return `surveys-${surveyId}-singleUse-${singleUseId}-responses`;
        },
        bySurveyId (surveyId) {
            return `surveys-${surveyId}-responses`;
        }
    },
    revalidate ({ environmentId, contactId, id, singleUseId, surveyId, userId }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (contactId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byContactId(contactId));
        }
        if (surveyId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.bySurveyId(surveyId));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
        if (environmentId && userId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentIdAndUserId(environmentId, userId));
        }
        if (surveyId && singleUseId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.bySingleUseId(surveyId, singleUseId));
        }
    }
};


/***/ }),

/***/ 667883:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: () => (/* binding */ responseNoteCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const responseNoteCache = {
    tag: {
        byId (id) {
            return `responseNotes-${id}`;
        },
        byResponseId (responseId) {
            return `responses-${responseId}-responseNote`;
        }
    },
    revalidate ({ id, responseId }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (responseId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byResponseId(responseId));
        }
    }
};


/***/ }),

/***/ 710528:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ surveyCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const surveyCache = {
    tag: {
        byId (id) {
            return `surveys-${id}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-surveys`;
        },
        byAttributeClassId (attributeClassId) {
            return `attributeFilters-${attributeClassId}-surveys`;
        },
        byActionClassId (actionClassId) {
            return `actionClasses-${actionClassId}-surveys`;
        },
        bySegmentId (segmentId) {
            return `segments-${segmentId}-surveys`;
        },
        byResultShareKey (resultShareKey) {
            return `surveys-resultShare-${resultShareKey}`;
        }
    },
    revalidate ({ id, attributeClassId, actionClassId, environmentId, segmentId, resultShareKey }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (attributeClassId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byAttributeClassId(attributeClassId));
        }
        if (actionClassId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byActionClassId(actionClassId));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
        if (segmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.bySegmentId(segmentId));
        }
        if (resultShareKey) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byResultShareKey(resultShareKey));
        }
    }
};


/***/ }),

/***/ 366836:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ tagCache)
/* harmony export */ });
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310256);
/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_0__);

const tagCache = {
    tag: {
        byId (id) {
            return `tags-${id}`;
        },
        byEnvironmentId (environmentId) {
            return `environments-${environmentId}-tags`;
        }
    },
    revalidate ({ id, environmentId }) {
        if (id) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byId(id));
        }
        if (environmentId) {
            (0,next_cache__WEBPACK_IMPORTED_MODULE_0__.revalidateTag)(this.tag.byEnvironmentId(environmentId));
        }
    }
};


/***/ }),

/***/ 311159:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  u: () => (/* binding */ t)
});

// EXTERNAL MODULE: ../../node_modules/react-hook-form/dist/index.esm.mjs
var index_esm = __webpack_require__(200667);
;// ../../node_modules/@hookform/resolvers/dist/resolvers.mjs
const s=(e,s,o)=>{if(e&&"reportValidity"in e){const r=(0,index_esm/* get */.Jt)(o,s);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},resolvers_o=(t,e)=>{for(const o in e.fields){const r=e.fields[o];r&&r.ref&&"reportValidity"in r.ref?s(r.ref,o,t):r.refs&&r.refs.forEach(e=>s(e,o,t))}},resolvers_r=(s,r)=>{r.shouldUseNativeValidation&&resolvers_o(s,r);const f={};for(const o in s){const n=(0,index_esm/* get */.Jt)(r.fields,o),a=Object.assign(s[o]||{},{ref:n&&n.ref});if(i(r.names||Object.keys(s),o)){const s=Object.assign({},(0,index_esm/* get */.Jt)(f,o));(0,index_esm/* set */.hZ)(s,"root",a),(0,index_esm/* set */.hZ)(f,o,s)}else (0,index_esm/* set */.hZ)(f,o,a)}return f},i=(t,e)=>t.some(t=>t.startsWith(e+"."));
//# sourceMappingURL=resolvers.mjs.map

;// ../../node_modules/@hookform/resolvers/zod/dist/zod.mjs
var n=function(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(".");if(!n[a])if("unionErrors"in t){var u=t.unionErrors[0].errors[0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if("unionErrors"in t&&t.unionErrors.forEach(function(e){return e.errors.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=(0,index_esm/* appendErrors */.Gb)(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n},t=function(o,t,s){return void 0===s&&(s={}),function(i,a,u){try{return Promise.resolve(function(e,n){try{var a=Promise.resolve(o["sync"===s.mode?"parse":"parseAsync"](i,t)).then(function(e){return u.shouldUseNativeValidation&&resolvers_o({},u),{errors:{},values:s.raw?i:e}})}catch(r){return n(r)}return a&&a.then?a.then(void 0,n):a}(0,function(r){if(function(r){return Array.isArray(null==r?void 0:r.errors)}(r))return{values:{},errors:resolvers_r(n(r.errors,!u.shouldUseNativeValidation&&"all"===u.criteriaMode),u)};throw r}))}catch(r){return Promise.reject(r)}}};
//# sourceMappingURL=zod.module.js.map


/***/ }),

/***/ 645237:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Toaster: () => (/* binding */ Toaster)
/* harmony export */ });
/* unused harmony exports CheckmarkIcon, ErrorIcon, LoaderIcon, ToastBar, ToastIcon, resolveValue, toast, useToaster, useToasterStore */
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(672771);

const CheckmarkIcon = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call CheckmarkIcon() from the server but CheckmarkIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"CheckmarkIcon",
);const ErrorIcon = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call ErrorIcon() from the server but ErrorIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"ErrorIcon",
);const LoaderIcon = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call LoaderIcon() from the server but LoaderIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"LoaderIcon",
);const ToastBar = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call ToastBar() from the server but ToastBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"ToastBar",
);const ToastIcon = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call ToastIcon() from the server but ToastIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"ToastIcon",
);const Toaster = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"Toaster",
);/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call the default export of \"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"default",
));
const resolveValue = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call resolveValue() from the server but resolveValue is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"resolveValue",
);const toast = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call toast() from the server but toast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"toast",
);const useToaster = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useToaster() from the server but useToaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"useToaster",
);const useToasterStore = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useToasterStore() from the server but useToasterStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/kdy1/projects/formbricks/node_modules/react-hot-toast/dist/index.mjs",
"useToasterStore",
);

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [8079,3073,7863,5069,255,9759,6626,2021,2195,1469,5294,4900,2415,3687,7864,8046,8015], () => (__webpack_exec__(509227)));
module.exports = __webpack_exports__;

})();